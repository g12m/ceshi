webpackJsonp([9],[function(e,t,a){(function(t){"use strict";e.exports=t.MK=a(136)}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(14),o=n(r),s=a(23),d=n(s),u=a(38),c=n(u),f=a(46),h=n(f),p=o["default"].createClass({displayName:"TextBox",mixins:[h["default"]],getInitialState:function(){return{placeholder:!this.props.value,focus:!1}},componentWillUpdate:function(e){this.setState({placeholder:!e.value})},getContent:function(){return d["default"].findDOMNode(this.refs.input)},handleStopPop:function(e){e.stopPropagation()},handleMouseDown:function(e){e.preventDefault(),d["default"].findDOMNode(this.refs.input).focus()},handleFocus:function(e){this.setState({focus:!0}),this.props.onFocus&&this.props.onFocus(e)},handleBlur:function(e){this.setState({focus:!1}),this.props.onBlur&&this.props.onBlur(e)},render:function(){var e=this.props,t=e.className,a=e.style,n=e.themeColor,r=e.iconStyle,s=e.icon,d=e.placeholder,u=e.component,f=(e.onFocus,e.onBlur,i(e,["className","style","themeColor","iconStyle","icon","placeholder","component","onFocus","onBlur"])),h=this.state.placeholder,p=u||"input",m={};return this.state.focus&&(m={color:n}),t.indexOf("error")>-1&&(m={color:"#DA2824"}),o["default"].createElement("div",{className:(0,c["default"])(t,{is_focus:this.state.focus,"has-icon":s}),style:a},s?o["default"].createElement("i",{key:"ctIcon",className:"iconfont fbi_icon",style:_.assign({},r,m)},s):null,h&&d?o["default"].createElement("span",{className:"fbi_placeholder",style:{left:a.paddingLeft||0},onMouseDown:this.handleMouseDown},d):null,o["default"].createElement(p,l({className:"fbi_input aria-content",tabIndex:0},f,{ref:"input",style:{fontSize:a.fontSize,lineHeight:a.lineHeight},autoComplete:"off",spellCheck:!1,onMouseDown:f.onMouseDown,onKeyDown:this.handleStopPop,onFocus:this.handleFocus,onBlur:this.handleBlur})))}});t["default"]=p,e.exports=t["default"]},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(9),m=a(52),g=n(m),v=a(57),y=a(46),b=n(y);t["default"]=l["default"].createClass({displayName:"Component(Input)",mixins:[b["default"],c["default"]],handleWeChatScan:function(){var e=this;window.wx.scanQRCode({desc:"scanQRCode desc",needResult:1,success:function(t){t&&t.resultStr&&h["default"].dispatch({type:"setValue",id:e.props.data.id,value:t.resultStr})}})},handleChange:function(e){h["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){h["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=this.formStyle(),r=i.tipsStyle;if(1!==t.isWordLimit)return null;var s=null,u=null,c=!1,f=(n||[]).indexOf("tip")>-1;return d["default"].isNumber(t.wordLimitFrom)&&d["default"].isNumber(t.wordLimitTo)?(s=[l["default"].createElement("span",{className:(0,o["default"])("fbc_tip_input",{error:f}),key:"inputLength"},(a||"").length),l["default"].createElement("span",{key:"tipContent"},"/"+t.wordLimitFrom+"~"+t.wordLimitTo)],u=p.lang.ariaInputWordRange({from:t.wordLimitFrom,to:t.wordLimitTo})):d["default"].isNumber(t.wordLimitFrom)?(c=!0,s=p.lang.cInputWordLimitFormFunc({num:t.wordLimitFrom}),u=p.lang.ariaInputWordLimitFormFunc({from:t.wordLimitFrom})):d["default"].isNumber(t.wordLimitTo)&&(s=[l["default"].createElement("span",{className:(0,o["default"])("fbc_tip_input",{error:f}),key:"inputLength"},(a||"").length),l["default"].createElement("span",{key:"tipContent"},"/"+t.wordLimitTo)],u=p.lang.ariaInputWordLimitToFunc({to:t.wordLimitTo})),l["default"].createElement("p",{className:(0,o["default"])("fbc_tips",{error:f&&c}),"aria-label":u,style:r,id:"tips"+t.id},s)},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.style,u=e.itemNum,c=e.themeColor,f=this.formStyle(),h=f.inputStyle,m=f.textAreaStyle,y=f.inputWithIconStyle,b=f.inputIconStyle,C="input",S=0===+t.isOnlySingle;S&&(C="textarea");var _=v.FIELD_INFO_MAPPING[t.type],E=10*(r?10:t.cpWidth||8),w={},N={};r||2!==+t.cpLayout||(w={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},N={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(w.width="auto",w.maxWidth=105-E+"%",N.width=E-5+"%",E=100));var k=[];return k=n&&n.length>0?["err"+t.id,"title"+t.id,"subtitle"+t.id,"tips"+t.id,"placehoder"+t.id]:["title"+t.id,"subtitle"+t.id,"tips"+t.id,"placehoder"+t.id],l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:w},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:N},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp",{isUseWeChatScan:t.isUseWeChatScan&&window.IN_WECHAT}),style:{width:E+"%"}},l["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+t.id,"aria-label":(S?p.lang.ariaMultiLine:"")+(t.placeholder||"")+"."}),l["default"].createElement(g["default"],{component:C,className:(0,o["default"])("fbc_input",{textarea:S,error:n&&n.length>0}),tabIndex:1,"aria-labelledby":k.join(" "),"aria-required":t.isRequired,ref:"input",type:"text",spellCheck:!1,autoComplete:"off",icon:"input"!==t.type&&_?_.icon:null,iconStyle:b,themeColor:s.themeColor,style:"input"!==t.type&&_?y:S?m:h,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:t.placeholder||"",value:a||""}),t.isUseWeChatScan&&window.IN_WECHAT?l["default"].createElement("a",{className:"iconfont fbc_scanIcon",style:d["default"].assign(b,{color:c||"#2D8FD9"}),onClick:this.handleWeChatScan},String.fromCharCode(58960)):null)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return s["default"].createElement("a",{className:"fbc_descriptionLink",href:(0,p.linkify)(e.data.url),tabIndex:1,target:"_blank",key:"linkDom"+e.key},e.content,s["default"].createElement("span",{className:"iconfont"},String.fromCharCode(59086)))}Object.defineProperty(t,"__esModule",{value:!0});var l=a(8),r=n(l),o=a(14),s=n(o),d=a(38),u=n(d),c=a(50),f=n(c),h=a(29),p=(n(h),a(33)),m=a(43),g=a(56),v=a(9),y=a(42),b=n(y),C=a(40),S=n(C),_=a(37),E=["",g.serialNumberGenerator.numberSimple,g.serialNumberGenerator.numberRightBrackets,g.serialNumberGenerator.numberAllBrackets,g.serialNumberGenerator.numberAllMiddleBrackets,g.serialNumberGenerator.numberWithBar,g.serialNumberGenerator.cnNumberSimple,g.serialNumberGenerator.cnNumberAllBrackets,g.serialNumberGenerator.romanNumberUpper,g.serialNumberGenerator.romanNumberLower,g.serialNumberGenerator.numberWithQ],w=(0,_.crateTextRender)({entity:{LINK:{component:i}}});t["default"]={getRawContent:function(e){return r["default"].isString(e)?e:r["default"].isArray(e)?e.join("\n"):void 0},renderRichContent:function(e,t){return t&&(S["default"].getExt("renderRichText")||(t=null)),w.render(e,t)},handleAddMobile:function(){b["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},renderTitle:function(e,t){var a=null,n=this.props,i=n.showQuestionNo,l=n.num,r=n.questionNoType;e.isRequired&&(a=s["default"].createElement("span",{className:"fbc_required",tabIndex:-1,"aria-label":"("+v.lang.ariaRequired+")"},"*"));var o=null;return t&&(o=s["default"].createElement("a",{className:"iconfont fbc_addIcon",tabIndex:1,role:"button",title:v.lang.cMultiInputInsert,onClick:this.handleAddMobile},String.fromCharCode(58979))),s["default"].createElement("p",{className:(0,u["default"])("fbc_title",{"has-addIcon":t}),style:this.formStyle().titleStyle,id:"title"+e.id},i&&l?E[r](l):null,this.renderRichContent(e.title||"",e.title_style||null),a,t?String.fromCharCode(160):"",o)},renderSubtitle:function(e,t){if(!e.subtitle||0===e.subtitle.length||1===e.subtitle.length&&!e.subtitle[0])return null;var a=null;return t&&(a=s["default"].createElement("a",{className:"iconfont fbc_addIcon",title:v.lang.cMultiInputInsert,onClick:this.handleAddMobile},String.fromCharCode(58979))),s["default"].createElement("p",{className:(0,u["default"])("fbc_describe",{"has-addIcon":t}),style:this.formStyle().describeStyle,id:"subtitle"+e.id},this.renderRichContent(e.subtitle||"",e.subtitle_style||null),t?String.fromCharCode(160):"",a)},renderError:function(e){var t=this.props.data;if(!e)return null;var a=r["default"].without(e,"tip","tipHint");return 0===a.length?null:s["default"].createElement("p",{className:"fbc_errorTips",id:"err"+t.id},(0,m.getErrorContent)(a[0],t.id))},formStyle:function(){var e=this.props,t=e.style,a=e.data,n=e.isMobile,i=t.lineHeight/10,l=t.themeColor,o=t.bodyStyle||{},s=t.submitStyle||{},d=["","left","center","right"],u={textAlign:d[a.titleAlign],lineHeight:i+(n?.2:0),fontSize:(o.titleFontSize||16)+(n?1:0),fontWeight:o.titleFontWeight?"bold":"normal",color:o.titleColor},c={textAlign:d[a.subTitleAlign||a.picSubTitleAlign],lineHeight:i,fontSize:o.describeFontSize,fontWeight:o.describeFontWeight?"bold":"normal",color:o.describeColor},h=f["default"].convertToRGBObj.fromHex(o.describeColor||"#666666"),p={lineHeight:i,fontSize:(o.describeFontSize||14)-2,color:"rgba("+[h.r,h.g,h.b,.7]+")"},m={lineHeight:i,fontSize:o.optionFontSize},g={height:Math.floor((i||1.4)*(o.optionFontSize||14)+12),lineHeight:i,fontSize:o.optionFontSize},v={lineHeight:i,fontSize:o.optionFontSize,color:s.fontColor,backgroundColor:s.btnColor},y={lineHeight:i,fontSize:o.optionFontSize,color:o.describeColor},b=r["default"].assign({},g,{paddingLeft:Math.max(14,o.optionFontSize||14)*(16/14)+6}),C=f["default"].convertToRGBObj.fromHex(l||"#2D8FD9"),S={height:Math.floor((i||1.4)*(o.optionFontSize||14)+10)+"px",lineHeight:Math.floor((i||1.4)*(o.optionFontSize||14)+10)+"px",fontSize:Math.max(16,o.optionFontSize||14),color:"rgba("+[C.r,C.g,C.b,.6]+")"},_={lineHeight:i,fontSize:o.optionFontSize,fontWeight:o.optionFontWeight?"bold":"normal",color:o.optionColor},E={fontSize:(o.optionFontSize||14)-2,color:o.describeColor||"#666666"},w={minHeight:Math.floor((i||1.4)*(o.optionFontSize||14)+10),lineHeight:i+(n?.2:0),fontSize:(o.optionFontSize||14)+(n?1:0),fontWeight:o.optionFontWeight?"bold":"normal",color:o.optionColor},N={fontSize:(o.optionFontSize||14)-2,fontWeight:"normal",color:"rgba("+[h.r,h.g,h.b,.7]+")"},k={height:Math.floor((i||1.4)*(o.optionFontSize||14)+12),lineHeight:i,fontSize:o.optionFontSize,fontWeight:o.optionFontWeight?"bold":"normal"},I={height:Math.floor((i||1.4)*(o.optionFontSize||14)+12),lineHeight:i,fontSize:o.optionFontSize,fontWeight:o.optionFontWeight?"bold":"normal"},T={lineHeight:i,fontSize:o.optionFontSize,fontWeight:o.optionFontWeight?"bold":"normal"},M={fontSize:s.submitFontSize,fontWeight:s.fontWeight?"bold":"normal",color:s.fontColor,backgroundColor:s.btnColor},x={fontSize:s.submitFontSize,fontWeight:s.fontWeight?"bold":"normal"};return n&&(g.height+=6,b.height+=6,S.height=Math.floor((i||1.4)*(o.optionFontSize||14)+15)+"px",S.lineHeight=Math.floor((i||1.4)*(o.optionFontSize||14)+15)+"px",k.height+=6),{titleStyle:u,describeStyle:c,tipsStyle:p,textAreaStyle:m,inputStyle:g,inputUnitStyle:y,inputWithIconStyle:b,inputIconStyle:S,inputBtnStyle:v,commodityNameStyle:_,commodityDescribeStyle:E,optionStyle:w,optionTipsStyle:N,selectStyle:k,selectPlaceholderStyle:I,selectArrowStyle:T,buttonStyle:M,buttonDisabledStyle:x}}},e.exports=t["default"]},function(e,t){"use strict";function a(e){e=""+e;var t=["〇","一","二","三","四","五","六","七","八","九"];return e.split("").map(function(e){return t[e]}).join("")}function n(e){for(var t="",a=["ↂ","Mↂ","ↁ","Mↁ","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],n=[1e4,9e3,5e3,4e3,1e3,900,500,400,100,90,50,40,10,9,5,4,1],i=0;0!=e;++i)for(;e>=n[i];)e-=n[i],t+=a[i];return t}function i(e){var t="",a=Math.floor(Math.round(10*e/27)/10),n=e-26*a;return a>0&&(t=String.fromCharCode(a+64)),n>0&&(t+=String.fromCharCode(n+64)),t}Object.defineProperty(t,"__esModule",{value:!0});t.serialNumberGenerator={numberSimple:function(e){return e+". "},numberRightBrackets:function(e){return e+") "},numberAllBrackets:function(e){return"("+e+") "},numberAllMiddleBrackets:function(e){return"["+e+"] "},numberWithBar:function(e){return"-"+e+"- "},cnNumberSimple:function(e){return a(e)+"、"},cnNumberAllBrackets:function(e){return"（"+a(e)+"）"},romanNumberLower:function(e){return n(e).toLowerCase()+". "},romanNumberUpper:function(e){return n(e).toUpperCase()+". "},alphaNumberLower:function(e){return i(e).toLowerCase()+". "},alphaNumberUpper:function(e){return i(e).toUpperCase()+". "},numberWithQ:function(e){return"Q"+e+". "}}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){switch(e){case"1":return b.serialNumberGenerator.alphaNumberUpper(t);case"2":return b.serialNumberGenerator.alphaNumberLower(t);case"3":return b.serialNumberGenerator.numberSimple(t);case"4":return b.serialNumberGenerator.romanNumberUpper(t);default:return""}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(14),r=n(l),o=a(38),s=n(o),d=a(22),u=(n(d),a(8)),c=n(u),f=a(55),h=n(f),p=a(59),m=a(52),g=n(m),v=a(42),y=n(v),b=a(56),C=a(43),S=a(9),_=a(46),E=n(_);t["default"]=r["default"].createClass({displayName:"Component(Radio&Checkbox)",mixins:[E["default"],h["default"]],componentDidMount:function(){this.unsubscribe=y["default"].addChangeListener(this.handleARIA_stateChange)},componentDidUpdate:function(){var e=this;this.refocus&&!function(){var t=e.refs["item"+e.refocus];e.refocus=null,t&&(t.blur(),window.setTimeout(function(){t&&t.focus()},10))}()},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleARIA_stateChange:function(e){this.ariaFocus&&"setSelector"===e.type&&(this.refocus=e.value),this.ariaFocus=!1},currentLayout:function(){var e=this.props.isMobile,t=this.props.data,a=t.optionsLayout;return e&&(a=Math.min(2,a||0),t.isAfterInput&&(a=0),t.isLimitOptions&&t.isShowOptionLimit&&t.optionsQuotaInfo&&(a=0)),a},isFill:function(e,t){function a(e,t){return n&&e?t:e}var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(c["default"].isArray(e)){for(var i=0,l=e.length;i<l;i++)if(c["default"].isObject(e[i])){if(e[i].id===t)return a(!0,e[i])}else if(e[i]===t)return a(!0,e[i]);return!1}return a(e===t,e)},handleSelectOption:function(e){this.refocus=null;var t=this.props.data;y["default"].dispatch({type:"setSelector",id:t.id,value:e,isCheckbox:"checkbox"===t.type||t.isCheckbox})},handleARIA_SelectOption:function(e,t){13!==t.keyCode&&32!==t.keyCode||(this.ariaFocus=!0,this.handleSelectOption(e))},handleARIA_StopPop:function(e){e.stopPropagation()},handleOptionInputMouseDown:function(e){e.stopPropagation()},handleOptionInputClick:function(e){e.stopPropagation()},handleOptionInputChange:function(e,t){var a=this.props.data;y["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:e,value:t.target.value})},handleOptionInputBlur:function(e,t){var a=this.props.data;y["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:e,value:t.target.value})},renderOptionInput:function(e,t,a,n){var i=this.props.isMobile,l=this.formStyle(),o=l.inputStyle,d=r["default"].createElement(g["default"],{component:"input",className:(0,s["default"])("fbc_input","fbc_optionInput",{error:a}),type:"text",key:e+"input",tabIndex:1,"aria-invalid":a,"aria-describedby":["opt"+e,"optionInfoAdd"+e].join(" "),"aria-required":n,style:o,defaultValue:t,onMouseDown:this.handleOptionInputMouseDown,onClick:this.handleOptionInputClick,onKeyDown:this.handleARIA_StopPop,onChange:this.handleOptionInputChange.bind(this,e),onBlur:this.handleOptionInputBlur.bind(this,e)}),u=r["default"].createElement("span",{className:"aria-optionInput-content-add","aria-label":S.lang.ariaOptionContentAdd+(n?"("+S.lang.ariaRequired+")":""),id:"optionInfoAdd"+e});return i?r["default"].createElement("div",{className:"fbc_optionInputWrapper",key:e+"inputWrapper"},u,d):[u,d]},renderOptions:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,l=e.isMobile,o=e.mode,d=this.formStyle(),u=d.optionStyle,f=d.optionTipsStyle,h=t.options||[],m=[],g=!1;n&&n.indexOf("inputRequired")>-1&&(g=!0,m=(0,C.getErrorInfo)("inputRequired",t.id));var v="checkbox"===t.type||t.isCheckbox,y=v?p.CommonCheckbox:p.CommonRadio,b=[],_=null,E=0,w=!1;v&&1===t.isLimitChooseNum&&void 0!==t.chooseNumTo&&""!==t.chooseNumTo&&a&&a.length>=t.chooseNumTo&&(w=!0);for(var N=this.currentLayout(),k=0,I=h.length;k<I;k++)if(_=h[k],1!==o||_.sId){var T=this.isFill(a,_.sId),M=this.isFill(a,_.sId,!0),x=!1,D=null;if(t.isLimitOptions&&t.optionsQuotaInfo&&_.sId in t.optionsQuotaInfo){var P=t.optionsQuotaInfo[_.sId],O=null;if(O=c["default"].isNumber(P[1])?P[1]:null,null!==O){var L=O-P[0];if(L<=0&&1===t.isHideFullOption)continue;L<=0&&(x=!0),t.isShowOptionLimit?D=r["default"].createElement("span",{className:"fbc_optionTips",style:f},S.lang.cQuotaRemainingFunc({remaining:L>0?L:0})):x&&(D=r["default"].createElement("span",{className:"fbc_optionTips",style:c["default"].assign({},f,{color:"#ccc"})},S.lang.cQuotaRemainingFull))}}E++,b.push(r["default"].createElement("li",{key:"item"+k,className:(0,s["default"])("fbc_optionsLi","aria-content",{"has-input":t.isAfterInput&&T,clearB:E%N===1}),tabIndex:1,role:v?"checkbox":"radio","aria-checked":T,checked:T,"aria-disabled":!T&&(w||x),"aria-label":_.value,ref:"item"+_.sId,id:"opt"+_.sId,onClick:!w&&!x||T?this.handleSelectOption.bind(this,_.sId):null,onKeyDown:!w&&!x||T?this.handleARIA_SelectOption.bind(this,_.sId):null},r["default"].createElement("p",{className:(0,s["default"])("fbc_optionVal",t.type,{checked:T,disabled:!T&&(w||x),isFull:!T&&x}),style:u},r["default"].createElement(y,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:T,"aria-checked":T,"aria-disabled":!T&&(w||x),disabled:!T&&(w||x),style:{padding:1,paddingTop:Math.ceil(Math.max((u.minHeight-(l?18:20))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(t.isAutoNo?i(t.autoNo,E):"")+_.value,T&&t.isAfterInput&&t.afterInputIsRequired?r["default"].createElement("span",{className:"fbc_required",key:_.sId+"inputRequired","aria-label":S.lang.ariaRequired},"*"):null),D),t.isAfterInput&&T?this.renderOptionInput(_.sId,c["default"].isObject(M)?M.value:"",g&&m.indexOf(_.sId)>-1,t.afterInputIsRequired):null))}else console.error("component ID LOST ->."+_.id+" : "+_.value);if(1===t.isAddOtherOption){E++;var F=this.isFill(a,t.otherId),R=this.isFill(a,t.otherId,!0),A=null,W=t.otherId,B=!1,U=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&W in t.optionsQuotaInfo){var H=t.optionsQuotaInfo[W],V=H[1]-H[0];V<=0&&1===t.isHideFullOption&&(B=!0),V<=0&&(U=!0),t.isShowOptionLimit?A=r["default"].createElement("span",{className:"fbc_optionTips",style:f},S.lang.cQuotaRemainingFunc({remaining:V>0?V:0})):U&&(A=r["default"].createElement("span",{className:"fbc_optionTips",style:c["default"].assign({},f,{color:"#ccc"})},S.lang.cQuotaRemainingFull))}B||b.push(r["default"].createElement("li",{key:"other",className:(0,s["default"])("fbc_optionsLi","aria-content",{"has-input":F,clearB:E%N===1}),tabIndex:1,role:v?"checkbox":"radio","aria-checked":F,checked:F,"aria-disabled":!F&&(w||U),"aria-label":t.otherOptionTitle||S.lang.cOptionOtherDefault,ref:"item"+W,id:"opt"+W,onClick:!w&&!U||F?this.handleSelectOption.bind(this,W):null,onKeyDown:!w&&!U||F?this.handleARIA_SelectOption.bind(this,W):null},r["default"].createElement("p",{className:(0,s["default"])("fbc_optionVal",t.type,{checked:F,disabled:!F&&(w||U),isFull:!F&&U}),style:u},r["default"].createElement(y,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:F,"aria-checked":F,"aria-disabled":!F&&(w||U),disabled:!F&&(w||U),style:{padding:1,paddingTop:Math.ceil(Math.max((u.minHeight-(l?20:16))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(t.isAutoNo?i(t.autoNo,E):"")+(t.otherOptionTitle||S.lang.cOptionOtherDefault),F&&t.otherOptionIsRequired?r["default"].createElement("span",{className:"fbc_required",key:"otherRequired",tabIndex:-1,"aria-label":S.lang.ariaRequired},"*"):null),A),F?this.renderOptionInput(W,c["default"].isObject(R)?R.value:"",n&&n.indexOf("otherInputRequired")>-1,t.otherOptionIsRequired):null))}return t.isLimitOptions&&t.optionsQuotaInfo&&0===b.length&&h.length>0&&b.push(r["default"].createElement("li",{className:"fbc_emptyTip"},S.lang.cOptionNull)),b},renderTips:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=this.formStyle(),i=n.tipsStyle;if("checkbox"!==t.type&&!t.isCheckbox)return null;if(1!==t.isLimitChooseNum)return null;var l="";return void 0!==t.chooseNumFrom&&""!==t.chooseNumFrom&&void 0!==t.chooseNumTo&&""!==t.chooseNumTo?l+=t.chooseNumFrom==t.chooseNumTo?S.lang.cOptionsLimitEqualFunc({num:t.chooseNumFrom}):S.lang.cOptionsLimitRangeFunc({numForm:t.chooseNumFrom,numTo:t.chooseNumTo}):void 0!==t.chooseNumFrom&&""!==t.chooseNumFrom?l+=S.lang.cOptionsMoreThanNumFunc({numForm:t.chooseNumFrom}):void 0!==t.chooseNumTo&&""!==t.chooseNumTo&&(l+=S.lang.cOptionsLessThanNumFunc({numTo:t.chooseNumTo})),r["default"].createElement("p",{className:(0,s["default"])("fbc_tips",{error:(a||[]).indexOf("tip")>-1}),style:i},l)},render:function(){var e=this.props,t=e.data,a=e.valid,n=e.isMobile,i=e.componentStyle,l=e.style,o=e.itemNum,d="checkbox"===t.type||t.isCheckbox,u=this.currentLayout(),c={},f={};return n||2!==+t.cpLayout||(c={"float":"left",paddingTop:6,width:((l.bodyStyle||{}).cpTitleWidth||20)+"%"},f={"float":"left",width:100-((l.bodyStyle||{}).cpTitleWidth||20)+"%"},o&&o>1&&(c.width="auto",c.maxWidth="20%",f.width="80%")),r["default"].createElement("div",{className:(0,s["default"])("fb_component",t.type),id:t.id,style:i},r["default"].createElement("div",{className:"fb_componentText",style:c},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(a)),r["default"].createElement("div",{className:"fb_componentBody",style:f},r["default"].createElement("ul",{className:(0,s["default"])("fbc_content","aria-content",u?"layout-"+u:""),role:d?"checkboxgroup":"radiogroup",tabIndex:1,"aria-labelledby":["title"+t.id,"subtitle"+t.id,"tips"+t.id,"err"+t.id].join(" ")},this.renderOptions(),r["default"].createElement("li",{className:"clearB"}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(14),o=n(r),s=a(26),d=n(s),u=a(38),c=n(u),f=a(46),h=n(f),p=o["default"].createClass({displayName:"CRadio",mixins:[h["default"]],render:function(){var e=this.props,t=e.disabled,a=e.selected,n=e.checked,r=e.className,s=e.fallbackClassName,u=e.style,f=i(e,["disabled","selected","checked","className","fallbackClassName","style"]),h=a||n;if(d["default"].browserCheck.msie&&parseInt(d["default"].browserCheck.version)<9)return o["default"].createElement("i",{className:(0,c["default"])(s,{selected:h,disabled:t})}," ");var p=t?"#F7F7F7":"#FFFFFF",m=t?"#DEDEDE":"currentColor";return h&&(m=t?"#DEDEDE":"currentColor"),o["default"].createElement("svg",l({className:(0,c["default"])(r,{selected:h})},f,{style:_.assign({},u,{pointerEvents:"visible"}),xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",preserveAspectRatio:"xMinYMin meet"}),o["default"].createElement("circle",{fill:p,stroke:m,strokeWidth:2,cx:15,cy:15,r:14}),h?o["default"].createElement("circle",{fill:m,cx:15,cy:15,r:7}):null)}}),m=o["default"].createClass({displayName:"CCheckbox",mixins:[h["default"]],render:function(){var e=this.props,t=e.disabled,a=e.selected,n=e.checked,r=e.className,s=e.fallbackClassName,u=e.style,f=i(e,["disabled","selected","checked","className","fallbackClassName","style"]),h=a||n;if(d["default"].browserCheck.msie&&parseInt(d["default"].browserCheck.version)<9)return o["default"].createElement("i",{className:(0,c["default"])(s,"checkbox",{selected:h,disabled:t})}," ");var p=t?"#F7F7F7":"#FFFFFF",m=t?"#DEDEDE":"currentColor";return h&&(p=t?"#DEDEDE":"currentColor",m=t?"#DEDEDE":"currentColor"),o["default"].createElement("svg",l({className:(0,c["default"])(r,{selected:h})},f,{style:_.assign({},u,{pointerEvents:"visible"}),xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",preserveAspectRatio:"xMinYMin meet"}),o["default"].createElement("rect",{x:1,y:1,fill:p,stroke:m,strokeWidth:2,width:28,height:28}),h?o["default"].createElement("polygon",{fill:"#FFF",points:"12.08,22.77 25.51,8.58 22.42,5.34 11.97,16.15 7.71,11.67 4.61,14.91"}):null)}});t["default"]={CommonRadio:p,CommonCheckbox:m},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(22),c=(n(u),a(30)),f=a(55),h=n(f),p=a(42),m=n(p),g=a(61),v=n(g),y=a(52),b=n(y),C=a(9),S=a(46),_=n(S);t["default"]=l["default"].createClass({displayName:"Component(DropDown)",mixins:[_["default"],h["default"]],isFill:function(e,t){function a(e,t){return n&&e?t:e}var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d["default"].isArray(e)){for(var i=0,l=e.length;i<l;i++)if(d["default"].isObject(e[i])){if(e[i].id===t)return a(!0,e[i])}else if(e[i]===t)return a(!0,e[i]);return!1}return a(e===t,e)},componentDidMount:function(){},handleSelectOption:function(e,t){t.stopPropagation();var a=this.props.data;m["default"].dispatch({type:"setSelector",id:a.id,value:e,isCheckbox:"checkbox"===a.type}),this.refs.dropdown.doClose()},handleOptionInputMouseDown:function(e){e.stopPropagation()},handleOptionInputClick:function(e){e.stopPropagation()},handleDropDownMouseDown:function(e,t){c.isIE8&&(t.preventDefault(),t.stopPropagation(),this.handleSelectOption(e,t))},handleOptionInputChange:function(e,t){var a=this.props.data;m["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:e,value:t.target.value})},handleOptionInputBlur:function(e,t){var a=this.props.data;m["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:e,value:t.target.value})},renderOptions:function(){var e=this.props,t=e.data,a=e.fill,n=(e.valid,t.options||[]),i=[],r=null;!t.isRequired&&t.defaultTips&&i.push(l["default"].createElement("li",{className:"fbc_selectLi",onMouseDown:this.handleDropDownMouseDown.bind(this,null),onClick:this.handleSelectOption.bind(this,null),key:"optplaceholder"},t.defaultTips));for(var s=0,d=n.length;s<d;s++){r=n[s];var u=this.isFill(a,r.sId),c=null,f=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&r.sId in t.optionsQuotaInfo){var h=t.optionsQuotaInfo[r.sId],p=h[1]-h[0];if(p<=0&&1===t.isHideFullOption)continue;p<=0&&(f=!0),t.isShowOptionLimit?c=l["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFunc({remaining:p>0?p:0})):f&&(c=l["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFull))}i.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:u,fbc_disabled:f}),key:"opt"+r.sId,onMouseDown:f?null:this.handleDropDownMouseDown.bind(this,r.sId),onClick:f?null:this.handleSelectOption.bind(this,r.sId)},r.value,c))}if(1===t.isAddOtherOption){var m=t.otherId,g=this.isFill(a,m),v=null,y=!1,b=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&m in t.optionsQuotaInfo){var S=t.optionsQuotaInfo[m],_=S[1]-S[0];_<=0&&1===t.isHideFullOption&&(y=!0),_<=0&&(b=!0),t.isShowOptionLimit?v=l["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFunc({remaining:_})):b&&(v=l["default"].createElement("span",{className:"fbc_selectTips"},C.lang.cQuotaRemainingFull))}y||i.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi","is-other",{fbc_currentSelected:g,fbc_disabled:b}),onMouseDown:b?null:this.handleDropDownMouseDown.bind(this,m),onClick:b?null:this.handleSelectOption.bind(this,m),key:"opt"+m},t.otherOptionTitle||C.lang.cOptionOtherDefault,v))}return i},renderTips:function(){return null},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=t.valid,r=t.componentStyle,s=t.style,u=t.itemNum,c=this.formStyle(),f=c.inputStyle,h=c.selectStyle,p=c.selectPlaceholderStyle,m=c.selectArrowStyle,g=null,y=!1;if(n&&n.length>0){var S=this.isFill(n,a.otherId,!0);1===a.isAddOtherOption&&S!==!1?(g=a.otherOptionTitle||C.lang.cOptionOtherDefault,y=!0):d["default"].forEach(a.options,function(t){var a=e.isFill(n,t.sId);if(a)return g=t.value,!1})}var _=this.renderOptions(),E=(a.isLimitOptions&&a.optionsQuotaInfo&&(a.options||[]).length>0&&_.length===(!a.isRequired&&a.defaultTips)?1:0)?l["default"].createElement("div",{className:"fbc_emptyTip"},C.lang.cOptionNull):l["default"].createElement(v["default"],{className:(0,o["default"])("fbc_select",{hasValue:n&&n.length>0,error:i&&i.indexOf("required")>-1}),display:g||a.defaultTips,ref:"dropdown",selectArrowStyle:m,style:n&&n.length>0?h:p},_),w=10*(a.cpWidth||8),N={},k={};return 2===+a.cpLayout&&(N={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},k={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(N.width="auto",N.maxWidth=105-w+"%",k.width=w-5+"%",w=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component",a.type),id:a.id,style:r},l["default"].createElement("div",{className:"fb_componentText",style:N},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(i)),l["default"].createElement("div",{className:"fb_componentBody",style:k},l["default"].createElement("div",{className:(0,o["default"])("fbc_content fbc_widthCp",{"has-input":y}),style:{width:w+"%"}},E,y?[a.otherOptionIsRequired?l["default"].createElement("span",{className:"fbc_required",key:"otherRequired"},"*"):null,l["default"].createElement(b["default"],{component:"input",type:"text",className:(0,o["default"])("fbc_input","fbc_selectInput",{error:i&&i.indexOf("otherInputRequired")>-1}),key:"otherInput",defaultValue:d["default"].isObject(n[0])?n[0].value:"",style:f,onChange:this.handleOptionInputChange.bind(this,a.otherId),onBlur:this.handleOptionInputBlur.bind(this,a.otherId)})]:null)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(14),o=n(r),s=a(23),d=n(s),u=a(38),c=n(u),f=a(42),h=n(f),p=a(46),m=n(p);t["default"]=o["default"].createClass({displayName:"FCDropDown",mixins:[m["default"]],getInitialState:function(){return{isOpen:!1}},componentDidMount:function(){this.unsubscribe=h["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(e){"$$resize"===e.type&&this.doClose()},isOpen:function(){return this.state.isOpen},doClose:function(){this.refs.focusContent&&d["default"].findDOMNode(this.refs.focusContent).blur()},handleMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault()},handleDropDownMouseDown:function(e){
this.currentIsOpen=this.state.isOpen,e.preventDefault(),e.stopPropagation()},handleToggleSelector:function(e){e.preventDefault(),e.stopPropagation();var t=this.refs.focusContent,a=this.currentIsOpen;if(t){var n=d["default"].findDOMNode(t);a?n.blur():n.focus()}},handleExpandDropDown:function(e){e.stopPropagation(),this.props.onExpand&&this.props.onExpand(),this.setState({isOpen:!0})},handleCondenseDropDown:function(e){e.stopPropagation(),this.setState({isOpen:!1})},render:function(){var e=this.props,t=e.display,a=e.imageUri,n=e.children,r=e.selectArrowStyle,s=i(e,["display","imageUri","children","selectArrowStyle"]),d=this.state.isOpen;return o["default"].createElement("div",l({onClick:this.handleToggleSelector},s),o["default"].createElement("p",{className:(0,c["default"])("fbc_selectValue",{hasImage:a}),tabIndex:1,ref:"focusContent",style:a?{backgroundImage:a}:null,onMouseDown:this.handleDropDownMouseDown,onFocus:this.handleExpandDropDown,onBlur:this.handleCondenseDropDown},t),o["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:r,onMouseDown:this.handleMouseDown},String.fromCharCode(58983)),o["default"].createElement("ul",{className:(0,c["default"])("fbc_selectList",{fbc_showList:d}),onMouseDown:this.handleDropDownMouseDown},n))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(22),c=(n(u),a(30),a(55)),f=n(c),h=a(42),p=n(h),m=a(9),g=a(52),v=n(g),y=a(46),b=n(y);t["default"]=l["default"].createClass({displayName:"Component(DropDownMobile)",mixins:[b["default"],f["default"]],isFill:function(e,t){function a(e,t){return n&&e?t:e}var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d["default"].isArray(e)){for(var i=0,l=e.length;i<l;i++)if(d["default"].isObject(e[i])){if(e[i].id===t)return a(!0,e[i])}else if(e[i]===t)return a(!0,e[i]);return!1}return a(e===t,e)},handleSelectOption:function(e){var t=this.props.data;return""+e.target.value=="null"?void p["default"].dispatch({type:"setSelector",id:t.id,value:null,isCheckbox:!1}):void p["default"].dispatch({type:"setSelector",id:t.id,value:+e.target.value,isCheckbox:!1})},handleOptionInputChange:function(e,t){var a=this.props.data;p["default"].dispatch({type:"setSelectorValue",id:a.id,optionId:e,value:t.target.value})},handleOptionInputBlur:function(e,t){var a=this.props.data;p["default"].dispatch({type:"blurSelectorInput",id:a.id,optionId:e,value:t.target.value})},renderTips:function(){return null},renderOptions:function(){var e=this.props,t=e.data,a=(e.fill,e.valid,t.options||[]),n=[],i=null;t.isRequired||!t.defaultTips?n.push(l["default"].createElement("option",{key:"defaultDisabled",value:null,disabled:!0,selected:!0,hidden:!0,style:{display:"none"}},t.defaultTips||"")):n.push(l["default"].createElement("option",{key:"defaultTips",className:"fbc_selectLi",value:null},t.defaultTips));for(var r=0,o=a.length;r<o;r++){i=a[r];var s=null,d=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&i.sId in t.optionsQuotaInfo){var u=t.optionsQuotaInfo[i.sId],c=u[1]-u[0];if(c<=0&&1===t.isHideFullOption)continue;c<=0&&(d=!0),t.isShowOptionLimit?s="    ("+m.lang.cQuotaRemainingFunc({remaining:c})+")":d&&(s="    ("+m.lang.cQuotaRemainingFull+")")}n.push(l["default"].createElement("option",{key:"opt"+(i.sId||r),className:"fbc_selectLi",value:i.sId,disabled:d},i.value+(s||"")))}if(1===t.isAddOtherOption){var f=t.otherId,h=null,p=!1,g=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&f in t.optionsQuotaInfo){var v=t.optionsQuotaInfo[f],y=v[1]-v[0];y<=0&&1===t.isHideFullOption&&(p=!0),y<=0&&(g=!0),t.isShowOptionLimit?h="    ("+m.lang.cQuotaRemainingFunc({remaining:y})+")":g&&(h="    ("+m.lang.cQuotaRemainingFull+")")}p||n.push(l["default"].createElement("option",{key:"opt"+(f||"other"),className:"fbc_selectLi",value:f,disabled:g},(t.otherOptionTitle||m.lang.cOptionOtherDefault)+(h||"")))}return n},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=t.valid,r=t.componentStyle,s=this.formStyle(),u=s.inputStyle,c=s.selectStyle,f=(s.selectPlaceholderStyle,null),h=!1,p=this.renderOptions();if(n&&n.length>0){var g=this.isFill(n,a.otherId,!0);1===a.isAddOtherOption&&g!==!1?(f=a.otherId,h=!0):d["default"].forEach(a.options,function(t){var a=e.isFill(n,t.sId);if(a)return f=t.sId,!1})}var y=(a.isLimitOptions&&a.optionsQuotaInfo&&(a.options||[]).length>0&&p.length===(!a.isRequired&&a.defaultTips)?1:0)?l["default"].createElement("div",{className:"fbc_emptyTip"},m.lang.cOptionNull):l["default"].createElement("div",{className:(0,o["default"])("fbc_select",{hasValue:n&&n.length>0})},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:u.height+"px"}},String.fromCharCode(58983)),l["default"].createElement("select",{className:(0,o["default"])("fbc_innerSelect",{error:i&&i.indexOf("required")>-1}),style:c,value:f,onChange:this.handleSelectOption},p));return l["default"].createElement("div",{className:(0,o["default"])("fb_component",a.type),id:a.id,style:r},this.renderTitle(a),this.renderSubtitle(a),this.renderTips(),this.renderError(i),l["default"].createElement("div",{className:(0,o["default"])("fbc_content",{"has-input":h})},y,h?[l["default"].createElement(v["default"],{component:"input",type:"text",className:(0,o["default"])("fbc_input","fbc_selectInput",{error:i&&i.indexOf("otherInputRequired")>-1}),key:"otherInput",defaultValue:d["default"].isObject(n[0])?n[0].value:"",style:u,onChange:this.handleOptionInputChange.bind(this,a.otherId),onBlur:this.handleOptionInputBlur.bind(this,a.otherId)})]:null))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(29),c=n(u),f=a(64),h=n(f),p=a(55),m=n(p),g=a(30),v=n(g),y=a(42),b=n(y),C=a(9),S=a(61),_=n(S),E=a(52),w=n(E),N=a(46),k=n(N);t["default"]=l["default"].createClass({displayName:"Component(MultiLevel)",mixins:[k["default"],m["default"]],getInitialState:function(){function e(t){var a=l.getItem(t);a&&(i=[a].concat(i),a.pId&&e(a.pId))}function t(e){var a=l.getChildren(e);d["default"].forEach(a,function(a){if(a.defaultValue){var n=i.length,r=n+l.getChildDepth(e);return i.push(a),r>n&&t(a.id),!1}})}this.depthInfo={};var a=this.props.data,n=this.props.fill,i=[];this.multiLevelOptions=new h["default"](a.options);var l=this.multiLevelOptions;if(n&&n[0]){var r=n[0];if(r=d["default"].isObject(n[0])&&n[0].id?n[0].id:n[0],n[0].current)i=n[0].current;else{var o=d["default"].find(a.options,{sId:r});o&&e(o.id)}}else t(null);return{currentSelected:i}},handleMouseDownOption:function(e,t,a){v["default"].isIE8&&(a.preventDefault(),a.stopPropagation(),this.handleSelectOption(e,t,a))},handleSelectOption:function(e,t){var a=this.state.currentSelected.slice(0,e),n=this.props.data;t?a[e]=t:t=a[e-1]||{},!t||d["default"].isEmpty(t)||1!==n.isAllowPartEmpty&&a.length+this.multiLevelOptions.getChildDepth(t.id)!==a.length?b["default"].dispatch({type:"setMultiLevelSelector",id:n.id,value:null,current:a,isCheckbox:!1}):b["default"].dispatch({type:"setMultiLevelSelector",id:n.id,value:a[a.length-1].sId,current:a,isCheckbox:!1}),this.setState({currentSelected:a})},handleChangeOptionContent:function(e,t){var a=this.props.data;b["default"].dispatch({type:"setMultiLevelSelectorValue",id:a.id,optionId:e,current:this.state.currentSelected,value:t.target.value})},_getSetPlaceholderInfo:function(e){var t=this.props.data,a=t.defaultTips||{},n={};e&&(n=this.multiLevelOptions.getItem(e));var i=2===n.type?C.lang.cFillingPlaceholder:C.lang.cSelectorPlaceholder;return null===e?a[-1]||i:a[e]||i},renderDropDownBy:function(e,t,a){var n=this,i=this.props,r=i.data,s=i.fill,u=i.valid,f=this.formStyle(),h=f.inputStyle,p=f.selectStyle,m=f.selectArrowStyle,g=[],y=this.multiLevelOptions.getChildren(t),b=this._getSetPlaceholderInfo(t),C=0,S="";if(!a&&0===y.length){var E=this.multiLevelOptions.getItem(t);return E&&2===E.type?l["default"].createElement(w["default"],{component:"input",className:(0,o["default"])("fbc_mlItem","fbc_input","fbc_selectInput","fbc_other",{error:u&&u.indexOf("required")>-1&&(!s[0]||!s[0].value)}),value:s[0]?s[0].value:"",placeholder:b,type:"text",key:"input"+E.sId,style:h,onChange:this.handleChangeOptionContent.bind(this,E.sId)}):null}if(1===y.length&&3===y[0].type)return l["default"].createElement(w["default"],{component:"input",className:(0,o["default"])("fbc_mlItem","fbc_input","fbc_selectInput",{error:u&&u.indexOf("required")>-1&&(!s[0]||!s[0].value)}),value:s[0]?s[0].value:"",type:"text",key:"input"+y[0].sId,style:h,placeholder:y[0].content,onChange:this.handleChangeOptionContent.bind(this,y[0].sId)});g.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:null===a}),onMouseDown:this.handleMouseDownOption.bind(this,e,null),onClick:this.handleSelectOption.bind(this,e,null),key:"optPlaceholder"},b));var N=[];d["default"].forEach(y,function(t){r.widthInfo[t.id]>C&&(C=r.widthInfo[t.id]),t.id===a&&(S=t.content);var i=g;2===t.type&&(i=N),i.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:t.id===a}),onMouseDown:n.handleMouseDownOption.bind(n,e,t),onClick:n.handleSelectOption.bind(n,e,t),key:"opt"+t.id},t.content))}),g=g.concat(N);var k=Math.ceil(Math.max(79,C+37,c["default"].getWidth(b,((p||{}).optionFontSize||14)+"px/1 "+v["default"]._FONT)+37));return l["default"].createElement(_["default"],{className:(0,o["default"])("fbc_select fbc_mlItem",{hasValue:S,error:u&&u.indexOf("required")>-1&&!S}),key:"dp"+t,selectArrowStyle:m,style:d["default"].assign({},p,{width:k}),display:S||this._getSetPlaceholderInfo(t),ref:"dropdown"+t},g)},render:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=e.componentStyle,i=e.style,r=e.itemNum,s=this.state.currentSelected,u=this.formStyle(),c=u.selectStyle,f=[];if(d["default"].isEmpty(s))f.push(this.renderDropDownBy(f.length,null,null)),f.push(l["default"].createElement("div",{className:(0,o["default"])("fbc_select","fbc_mlItem",{error:a&&a.indexOf("required")>-1}),style:d["default"].assign({},c,{width:79}),key:"fakeSelect"},l["default"].createElement("p",{className:"fbc_selectValue"},C.lang.cSelectorPlaceholder),l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:c.lineHeight}},String.fromCharCode(58983))));else for(var h=0,p=s.length;h<=p;h++){var m=s[h];if(0===h)f.push(this.renderDropDownBy(h,null,m?m.id:void 0));else{var g=s[h-1];f.push(this.renderDropDownBy(h,g?g.id:void 0,m?m.id:void 0))}}var v={},y={};return 2===+t.cpLayout&&(v={"float":"left",paddingTop:6,width:((i.bodyStyle||{}).cpTitleWidth||20)+"%"},y={"float":"left",width:100-((i.bodyStyle||{}).cpTitleWidth||20)+"%"},r&&r>1&&(v.width="auto",v.maxWidth="20%",y.width="80%")),l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:n},l["default"].createElement("div",{className:"fb_componentText",style:v},this.renderTitle(t),this.renderSubtitle(t),this.renderError(a)),l["default"].createElement("div",{className:"fb_componentBody",style:y},l["default"].createElement("div",{className:"fbc_mlContent"},f,l["default"].createElement("div",{className:"clearB"}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(8),o=n(r),s=function(){function e(t){var a=this;return i(this,e),this.MAX_DEPTH=4,this.options=t,this.pCMapping={},this.c_depth={},this.depth={},this.totalDepth=null,o["default"].forEach(t,function(e){a.pCMapping[e.pId]||(a.pCMapping[e.pId]=[]),a.pCMapping[e.pId].push(e)}),this}return l(e,[{key:"getItem",value:function(e){return o["default"].isPlainObject(e)||(e={id:e}),o["default"].find(this.options,e)}},{key:"getChildren",value:function(e){return this.pCMapping[e]||[]}},{key:"getDepth",value:function(){if(this.totalDepth)return this.totalDepth;var e=0,t=this.options.length,a=0;for(e;e<t;e++){var n=this.getCurrentDepth(this.options[e].id);if(n>a&&(a=n),a===this.MAX_DEPTH)break}return this.totalDepth=a,a}},{key:"getChildDepth",value:function(e){var t=this;if(void 0!==this.c_depth[e])return this.c_depth[e];for(var a=this.getChildren(e),n=0,i=a,l=function(){var e=[];o["default"].forEach(i,function(a){var n=t.getChildren(a.id);n.length>0&&(e=e.concat(n))}),i=e,n++};i.length>0;)l();return this.c_depth[e]=n,n}},{key:"getCurrentDepth",value:function(e){if(void 0!==this.depth[e])return this.depth[e];for(var t=o["default"].find(this.options,{id:e}),a=1;t&&t.pId;)a++,t=o["default"].find(this.options,{id:t.pId});return this.depth[e]=a,a}}]),e}();t["default"]=s,e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(64),m=n(p),g=a(9),v=a(52),y=n(v),b=a(32),C=n(b),S=a(46),_=n(S);t["default"]=l["default"].createClass({displayName:"Component(MultiLevelMobile)",mixins:[_["default"],c["default"]],getInitialState:function(){function e(t){var a=l.getItem(t);a&&(i=[a].concat(i),a.pId&&e(a.pId))}function t(e){var a=l.getChildren(e);d["default"].forEach(a,function(a){if(a.defaultValue){var n=i.length,r=n+l.getChildDepth(e);return i.push(a),r>n&&t(a.id),!1}})}this.depthInfo={};var a=this.props.data,n=this.props.fill,i=[];this.multiLevelOptions=new m["default"](a.options);var l=this.multiLevelOptions;if(n&&n[0]){var r=n[0];if(r=d["default"].isObject(n[0])&&n[0].id?n[0].id:n[0],n[0].current)i=n[0].current;else{var o=d["default"].find(a.options,{sId:r});o&&e(o.id)}}else t(null);return{currentSelected:i}},handleSelectOption:function(e,t){var a=this.state.currentSelected.slice(0,e),n=this.props.data,i=+t.target.value,l=null;0!==i?(l=this.multiLevelOptions.getItem(i),a[e]=l):(l=a[e-1],i=l?l.id:null),1!==n.isAllowPartEmpty&&a.length+this.multiLevelOptions.getChildDepth(i)!==a.length||!l||d["default"].isEmpty(l)?h["default"].dispatch({type:"setMultiLevelSelector",id:n.id,value:null,current:a,isCheckbox:!1}):h["default"].dispatch({type:"setMultiLevelSelector",id:n.id,value:a[a.length-1].sId,current:a,isCheckbox:!1}),this.setState({currentSelected:a})},handleChangeOptionContent:function(e,t){var a=this.props.data;h["default"].dispatch({type:"setMultiLevelSelectorValue",id:a.id,optionId:e,current:this.state.currentSelected,value:t.target.value})},_getSetPlaceholderInfo:function(e){var t=this.props.data,a=t.defaultTips||{},n={};e&&(n=this.multiLevelOptions.getItem(e));var i=2===n.type?g.lang.cFillingPlaceholder:g.lang.cSelectorPlaceholder;return null===e?a[-1]||i:a[e]||i},renderDropDownBy:function(e,t,a){var n=this.props,i=(n.data,n.fill),r=(n.valid,this.formStyle()),s=r.inputStyle,u=r.selectStyle,c=[],f=this.multiLevelOptions.getChildren(t),h="";if(!a&&0===f.length){var p=this.multiLevelOptions.getItem(t);return p&&2===p.type?l["default"].createElement(y["default"],{component:"input",className:"fbc_mlItem fbc_selectInput fbc_input fbc_other",value:i[0]?i[0].value:"",style:s,type:"text",key:"input"+p.sId,placeholder:this._getSetPlaceholderInfo(t),onChange:this.handleChangeOptionContent.bind(this,p.sId)}):null}if(1===f.length&&3===f[0].type)return l["default"].createElement(y["default"],{component:"input",className:"fbc_mlItem fbc_selectInput fbc_input",value:i[0]?i[0].value:"",style:s,type:"text",key:"input"+f[0].sId,placeholder:f[0].content,onChange:this.handleChangeOptionContent.bind(this,f[0].sId)});c.push(l["default"].createElement("option",{key:"optplaceholder",value:0},this._getSetPlaceholderInfo(t)));var m=[];return d["default"].forEach(f,function(e){e.id===a&&(h=e.content);var t=c;2===e.type&&(t=m),t.push(l["default"].createElement("option",{key:"opt"+e.id,value:e.id},e.content))}),c=c.concat(m),l["default"].createElement("div",{className:(0,o["default"])("fbc_select fbc_mlItem",{hasValue:h}),key:"dp"+t,style:d["default"].assign({},u,{width:"100%"})},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:s.height+"px"}},String.fromCharCode(58983)),l["default"].createElement("select",{className:"fbc_innerSelect",value:a,ref:"dropdown"+t,style:u,onChange:this.handleSelectOption.bind(this,e)},c))},render:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=e.componentStyle,i=this.state.currentSelected,r=this.formStyle(),s=r.inputStyle,u=r.selectStyle,c=[];if(C["default"].log(i),d["default"].isEmpty(i))c.push(this.renderDropDownBy(c.length,null,null)),c.push(l["default"].createElement("div",{className:(0,o["default"])("fbc_select fbc_mlItem"),key:"fakeSelect",style:d["default"].assign({},u,{width:"100%"})},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:s.height+"px"}},String.fromCharCode(58983)),l["default"].createElement("p",{className:"fbc_selectValue",style:{lineHeight:2.6}},g.lang.cSelectorPlaceholder),l["default"].createElement("span",{className:"fbc_selectArrow"})));else for(var f=0,h=i.length;f<=h;f++){var p=i[f];if(0===f)c.push(this.renderDropDownBy(f,null,p?p.id:void 0));else{var m=i[f-1];c.push(this.renderDropDownBy(f,m?m.id:void 0,p?p.id:void 0))}}return l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:n},this.renderTitle(t),this.renderSubtitle(t),this.renderError(a),l["default"].createElement("div",{className:"fbc_mlContent fbc_content"},c,l["default"].createElement("div",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(29),h=a(42),p=n(h),m=a(9),g=a(52),v=n(g),y=a(30),b=a(46),C=n(b);t["default"]=l["default"].createClass({displayName:"Component(Number)",mixins:[C["default"],c["default"]],handleChange:function(e){p["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){p["default"].dispatch({type:"numberBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=this.formStyle(),i=n.tipsStyle,r=null,s=!0,u=(a||[]).indexOf("tip")>-1;return t.isNumRange&&(d["default"].isNumber(t.numRangeFrom)&&d["default"].isNumber(t.numRangeTo)?r=m.lang.cNumberValueRangeHintFunc({numRangeFrom:t.numRangeFrom,numRangeTo:t.numRangeTo}):d["default"].isNumber(t.numRangeFrom)?r=m.lang.cNumberValueMoreThanValueFunc({numRangeFrom:t.numRangeFrom}):d["default"].isNumber(t.numRangeTo)&&(r=m.lang.cNumberValueLessThanValueFunc({numRangeTo:t.numRangeTo}))),l["default"].createElement("p",{className:(0,o["default"])("fbc_tips",{error:u&&s}),style:i},r)},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.fw,u=e.itemNum,c=e.style,h=this.formStyle(),p=h.inputStyle,m=h.inputUnitStyle,g=10*(r?10:t.cpWidth||8),b=null;t.unit&&(b=Math.min((0,f.getWidth)(t.unit,m.fontSize+"px/1 "+y._FONT),((s/(u||1)-60)*(g/10)-(r?10:25))/50));var C={},S={};return r||2!==+t.cpLayout||(C={"float":"left",paddingTop:6,width:((c.bodyStyle||{}).cpTitleWidth||20)+"%"},S={"float":"left",width:100-((c.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(C.width="auto",C.maxWidth=105-g+"%",S.width=g-5+"%",g=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:C},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:S},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp"),style:{width:g+"%"}},l["default"].createElement(v["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:n&&n.length>0}),ref:"input",type:"text",spellCheck:!1,style:d["default"].assign({},p,{paddingRight:b?b+8:null}),onChange:this.handleChange,onBlur:this.handleBlur,placeholder:t.placeholder||"",value:""+(d["default"].isNumber(a)||a?a:"")}),t.unit?l["default"].createElement("span",{className:(0,o["default"])("fbc_unit"),style:m},t.unit):null)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e){var t=/^(\d{4}?)-(\d{1,2}?)-/g,a=/^-(\d{1,2}?)-(\d{1,2}?)/g,n=/^--(\d{1,2}?)/g,i=/^-(\d{1,2}?)-/g,l=/^(\d{4}?)--/g;if(e.match(t))return e.replace(/-$/g,"");if(e.match(a))return e.replace(/^-/g,"");if(e.match(l))return e.replace("--","");if(e.match(i))return y.lang.gMonth[+e.replace(/-/g,"")-1];if(e.match(n))return e.replace("--","")}return e}function l(e,t){var a=void 0,n=void 0,i=void 0;if(t){if(+e[0]>0&&+e[0]<=12){var l=o(e,3);n=l[0],i=l[1],a=l[2]}}else if(3===e.length){var r=o(e,3);a=r[0],n=r[1],i=r[2]}else if(1===e.length)if(y.lang.gMonth.indexOf(e[0])>-1)n=y.lang.gMonth.indexOf(e[0])+1;else if((""+e[0]).length>2)a=e[0];else{var s=o(e,1);i=s[0]}else if(4===e[0].length){var d=o(e,2);a=d[0],n=d[1]}else if(+e[0]>12){var u=[(e[0]<30?"20":"19")+e[0],e[1]];a=u[0],n=u[1]}else if(y.lang.gMonth.indexOf(e[0])>-1)n=y.lang.gMonth.indexOf(e[0])+1,i=e[1];else{var c=o(e,2);n=c[0],i=c[1]}return[a,n,i]}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments[2],n=null;if(e){var i=!1,r=!1;if(e.match(/[:]/))if(r=!0,e.match(/[\s]/)){var s=e.split(/[\s]/),u=o(s,2),c=u[0],f=u[1],h=c.split(/[\-\_\/]/g);if(h.length<3){i=!0;var p=l(h,c.match(/[\/]/)),m=(p[0]||"")+"-"+(p[1]||"")+"-"+(p[2]||""),g=f.split(":");g=g.length<3?g.concat("00","00").slice(0,t).concat("00","00").slice(0,3).join(":"):g.join(":"),"dateTime_time"===a?n=g:"dateTime_date"===a?n=m:"dateTime_both"===a&&(n=m+" "+g)}}else"dateTime_time"===a?n=d["default"].trim(e):"dateTime_both"===a&&(n=(0,_["default"])().getFullDate()+" "+d["default"].trim(e));else{var v=e.split(/[\-\_\/]/g);if(v.length<3){i=!0;var y=l(v,e.match(/[\/]/));"dateTime_date"===a?n=(y[0]||"")+"-"+(y[1]||"")+"-"+(y[2]||""):"dateTime_both"===a&&(n=(y[0]||"")+"-"+(y[1]||"")+"-"+(y[2]||"")+" "+(0,_["default"])().getTime())}}if(!i){var b=(0,_["default"])(e);if(r){var C=b.getTime().split(":").slice(0,t);"dateTime_time"===a?n=C.concat("00","00").slice(0,3).join(":"):"dateTime_date"===a?n=b.getFullDate():"dateTime_both"===a&&(n=b.getFullDate()+" "+C.concat("00","00").slice(0,3).join(":"))}else"dateTime_date"===a?n=b.getFullDate():"dateTime_both"===a&&(n=b.getFullDate()+" "+(0,_["default"])().getTime())}}return n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var a=[],n=!0,i=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(s){i=!0,l=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=a(8),d=n(s),u=a(22),c=n(u),f=a(38),h=n(f),p=a(14),m=n(p),g=a(23),v=n(g),y=a(9),b=a(55),C=n(b),S=a(34),_=n(S),E=a(42),w=n(E),N=a(68),k=n(N),I=a(52),T=n(I),M=a(46),x=n(M),D=(0,k["default"])(y.lang),P={dateTime_date:1,dateTime_time:4,dateTime_both:5},O=0;t["default"]=m["default"].createClass({displayName:"Component(DateTime)",mixins:[x["default"],C["default"]],getInitialState:function(){return O++,this.num=O,{isOpen:!1,inputValue:i(this.props.fill)}},componentWillUpdate:function(e,t){i(e.fill)===this.state.inputValue||this.inEdit||this.setState({inputValue:i(e.fill)})},componentDidMount:function(){this.$dom=(0,c["default"])(v["default"].findDOMNode(this));var e=".calendar"+this.num;this.$dom.on("click"+e,this.handleKeepOpenCalendar),(0,c["default"])(document).on("click"+e,this.handleCloseCalendar)},componentWillUnmount:function(){this.$dom.off(".calendar"+this.num),(0,c["default"])(document).off(".calendar"+this.num)},handleCalendarSelect:function(e,t){4!==this.caType&&5!==this.caType&&(this._saveCurrentData(t),this.setState({isOpen:!1}))},handleStopPop:function(e){e.stopPropagation(),e.preventDefault()},handleCalendarConfirm:function(){var e=this.refs.calendar;this._saveCurrentData(e.getFormatDate(e.getCurrentSelected())),this.calendarMouseDown=!1,this.setState({isOpen:!1})},handleCalendarCancel:function(){this.calendarMouseDown=!1,this.setState({isOpen:!1})},handleInputClick:function(e){this.calendarMouseDown=!1,this.setState({isOpen:!0})},handleInputFocus:function(e){this.calendarMouseDown=!1,this.setState({isOpen:!0})},handleInputChange:function(e){this.inEdit=!0,this.setState({inputValue:e.target.value})},handleInputBlur:function(e){this.inEdit=!1;var t=this.props,a=t.isBirthDate,n=t.data,i=n.isCustomField?n.cfDateTimeType:n.type;this._saveCurrentData(r(e.target.value,n.timePrecision,a?"dateTime_date":i)),this.calendarMouseDown||this.setState({isOpen:!1})},handleMouseDown:function(){this.calendarMouseDown=!0},handleKeepOpenCalendar:function(e){this.inCalendar=!0},handleCloseCalendar:function(e){return this.inCalendar?void(this.inCalendar=!1):(this.calendarMouseDown=!1,void this.setState({isOpen:!1}))},_saveCurrentData:function(e){w["default"].dispatch({type:"setValue",id:this.props.data.id,value:e})},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,l=e.isBirthDate,r=e.isMobile,o=e.style,s=e.itemNum,u=t.id,c=t.dateFormat,f=t.formatType,p=t.timePrecision,g=t.isLimitDayInterval,v=t.dayIntervalFrom,b=t.dayIntervalTo,C=t.isLimitDays,S=t.limitDays,_=this.formStyle(),E=(_.inputStyle,_.inputIconStyle),w=_.inputWithIconStyle,N=t.isCustomField?t.cfDateTimeType:t.type,k=P[N]||1;l&&(k=1),this.caType=k;var I=null;if(C&&!d["default"].isEmpty(S)){I=[];for(var M=0;M<7;M++)S.indexOf(M+1)===-1&&I.push("W"+M)}var x={className:(0,h["default"])("fbc_dtDropWrapper",{fbc_dtShowWrapper:this.state.isOpen}),ref:"calendar",type:k,formatType:f,timeFormatType:[3,2,1][p-1]||1,formatList:d["default"].map(c||(l?[1,3]:[1]),function(e){return e-1}),range:g?[v||-1,b||-1]:!!l&&[-1,!0],disabledDate:I,defaultValue:a,triggerChange:1===k,onChange:this.handleCalendarSelect,onMouseDown:this.handleMouseDown};4!==k&&5!==k||(x.extOpeartion=m["default"].createElement("div",{className:"calendar_operate"},m["default"].createElement("a",{className:"fbc_button calendar_confirm",onMouseDown:this.handleStopPop,onClick:this.handleCalendarConfirm},y.lang.gBtnConfirm),m["default"].createElement("a",{className:"fbc_btnPrimitive calendar_cancel",onMouseDown:this.handleStopPop,onClick:this.handleCalendarCancel},y.lang.gBtnCancel)));var O=10*(r?10:t.cpWidth||8),L={},F={};return 2===+t.cpLayout&&(L={"float":"left",paddingTop:6,width:((o.bodyStyle||{}).cpTitleWidth||20)+"%"},F={"float":"left",width:100-((o.bodyStyle||{}).cpTitleWidth||20)+"%"},s&&s>1&&(L.width="auto",L.maxWidth=105-O+"%",F.width=O-5+"%",O=100)),m["default"].createElement("div",{className:(0,h["default"])("fb_component",N),id:u,style:i,ref:"cdDateTime"},m["default"].createElement("div",{className:"fb_componentText",style:L},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n)),m["default"].createElement("div",{className:"fb_componentBody",style:F},m["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:O+"%"}},m["default"].createElement("div",{className:"fbc_datetime",ref:"drop",name:"input_calendar_dropdown"},m["default"].createElement(T["default"],{component:"input",ref:"input",type:"text",spellCheck:!1,className:(0,h["default"])("fbc_input",{error:n&&n.length>0}),icon:"birthDate"===N?String.fromCharCode(59081):"dateTime_time"===N?String.fromCharCode(59160):String.fromCharCode(59141),themeColor:o.themeColor,style:w,iconStyle:E,value:this.state.inputValue,onClick:this.handleInputClick,onFocus:this.handleInputFocus,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),m["default"].createElement(D,x)))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.split(" "),a=u(t,2),n=a[0],i=void 0===n?"":n,l=a[1],r=void 0===l?"":l,o=/^(\d{4}?)-(\d{1,2}?)-$/g,s=/^-(\d{1,2}?)-(\d{1,2}?)$/g,d=/^--(\d{1,2}?)$/g,c=/^-(\d{1,2}?)-$/g,f=/^(\d{4}?)--$/g;return i.match(o)?{type:1,data:h["default"].trim(i+"1 "+r)}:i.match(s)?{type:2,data:h["default"].trim("2000"+i+" "+r)}:i.match(f)?{type:3,data:h["default"].trim(i.replace("--","")+"-1-1 "+r)}:i.match(c)?{type:4,data:h["default"].trim("2000"+i+"1 "+r)}:i.match(d)?{type:5,data:h["default"].trim("2000-1-"+i.replace("--","")+" "+r)}:{type:0,data:h["default"].trim(i+" "+r)}}function l(e,t){var a={start:null,end:null};return!t||!h["default"].isArray(t)||h["default"].isArray(t)&&2!==t.length?a:(4===e?(t[0]!==-1&&(t[0]===!0?a.start=[0,0,0]:a.start=h["default"].map(t[0].split(":"),function(e){return+e}).concat([0,0,0]).slice(0,3)),t[1]!==-1&&(t[1]===!0?a.end=[23,59,59]:a.end=h["default"].map(t[1].split(":"),function(e){return+e}).concat([0,0,0]).slice(0,3))):(t[0]!==-1&&(t[0]===!0?a.start=(0,b["default"])().startOf("date"):a.start=(0,b["default"])(t[0])),t[1]!==-1&&(t[1]===!0?a.end=(0,b["default"])().endOf("date"):a.end=(0,b["default"])(t[1]))),a)}function r(e,t,a,n,i){var l=!0,r=e.clone();if(n||i)if(4===t){var o=void 0,s=void 0;n&&(o=1e4*n[0]+100*n[1]+n[2]),i&&(s=1e4*i[0]+100*i[1]+i[2]);var d=h["default"].map(e.getTime().split(":"),function(e){return+e||0}),u=1e4*d[0]+100*d[1]+d[2];o&&u<o&&(r.hours(n[0]),r.minutes(n[1]),r.seconds(n[2]+1)),s&&u>s&&(r.hours(i[0]),r.minutes(i[1]),r.seconds(i[2]+1))}else{var c=n?n.clone():null,f=i?i.clone():null;1!==t&&5!==t||(2===a?(c&&c.year(1999),f&&f.year(2001)):1===a&&(c&&c.date(1).startOf("date"),f&&f.date(1).endOf("date"))),c&&(l=l&&r.time()>=c.time(),l||(r=c.clone().add(1,"s"),0!==a&&(l=!0))),f&&(l=l&&r.time()<=f.time(),l||(r=f.clone().add(-1,"s"),0!==a&&(l=!0)))}return{date:r,valid:l}}function o(){var e=m["default"].createClass({displayName:"SwitchLabel",mixins:[E["default"]],getDefaultProps:function(){return{hasPrev:!0,hasNext:!0}},handleMouseDown:function(e){e.preventDefault()},render:function(){var e=this.props,t={calendar_hTitle:!0,canSwitch:e.hasNext||e.hasPrev},a={className:"iconfont calendar_hDecrease"},n={className:"iconfont calendar_hIncrease"},i={className:(0,v["default"])({hasTopLayer:e.onClick,calendar_CurrentVal:!0})};return e.hasNext&&(n.onMouseDown=this.handleMouseDown,n.onClick=e.onNextClick),e.hasPrev&&(a.onMouseDown=this.handleMouseDown,a.onClick=e.onPrevClick),e.onClick&&(i.onMouseDown=this.handleMouseDown,i.onClick=e.onClick),m["default"].createElement("div",{className:(0,v["default"])(t,e.className)},m["default"].createElement("a",a,String.fromCharCode(58989)),m["default"].createElement("span",i,e.label),m["default"].createElement("a",n,String.fromCharCode(58990)))}}),t=m["default"].createClass({displayName:"TypeTitle",mixins:[E["default"]],getDefaultProps:function(){return{formatType:0}},handleMouseDown:function(e){e.preventDefault()},render:function(){var e=this.props,t=null,a={className:"calendar_sTitle"};return e.onClick&&(t=m["default"].createElement("span",{className:"iconfont calendar_sArrow"},String.fromCharCode(58983)),a.onClick=e.onClick,a.onMouseDown=this.handleMouseDown),m["default"].createElement("div",{className:"calendar_switcher",key:"format"},m["default"].createElement("p",a,m["default"].createElement("span",{className:"calendar_sType"},I[e.formatType]),t))}}),a=m["default"].createClass({displayName:"FillingTypeSelector",mixins:[E["default"]],handleMouseDown:function(e){e.preventDefault()},handleChangeFormat:function(e){this.props.onChange&&this.props.onChange("type",e);
},renderItems:function(){var e=this,t=[],a=this.props,n=a.formatList,i=a.formatType,l=(0,b["default"])(),r={0:l.getFullDate(),1:l.getYearMonth(),2:l.getMonthDay(),3:l.year(),4:k.gMonth[l.month()],5:l.date()};return h["default"].forEach(I,function(a,l){if((n||[]).indexOf(+l)===-1)return!0;var o={key:"typeItem"+l,className:(0,v["default"])({calendar_typeItem:!0,selected:i===+l}),onMouseDown:e.handleMouseDown,onClick:e.handleChangeFormat.bind(e,+l)};t.push(m["default"].createElement("li",o,m["default"].createElement("p",{className:"calendar_typeTitle"},a),m["default"].createElement("p",{className:"calendar_typeExample"},r[l])))}),t},render:function(){return m["default"].createElement("div",{className:"calendar_body"},m["default"].createElement("ul",{className:"calendar_typeList",key:"formatList"},this.renderItems()))}}),n=m["default"].createClass({displayName:"YearSelector",mixins:[E["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{decadeYear:this.props.date.decade()}},componentWillUpdate:function(e){e.date.time()!==this.props.date.time()&&this.setState({decadeYear:e.date.decade()})},handleDecadePrev:function(){this.state.decadeYear>w.year()&&(this.setState({decadeYear:this.state.decadeYear-10}),this.animPrev=!0,this.animNext=!1)},handleDecadeNext:function(){this.setState({decadeYear:this.state.decadeYear+10}),this.animPrev=!1,this.animNext=!0},handleMouseDown:function(e){e.preventDefault()},handleChangeYear:function(e){var t=this.props;t.onChange&&t.onChange("year",e),t.isLeaf||t.onChangePanel&&t.onChangePanel("month")},renderYears:function(){for(var e=[],t=this.state.decadeYear,a=this.props,n=a.selected,i=a.startOf,l=a.endOf,r=t-1,o=t+11,s=r;s<o;s++){var d=s<w.year();i&&(d=d||s<i.year()),l&&(d=d||s>l.year());var u={key:"year"+s,className:(0,v["default"])("calendar_bYearItem",{"current-decade":s>=t&&s<t+10,selected:!!n&&s===n.year(),disabled:d}),onMouseDown:this.handleMouseDown};d||(u.onClick=this.handleChangeYear.bind(this,s)),e.push(m["default"].createElement("li",u,s))}return m["default"].createElement("ul",{className:"calendar_bYearList",key:"yearList"+t},e)},render:function(){var t=this.state.decadeYear,a=t>w.year();return m["default"].createElement("div",{className:"calendarMain"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(e,{className:"decade",label:t+"s",hasPrev:a,onPrevClick:this.handleDecadePrev,onNextClick:this.handleDecadeNext})),m["default"].createElement(S["default"],{component:"div",key:"calendarBody",transitionName:"listSwitch",className:(0,v["default"])("calendar_body",{cm_prev:this.animPrev,cm_next:this.animNext}),enterTimeout:200,leaveTimeout:200},this.renderYears()))}}),o=m["default"].createClass({displayName:"MonthSelector",mixins:[E["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{year:this.props.date.year()}},componentWillUpdate:function(e){e.date.time()!==this.props.date.time()&&this.setState({year:e.date.year()})},handleYearPrev:function(){var e=this.props,t=e.isStatic,a=e.onChange;if(!t&&this.state.year>w.year()){var n=this.state.year-1;a&&a("year",n),this.setState({year:n}),this.animPrev=!0,this.animNext=!1}},handleYearNext:function(){var e=this.props,t=e.isStatic,a=e.onChange;if(!t){var n=this.state.year+1;a&&a("year",n),this.setState({year:n}),this.animPrev=!1,this.animNext=!0}},handleMouseDown:function(e){e.preventDefault()},handleLabelClick:function(e){this.props.onChangePanel&&this.props.onChangePanel(e)},handleSelectMonth:function(e){var t=this.props,a=t.onChange,n=t.isLeaf;a&&a("month",e),n||this.handleLabelClick("date")},renderMonths:function(){for(var e=[],t=this.state.year,a=this.props,n=a.selected,i=a.startOf,l=a.endOf,r=0;r<12;r++){var o=t<w.year();i&&(o=o||t<i.year()||t===i.year()&&r<i.month()),l&&(o=o||t>l.year()||t===l.year()&&r>l.month());var s={key:"month"+r,className:(0,v["default"])("calendar_bMonthItem",{selected:!!n&&(n.year()===t&&n.month()===r),disabled:o}),onMouseDown:this.handleMouseDown};o||(s.onClick=this.handleSelectMonth.bind(this,r)),e.push(m["default"].createElement("li",s,k.gMonth[r]))}return m["default"].createElement("ul",{className:"calendar_bMonthList",key:"monthsList"+t},e)},render:function(){var t=this.props.isStatic,a=this.state.year,n={className:t?"month":"year",hasPrev:!t&&a>w.year(),hasNext:!t,label:t?k.gCalendarChooseMonth:""+a,onClick:t?null:this.handleLabelClick.bind(this,"year"),onPrevClick:this.handleYearPrev,onNextClick:this.handleYearNext};return m["default"].createElement("div",{className:"calendarMain",key:"monthSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(e,n)),m["default"].createElement(S["default"],{component:"div",className:(0,v["default"])("calendar_body",{cm_prev:this.animPrev,cm_next:this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},this.renderMonths()))}}),s=m["default"].createClass({displayName:"DateSelector",mixins:[E["default"]],getInitialState:function(){this.animPrev=!1,this.animNext=!1;var e=this.props.date;return{year:e.year(),month:e.month()}},componentWillUpdate:function(e){e.date.time()!==this.props.date.time()&&this.setState({year:e.date.year(),month:e.date.month()})},handleLabelClick:function(e){this.props.onChangePanel&&this.props.onChangePanel(e)},handleYearPrev:function(){if(this.state.year>w.year()){var e=this.state.year-1;this.setState({year:e}),this.props.onChange&&this.props.onChange("year",e),this.animPrev=!0,this.animNext=!1}},handleYearNext:function(){var e=this.state.year+1;this.setState({year:e}),this.props.onChange&&this.props.onChange("year",e),this.animPrev=!1,this.animNext=!0},handleMonthPrev:function(){var e=this.state,t=e.year,a=e.month,n=this.props.onChange||function(){},i=void 0,l=void 0;a>0?l=a-1:t>w.year()&&(l=11,i=t-1);var r={};void 0!==i&&(r.year=i),void 0!==l&&(r.month=l),h["default"].isEmpty(r)||(this.setState(r),n(r),this.animPrev=!0,this.animNext=!1)},handleMonthNext:function(){var e=this.state,t=e.year,a=e.month,n=this.props.onChange||function(){},i=void 0,l=void 0;a<11?l=a+1:(l=0,i=t+1);var r={};void 0!==i&&(r.year=i),void 0!==l&&(r.month=l),h["default"].isEmpty(r)||(this.setState(r),n(r),this.animPrev=!1,this.animNext=!0)},handleMouseDown:function(e){e.preventDefault()},handleSelectDay:function(e){this.props.onChange&&this.props.onChange({date:e,month:this.state.month,year:this.state.year})},renderWeek:function(){return m["default"].createElement("ul",{className:"calendar_bWeekNameRow",key:"weekRow"},h["default"].map(k.gWeekDay,function(e,t){return m["default"].createElement("li",{className:"calendar_bWeekNameItem",key:"weekName"+t},e)}))},renderDays:function(){for(var e=this.state,t=e.year,a=e.month,n=this.props,i=n.startOf,l=n.endOf,r=n.disabledDate,o=n.selected,s=(0,b["default"])(),d=(0,b["default"])(t+"-"+(a+1)+"-1"),u=d.clone().startOf("month"),c=u.clone().day(0),f=[],h=[],p=!0;p;){var g=c.month()!==a;i&&(g=g||i.startOf("date").time()>c.time()),l&&(g=g||l.endOf("date").time()<c.time()),r&&(g=g||r.indexOf("W"+c.week())>-1);var y=!1;o&&(y=c.date()===o.date()&&c.month()===o.month()&&c.year()===o.year());var C={key:c.format("YYYYMMDD"),className:(0,v["default"])("calendar_bDayItem",{today:0===c.gap(s),"current-month":c.month()===a,disabled:g,selected:y}),onMouseDown:this.handleMouseDown};g||(C.onClick=this.handleSelectDay.bind(this,c.date())),f.push(m["default"].createElement("li",C,m["default"].createElement("a",{href:"javascript:void(0);"},c.date()))),7===f.length&&(h.push(m["default"].createElement("ul",{className:"calendar_bWeekRow",key:"week"+h.length},f)),f=[],6===h.length&&(p=!1)),c=c.clone().add(1,"d")}return h},render:function(){var t=this.state,a=t.year,n=t.month,i={label:""+a,key:"dYear",className:"halfWidth year",onClick:this.handleLabelClick.bind(this,"year"),onPrevClick:this.handleYearPrev,onNextClick:this.handleYearNext},l={label:k.gMonth[n],key:"dMonth",className:"halfWidth month",onClick:this.handleLabelClick.bind(this,"month"),onPrevClick:this.handleMonthPrev,onNextClick:this.handleMonthNext};return m["default"].createElement("div",{className:"calendarMain",key:"dateSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(e,i),m["default"].createElement(e,l)),m["default"].createElement(S["default"],{component:"div",className:(0,v["default"])("calendar_body",{cm_prev:this.animPrev,cm_next:this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},m["default"].createElement("div",{className:"calendar_bWeekList",key:"ListO"+a+"Y"+n+"M"},this.renderWeek(),this.renderDays())))}}),u=m["default"].createClass({displayName:"StaticDateSelector",mixins:[E["default"]],getInitialState:function(){return this.animPrev=!1,this.animNext=!1,{month:this.props.date.month()}},componentWillUpdate:function(e){e.date.time()!==this.props.date.time()&&this.setState({month:e.date.month()})},handleLabelClick:function(e){this.props.onChangePanel&&this.props.onChangePanel(e)},handleMonthPrev:function(){var e=this.props,t=e.isStatic,a=e.onChange,n=this.state.month;if(!t){var i=n-1;i<0&&(i=11),a&&a("month",i),this.setState({month:i}),this.animPrev=!0,this.animNext=!1}},handleMonthNext:function(){var e=this.props,t=e.isStatic,a=e.onChange,n=this.state.month;if(!t){var i=n+1;i>11&&(i=0),a&&a("month",i),this.setState({month:i}),this.animPrev=!1,this.animNext=!0}},handleMouseDown:function(e){e.preventDefault()},handleSelectDay:function(e){this.props.onChange&&this.props.onChange("date",e)},renderDays:function(){for(var e=this.props,t=e.isStatic,a=e.selected,n=this.state.month,i=t?31:N[n],l=[],r=[],o=0;o<i;o++){var s={key:"s"+(n+1)+(o+1),className:(0,v["default"])({calendar_bDayItem:!0,"current-month":!0,selected:!!a&&(o+1===a.date()&&n===a.month())}),onMouseDown:this.handleMouseDown,onClick:this.handleSelectDay.bind(this,o+1)};l.push(m["default"].createElement("li",s,m["default"].createElement("a",{href:"javascript:void(0);"},o+1))),7!==l.length&&i!==o+1||(r.push(m["default"].createElement("ul",{className:"calendar_bWeekRow",key:"weekS"+r.length},l)),l=[])}return r},render:function(){var t=this.props.isStatic,a=this.state.month,n={className:"month",hasPrev:!t,hasNext:!t,label:t?k.gCalendarChooseDate:""+k.gMonth[a],onClick:t?null:this.handleLabelClick.bind(this,"month"),onPrevClick:this.handleMonthPrev,onNextClick:this.handleMonthNext};return m["default"].createElement("div",{className:"calendarMain",key:"dateSelect"},m["default"].createElement("div",{className:"calendar_header",key:"calendarLabel"},m["default"].createElement(e,n)),m["default"].createElement(S["default"],{component:"div",className:(0,v["default"])("calendar_body",{cm_prev:this.animPrev,cm_next:this.animNext}),key:"calendarBody",transitionName:"listSwitch",enterTimeout:200,leaveTimeout:200},m["default"].createElement("div",{className:"calendar_bWeekList",key:"ListS"+a+"M"},this.renderDays())))}}),c=m["default"].createClass({displayName:"TimerEditor",mixins:[E["default"]],getInitialState:function(){this.animPrev=!1,this.animNext=!1;var e=this.props.date;return{hours:e.hours(),minutes:e.minutes(),seconds:e.seconds()}},componentWillUpdate:function(e){e.date.time()!==this.props.date.time()&&this.setState({hours:e.date.hours(),minutes:e.date.minutes(),seconds:e.date.seconds()})},handleInputChange:function(e,t){var a=t.target.value,n={};n[e]=a,this.props.onChange&&this.props.onChange(e,a),this.setState(n)},handleMouseDown:function(e){},render:function(){var e=this.props,t=e.className,a=e.accuracy,n=e.children,i=this.state,l=i.hours,r=i.minutes,o=i.seconds,s=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_hour",t),name:"hour",key:"hourInput",value:l,onChange:this.handleInputChange.bind(this,"hour")}),m["default"].createElement("span",{className:"calendarTips",key:"hourUnit"},k.gTimeUnit[0])],d=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_minute",t),name:"minute",key:"minuteInput",value:r,onChange:this.handleInputChange.bind(this,"minute")}),m["default"].createElement("span",{className:"calendarTips",key:"minuteUnit"},k.gTimeUnit[1])],u=[m["default"].createElement("input",{className:(0,v["default"])("cp_calendar_input","calendar_second",t),name:"second",key:"secondInput",value:o,onChange:this.handleInputChange.bind(this,"second")}),m["default"].createElement("span",{className:"calendarTips",key:"secondUnit"},k.gTimeUnit[2])],c=[s,d,u];return a<0&&0===m["default"].Children.count(n)?null:m["default"].createElement("div",{className:"calendar_footer"},m["default"].createElement("div",{className:"calendar_time"},m["default"].createElement("div",{className:"calendar_content"},c.slice(0,a),m["default"].createElement("div",{className:"clearB"}))),n)}});return m["default"].createClass({displayName:"Calendar",mixins:[E["default"]],getDefaultProps:function(){return{type:1,formatType:0,timeFormatType:1}},_preProcessState:function(e){var t=e.type,a=e.defaultValue,n=e.formatType,r=e.formatList,o=e.range,s={1:"date",2:"date",3:"date",4:"time",5:"date"},d=i(a||""),u=(0,b["default"])().startOf("date");if(d.data&&(u=(0,b["default"])(d.data)),o){if(o[0]&&o[0]!==-1&&o[0]!==!0){var c=(0,b["default"])(o[0]);c.time()>u.time()&&(u=c.clone().startOf("date"))}if(o[1]&&o[1]!==-1&&o[1]!==!0){var f=(0,b["default"])(o[1]);f.time()<u.time()&&(u=f.clone().startOf("date"))}}var h=s[t],p=n,m=r||[0,1,2];if(m.indexOf(d.type)>-1?p=d.type:m.indexOf(p)===-1&&(p=m[0]),this.formatList=m,2===t||1===t||5===t){switch(p){case 0:case 2:case 5:h="date";break;case 1:case 4:h="month";break;case 3:h="year"}5!==p&&2!==p||(u=u.year(2e3))}var g=l(t,o);return this.start=g.start,this.end=g.end,{formatType:p,panel:h,pointer:u,selected:!!a&&u.clone()}},getInitialState:function(){this.animationMagnify=!1,this.animationShrink=!1,this.panelMapping={date:0,month:1,year:2,type:3};var e=this._preProcessState(this.props);return{formatType:e.formatType,panel:e.panel,pointer:e.pointer,selected:e.selected}},componentDidMount:function(){},componentWillUpdate:function(e,t){if(this.animationMagnify=this.panelMapping[t.panel]<this.panelMapping[this.state.panel],this.animationShrink=!this.animationMagnify,(e.defaultValue||this.props.defaultValue)&&e.defaultValue!==this.props.defaultValue){var a=this._preProcessState(e);this.setState({pointer:a.pointer,selected:a.selected})}},componentWillUnmount:function(){},toggleTypeSelector:function(e){var t=void 0!==e?e:this.state.formatType,a=this.state.panel;"type"===a?(1!==t&&4!==t||"month"===this.oldPanel?3===t&&"year"!==this.oldPanel?this.oldPanel="year":5===t&&"date"!==this.oldPanel&&(this.oldPanel="date"):this.oldPanel="month",this.handleChangePanel(this.oldPanel)):(this.oldPanel=a,this.handleChangePanel("type"))},handleMouseDown:function(e){},handleChangePanel:function(e){this.setState({panel:e})},handleChangePointer:function(e,t){var a=this,n=this.props,i=n.type,l=n.triggerChange,o=n.onSelect,s=this.state,d=s.formatType,u=s.pointer,c=[],f={};h["default"].isPlainObject(e)?(c=Object.keys(e),f=e):(c=[e],f={},f[e]=t);var p=(1===d||4===d)&&c.indexOf("month")>-1||(0===d||2===d||5===d)&&c.indexOf("date")>-1||3===d&&c.indexOf("year")>-1,m=u.clone();h["default"].forEach(["year","month","date","hour","minute","second","type"],function(e){if(void 0!==f[e]&&null!==f[e]){var t=f[e];switch(e){case"second":m.seconds(+t);break;case"minute":m.minutes(+t);break;case"hour":m.hours(+t);break;case"date":m.date(+t);break;case"month":m.month(+t);break;case"year":m.year(+t);break;case"type":d!==t&&(2!==d&&2===t?m.year("2000"):2===d&&m.year((0,b["default"])().year()),a.setState({formatType:t})),a.toggleTypeSelector(t)}}});var g=r(m,i,d,this.start,this.end);m=g.date,g.valid&&(this.setState({pointer:m}),l&&p&&this.doChange(m),o&&o(m),this.setState({selected:m}))},getCurrentSelected:function(){return this.state.pointer},getFormatDate:function(e){var t=this.props,a=t.type,n=t.timeFormatType,i=this.state,l=i.selected,r=i.formatType;if(e||(e=l),!e)return"";var o=e.getFullDate();if(1!==n&&(2===n?e.seconds(0):3===n&&(e.seconds(0),e.minutes(0))),1===a||2===a||5===a)switch(r){case 1:o=e.getYearMonth()+"-";break;case 2:o="-"+e.getMonthDay();break;case 3:o=e.year()+"--";break;case 4:o="-"+(e.month()+1)+"-";break;case 5:o="--"+e.date()}else 3===a?o=e.getFullDateTime():4===a&&(o=e.getTime());return 5===a&&(o+=" "+e.getTime()),o},doSetDate:function(e){},doChange:function(e){var t=this.getFormatDate(e);this.setState({selected:e}),this.props.onChange&&this.props.onChange(null,t)},renderPanel:function(){var e=this.props,t=(e.type,e.disabledDate),i=this.state,l=i.panel,r=i.formatType,c=i.pointer,f=i.selected,h=null,p={date:c,selected:f,key:"shown"+l,startOf:this.start,endOf:this.end,isLeaf:(1===r||4===r)&&"month"===l||(0===r||2===r||5===r)&&"date"===l||3===r&&"year"===l,onChange:this.handleChangePointer,onChangePanel:this.handleChangePanel};switch(l){case"date":h=2===r||5===r?m["default"].createElement(u,d({},p,{isStatic:5===r})):m["default"].createElement(s,d({},p,{disabledDate:t}));break;case"month":h=m["default"].createElement(o,d({},p,{isStatic:2===r||4===r}));break;case"year":h=m["default"].createElement(n,p);break;case"type":h=m["default"].createElement(a,d({},p,{formatType:r,formatList:this.formatList}))}return h},render:function(){var e=this.props,a=e.type,n=e.className,i=e.timeFormatType,l=e.extOpeartion,r=e.onMouseDown,o=this.state,s=o.formatType,d=o.panel,u=o.pointer,f={1:3,2:2,3:1},h=null,p=m["default"].createElement(c,{key:"calendarTimer",accuracy:f[i],startOf:this.start,endOf:this.end,date:u,onChange:this.handleChangePointer},l);return 4===a?m["default"].createElement("div",{className:(0,v["default"])(n,"calendarContainer","calendarTimer"),key:"calendar",ref:"calendar",onMouseDown:r},p):(1!==a&&5!==a||(h=m["default"].createElement(t,{formatType:s,formatList:this.formatList,onClick:this.toggleTypeSelector})),m["default"].createElement("div",{className:(0,v["default"])(n,"calendarContainer",["YMD","YM","MD","Y","M","D"][s],"panel_"+d),key:"calendar",ref:"calendar",onMouseDown:r},h,m["default"].createElement(S["default"],{component:"div",className:(0,v["default"])("calendarWrapper",{calendarStatic:2===s||5===s,cm_magnify:this.animationMagnify,cm_shrink:this.animationShrink}),transitionName:"typeSwitch",enterTimeout:200,leaveTimeout:200},this.renderPanel()),[3,4,5].indexOf(a)>-1?p:null))}})}function s(e){return k=e,I={0:k.gCalendarTypeYMD,1:k.gCalendarTypeYM,2:k.gCalendarTypeMD,3:k.gCalendarTypeY,4:k.gCalendarTypeM,5:k.gCalendarTypeD},o()}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){var a=[],n=!0,i=!1,l=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(s){i=!0,l=s}finally{try{!n&&o["return"]&&o["return"]()}finally{if(i)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t["default"]=s;var c=a(22),f=(n(c),a(8)),h=n(f),p=a(14),m=n(p),g=a(38),v=n(g),y=a(34),b=n(y),C=a(69),S=n(C),_=a(46),E=n(_),w=(0,b["default"])("1900-1-1"),N=[31,29,31,30,31,30,31,31,30,31,30,31],k={},I={};e.exports=t["default"]},,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=l(e),a=t.dateStr;if(a){var n=/^(\d{4}?)-(\d{1,2}?)-$/g,i=/^-(\d{1,2}?)-(\d{1,2}?)$/g,r=/^--(\d{1,2}?)$/g,o=/^-(\d{1,2}?)-$/g,s=/^(\d{4}?)--$/g;if(a.match(n))return a.replace(/-$/g,"");if(a.match(i))return a.replace(/^-/g,"");if(a.match(s))return a.replace("--","");if(a.match(o))return m.lang.gMonth[+e.replace(/-/g,"")-1];if(a.match(r))return a.replace("--","")}return a}function l(e){var t=["00","00","00"],a=(e||"").replace(I,function($,e,a,n){return e&&(t[0]=e),a&&(t[1]=a),n&&(t[2]=n),""});return{dateStr:o["default"].trim(a),timeList:t}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),o=n(r),s=a(22),d=(n(s),a(38)),u=n(d),c=a(14),f=n(c),h=a(23),p=n(h),m=a(9),g=a(55),v=n(g),y=a(34),b=(n(y),a(42)),C=n(b),S=a(73),_=n(S),E=a(52),w=(n(E),a(46)),N=n(w),k={dateTime_date:1,dateTime_time:4,dateTime_both:5},I=/(\d{1,2}):(\d{1,2})(?::(\d{1,2}))?/g,T=0;t["default"]=f["default"].createClass({displayName:"Component(DateTimeMobile)",mixins:[N["default"],v["default"]],getInitialState:function(){return T++,this.num=T,{isOpen:!1,displayValue:i(this.props.fill)}},componentWillUpdate:function(e,t){i(e.fill)===this.state.displayValue||this.inEdit||this.setState({displayValue:i(e.fill)})},_saveCurrentData:function(e){C["default"].dispatch({type:"setValue",id:this.props.data.id,value:e})},handleChangeDate:function(e){var t=this.props.fill||"",a=l(t),n=(a.dateStr,a.timeList),i="";1!==this.caType&&(i=n.join(":")),this._saveCurrentData(o["default"].trim(e+" "+i))},handleChangeTime:function(e,t){var a=t.target.value,n=this.props.fill||"",i=l(n),r=i.dateStr,s=i.timeList,d=[];1!==this.caType&&(d=s.slice(),d[e]=a||"00"),this._saveCurrentData(o["default"].trim(r+" "+d.join(":")))},handleEmptyDate:function(e){e.stopPropagation(),this.handleChangeDate("")},popCalendar:function(){var e=this.props,t=e.isBirthDate,a=e.data,n=e.fill,i=a.dateFormat,l=a.formatType,r=a.isLimitDayInterval,s=a.dayIntervalFrom,d=a.dayIntervalTo,u=a.isLimitDays,c=a.limitDays,h=null;if(u&&!o["default"].isEmpty(c)){h=[];for(var m=0;m<7;m++)c.indexOf(m+1)===-1&&h.push("W"+m)}var g=n||"";g&&g.match(/[:]/)&&(g=o["default"].trim(g.replace(I,""))),p["default"].render(f["default"].createElement(_["default"],{formatType:l,dateFormat:i||(t?[1,3]:[1]),isLimitDayInterval:r,dayIntervalFrom:s,dayIntervalTo:d,disableDate:h,defaultValue:g,onChange:this.handleChangeDate}),document.getElementById("popwin"))},renderDropDown:function(e,t,a,n,i,l){var r=t[0],o=t[1],s=[];s.push(f["default"].createElement("option",{key:"defaultDisabled",value:null,disabled:!0,selected:!0,hidden:!0,style:{display:"none"}},""));var d=this.formStyle(),u=d.inputStyle;for(r;r<=o;r++)s.push(f["default"].createElement("option",{value:r,key:"s"+r},r));return f["default"].createElement("div",{className:"fbc_dateTimeSelectWrapper",key:n,style:{width:i}},f["default"].createElement("div",{className:"fbc_select fbc_dateTimeSelect"},f["default"].createElement("i",{className:"fbc_selectArrow",style:{lineHeight:u.height+"px"}},m.lang.gTimeUnit[l]),f["default"].createElement("select",{className:"fbc_innerSelect",value:e,style:u,onChange:this.handleChangeTime.bind(this,l)},s)))},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isBirthDate,s=t.id,d=t.timePrecision,c=this.formStyle(),h=c.inputStyle,p=c.inputIconStyle,g=t.isCustomField?t.cfDateTimeType:t.type,v=k[g]||1;r&&(v=1),this.caType=v;var y=null;a&&(y=l(a).timeList);var b=null,C=Math.min(3,+(d||3));return 4===v?b=f["default"].createElement("div",{className:"fbc_timeSelector fbc_timeOnly"},this.renderDropDown(y?+y[0]:null,[0,23],m.lang.cDateTimeHour,"dpHour",100/C+"%",0),C<2?null:this.renderDropDown(y?+y[1]:null,[0,59],m.lang.cDateTimeMin,"dpMin",100/C+"%",1),C<3?null:this.renderDropDown(y?+y[2]:null,[0,59],m.lang.cDateTimeSec,"dpSec",100/C+"%",2)):5===v?(b=[],b.push(f["default"].createElement("div",{className:"fbc_datetime fbc_dateTimeSelector",key:"dateTimeSelector"},f["default"].createElement("i",{className:"iconfont fbc_dtIcon",style:p},"birthDate"===g?String.fromCharCode(59081):String.fromCharCode(59141)),f["default"].createElement("div",{className:"fbc_input",style:o["default"].assign({},h,{paddingLeft:(h.fontSize||14)+10}),onClick:this.popCalendar},f["default"].createElement("div",{className:"fbi_input"},this.state.displayValue),this.state.displayValue?f["default"].createElement("a",{className:"iconfont fbc_empty",style:{height:h.height-2,lineHeight:h.height-2+"px"},onClick:this.handleEmptyDate},String.fromCharCode(58982)):null))),b.push(f["default"].createElement("div",{className:"fbc_timeSelector fbc_dateTimeSelector",key:"timerSelector"},this.renderDropDown(y?+y[0]:null,[0,23],m.lang.cDateTimeHour,"dpHour",100/C+"%",0),C<2?null:this.renderDropDown(y?+y[1]:null,[0,59],m.lang.cDateTimeMin,"dpMin",100/C+"%",1),C<3?null:this.renderDropDown(y?+y[2]:null,[0,59],m.lang.cDateTimeSec,"dpSec",100/C+"%",2)))):1===v&&(b=f["default"].createElement("div",{className:"fbc_datetime",key:"dateTimeSelector"},f["default"].createElement("i",{className:"iconfont fbc_dtIcon",style:p},"birthDate"===g?String.fromCharCode(59081):String.fromCharCode(59141)),f["default"].createElement("div",{className:"fbc_input",style:o["default"].assign({},h,{paddingLeft:(h.fontSize||14)+5}),onClick:this.popCalendar},f["default"].createElement("div",{className:"fbi_input"},this.state.displayValue),this.state.displayValue?f["default"].createElement("a",{className:"iconfont fbc_empty",style:{height:h.height-2,lineHeight:h.height-2+"px"},onClick:this.handleEmptyDate},String.fromCharCode(58982)):null))),f["default"].createElement("div",{className:(0,u["default"])("fb_component",g),id:s,style:i,ref:"cdDateTime"},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n),f["default"].createElement("div",{className:"fbc_content",style:{width:"100%"}},b,f["default"].createElement("div",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(22),o=n(r),s=a(38),d=(n(s),a(14)),u=n(d),c=a(9),f=a(30),h=n(f),p=a(74),m=n(p),g=a(68),v=n(g),y=a(46),b=n(y),C=(0,v["default"])(c.lang);t["default"]=u["default"].createClass({displayName:"PopCalendar",mixins:[b["default"]],getInitialState:function(){var e=this;return h["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"}]).then(function(t){t&&t.innerState&&e.setState({rectTop:t.rect.top})}),{}},componentDidMount:function(){(0,o["default"])(".ie8").length>0?(0,o["default"])("html").addClass("ie8noscroll"):(0,o["default"])("html").addClass("noscroll")},componentWillUnmount:function(){(0,o["default"])("html").removeClass("noscroll").removeClass("ie8noscroll")},handleClose:function(){(0,o["default"])("html").removeClass("noscroll").removeClass("ie8noscroll"),this.refs.popwin.doClose()},handleDateChange:function(e,t){var a=this;this.props.onChange&&this.props.onChange(t),window.setTimeout(function(){a.handleClose()},80)},render:function(){var e=this.props,t={ref:"calendar",type:1,formatType:e.formatType,formatList:l["default"].map(e.dateFormat||[1],function(e){return e-1}),range:e.isLimitDayInterval?[e.dayIntervalFrom||-1,e.dayIntervalTo||-1]:!!e.isBirthDate&&[-1,!0],disabledDate:e.disableDate,defaultValue:e.defaultValue,triggerChange:!0,onChange:this.handleDateChange};return u["default"].createElement(m["default"],{className:"pop_calendar",ref:"popwin",boxStyle:{marginTop:this.state.rectTop?Math.max(60-this.state.rectTop,60):null}},u["default"].createElement(C,t))}}),e.exports=t["default"]},,function(e,t,a){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(22),r=i(l),o=a(14),s=i(o),d=a(38),u=i(d),c=a(8),f=i(c),h=a(55),p=i(h),m=a(42),g=i(m),v=a(9),y=a(46),b=i(y),C=a(30),S=a(33),_=a(32),E=i(_);a(76),a(77),a(78),a(79);var w=a(80);n.jQuery=n.$=r["default"];var N=g["default"].FILE_TYPE_LIST,k=s["default"].createClass({displayName:"FileBlock",shouldComponentUpdate:function(e,t){return!(0,S.shallowEqual)(e.item||{},this.props.item||{})||!(0,S.shallowEqual)(e.children||{},this.props.children||{})},componentDidUpdate:function(e){if(!C.isOldIE&&s["default"].Children.count(this.props.children)){var t=(this.props.item||{}).idx||null;((e.item||{}).idx||null!==t)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)}},handleRemoveFile:function(e){e.stopPropagation(),this.props.onRemoveFile(this.props.item.idx)},handleSetRawId:function(){this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},handleAddFile:function(){C.isOldIE||s["default"].Children.count(this.props.children)||this.props.onAddFile((this.props.item||{}).idx||null,!s["default"].Children.count(this.props.children))},getErrorInfo:function(){var e=this.props,t=e.item,a=e.maxSize;if(t&&t.error){var n=v.lang["cUploadFailed"+t.error];return"ILLEGAL_FILE_SIZE"===t.error&&(n=n({fileSize:a})),n}return null},render:function(){var e=this.props,t=e.item,a=e.maxSize,n=e.inputStyle,i=e.inputIconStyle,l=e.children,r=null,o=58979;return t?(o=t.error?58938:58988,r=s["default"].createElement("p",{className:"fbc_ufText"},s["default"].createElement("a",{href:"javascript:void(0);"},t.error?this.getErrorInfo():t.name),s["default"].createElement("span",{className:"fbc_ufSize"},t.error?t.name:t.size?(0,w.fileSizeBeauty)(t.size):"-"))):r=s["default"].createElement("p",{className:"fbc_ufText"},s["default"].createElement("span",null,v.lang.cFileSizeHint({fileSize:a}))),s["default"].createElement("div",{className:(0,u["default"])("fbc_uploadFile",{empty:!t,succeed:t,error:t&&t.error}),style:n,onClick:this.handleAddFile,onMouseDown:this.handleSetRawId,onTouchStart:this.handleSetRawId},s["default"].createElement("i",{className:"iconfont fbc_ufIcon",style:{lineHeight:i.lineHeight,fontSize:i.fontSize}},String.fromCharCode(o)),s["default"].createElement("div",{className:"fbc_ufContent"},r,t?s["default"].createElement("a",{className:"iconfont fbc_ufRemove",title:v.lang.cRemoveFile,style:{lineHeight:n.lineHeight},onClick:this.handleRemoveFile},String.fromCharCode(58980)):null),l)}}),I=1/0;t["default"]=s["default"].createClass({displayName:"Component(Attachment)",mixins:[b["default"],p["default"]],getInitialState:function(){return this.uploaderFileList={},this.fileProcessContent={},{tipHint:!1}},componentWillUpdate:function(e,t){var a=e.valid;a&&a.indexOf("tipHint")>-1&&this.props.valid.indexOf("tipHint")===-1&&!t.tipHint&&this.setState({tipHint:!0})},componentDidUpdate:function(){var e=this;if(!C.isOldIE){var t=this.props,a=t.data,n=t.fill,i=a.fileNumber?+a.fileNumber:I,l=n?n.length:0,r=Math.max(a.isAcceptMultipleFile?i-l:1,1);this.refs.uploader&&this.refs.uploader.doUpdateInputInfo({maxFileNumber:r,isMultiple:r>1})}this.state.tipHint&&!this.tipHintTimer&&(this.tipHintTimer=setTimeout(function(){e.setState({tipHint:!1}),e.tipHintTimer=null},1200))},componentWillUnmount:function(){clearTimeout(this.tipHintTimer)},handleUpdateFileUploaderProcessId:function(e){this.refs.uploader.doSetFrId(e)},handleAddFile:function(e,t){this.refs.uploader.doSetFrId(e),t&&this.refs.uploader.doUploadTigger()},handleRemoveFile:function(e){g["default"].dispatch({type:"removeFile",id:this.props.data.id,idx:e})},handleFileAdd:function(e){this.fileProcessContent.add=[].concat(this.fileProcessContent.add||[],e)},handleFileUpdate:function(e,t){this.fileProcessContent.update=[].concat(this.fileProcessContent.update||[],{id:t,fileInfo:e})},handleFlushFileProcess:function(){var e=this.fileProcessContent;this.fileProcessContent={},E["default"].log("flush attachment~~",e),g["default"].dispatch({type:"fileProcessFlush",isImage:!1,id:this.props.data.id,processData:e})},handleFileUploadDestroy:function(){this.uploaderFile=null},renderTips:function(){var e=this.props,t=e.data,a=e.valid,n=this.formStyle(),i=n.tipsStyle;if(1!==t.isLimitFileType)return null;var l=null,r=(a||[]).indexOf("tip")>-1;if(t.isLimitFileType&&!f["default"].isEmpty(t.fileTypes)){var o=f["default"].map(t.fileTypes||[],function(e){return N[e]});l=v.lang.cFileSupportFunc({fileTypes:o.join(", ")})}return s["default"].createElement("p",{className:(0,u["default"])("fbc_tips",{error:r||this.state.tipHint}),style:i},l)},renderFilePreviewList:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=(t.valid,
t.isMobile),l=this.formStyle(),r=l.inputStyle,o=l.inputIconStyle,d=a.isLimitFileSize&&a.fileSize?a.fileSize:500,u=null,c=!n||f["default"].isEmpty(n);a.isAcceptMultipleFile&&(c=n&&n.length&&n.length<(a.fileNumber?+a.fileNumber:I)||!n||f["default"].isEmpty(n));var h=[],p=n?n.length:0,m=a.fileNumber?+a.fileNumber:I;if(C.isOldIE||(this.uploaderFile=this.uploaderFile||s["default"].createElement(w.FileUploader,{ref:"uploader",isMultiple:!!a.isAcceptMultipleFile,image:!1,maxFileNumber:a.isAcceptMultipleFile?m-p:1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,onDestroy:this.handleFileUploadDestroy})),f["default"].forEach(n,function(t,n){u=c||n+1!==p?null:e.uploaderFile,C.isOldIE&&(u=e.uploaderFileList[t.idx]=e.uploaderFileList[t.idx]||s["default"].createElement(w.FileUploader,{isMultiple:!1,maxFileNumber:1,cpId:a.id,key:"fi"+t.idx,onFileUpdate:e.handleFileUpdate,image:!1,onFileAdd:e.handleFileAdd,onFlushFileProcess:e.handleFlushFileProcess,fieldId:t.idx})),h.push(s["default"].createElement(k,{key:"fp"+t.idx,item:t,idx:n,isMobile:i,maxSize:d,inputStyle:r,inputIconStyle:o,onUpdateFileProcessId:e.handleUpdateFileUploaderProcessId,onAddFile:e.handleAddFile,onRemoveFile:e.handleRemoveFile},u))}),c){var v=g["default"].getPreparedFileIdx(a.id);u=C.isOldIE?this.uploaderFileList[v]=this.uploaderFileList[v]||s["default"].createElement(w.FileUploader,{isMultiple:!1,maxFileNumber:1,cpId:a.id,key:"fi"+v,image:!1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fieldId:v}):this.uploaderFile,h.push(s["default"].createElement(k,{key:"fp"+v,item:null,idx:null,isMobile:i,maxSize:d,inputStyle:r,inputIconStyle:o,onUpdateFileProcessId:this.handleUpdateFileUploaderProcessId,onAddFile:this.handleAddFile,onRemoveFile:this.handleRemoveFile},u))}return h},render:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=e.componentStyle,i=e.style,l=e.itemNum,r=e.isMobile,o=10*(r?10:t.cpWidth||8),d={},c={};return r||2!==+t.cpLayout||(d={"float":"left",paddingTop:6,width:((i.bodyStyle||{}).cpTitleWidth||20)+"%"},c={"float":"left",width:100-((i.bodyStyle||{}).cpTitleWidth||20)+"%"},l&&l>1&&(d.width="auto",d.maxWidth=105-o+"%",c.width=o-5+"%",o=100)),s["default"].createElement("div",{className:(0,u["default"])("fb_component",t.type),id:t.id,style:n},s["default"].createElement("div",{className:"fb_componentText",style:d},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(a)),s["default"].createElement("div",{className:"fb_componentBody",style:c},s["default"].createElement("div",{className:(0,u["default"])("fbc_content","fbc_widthCp"),style:{width:o+"%"}},this.renderFilePreviewList())))}}),e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,a){var n,i,l;!function(r){i=[a(22)],n=r,l="function"==typeof n?n.apply(t,i):n,!(void 0!==l&&(e.exports=l))}(function($){var e=0,t=Array.prototype.slice;$.cleanData=function(e){return function(t){var a,n,i;for(i=0;null!=(n=t[i]);i++)try{a=$._data(n,"events"),a&&a.remove&&$(n).triggerHandler("remove")}catch(l){}e(t)}}($.cleanData),$.widget=function(e,t,a){var n,i,l,r,o={},s=e.split(".")[0];return e=e.split(".")[1],n=s+"-"+e,a||(a=t,t=$.Widget),$.expr[":"][n.toLowerCase()]=function(e){return!!$.data(e,n)},$[s]=$[s]||{},i=$[s][e],l=$[s][e]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new l(e,t)},$.extend(l,i,{version:a.version,_proto:$.extend({},a),_childConstructors:[]}),r=new t,r.options=$.widget.extend({},r.options),$.each(a,function(e,a){return $.isFunction(a)?void(o[e]=function(){var n=function(){return t.prototype[e].apply(this,arguments)},i=function(a){return t.prototype[e].apply(this,a)};return function(){var e,t=this._super,l=this._superApply;return this._super=n,this._superApply=i,e=a.apply(this,arguments),this._super=t,this._superApply=l,e}}()):void(o[e]=a)}),l.prototype=$.widget.extend(r,{widgetEventPrefix:i?r.widgetEventPrefix||e:e},o,{constructor:l,namespace:s,widgetName:e,widgetFullName:n}),i?($.each(i._childConstructors,function(e,t){var a=t.prototype;$.widget(a.namespace+"."+a.widgetName,l,t._proto)}),delete i._childConstructors):t._childConstructors.push(l),$.widget.bridge(e,l),l},$.widget.extend=function(e){for(var a,n,i=t.call(arguments,1),l=0,r=i.length;l<r;l++)for(a in i[l])n=i[l][a],i[l].hasOwnProperty(a)&&void 0!==n&&($.isPlainObject(n)?e[a]=$.isPlainObject(e[a])?$.widget.extend({},e[a],n):$.widget.extend({},n):e[a]=n);return e},$.widget.bridge=function(e,a){var n=a.prototype.widgetFullName||e;$.fn[e]=function(i){var l="string"==typeof i,r=t.call(arguments,1),o=this;return l?this.each(function(){var t,a=$.data(this,n);return"instance"===i?(o=a,!1):a?$.isFunction(a[i])&&"_"!==i.charAt(0)?(t=a[i].apply(a,r),t!==a&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0):$.error("no such method '"+i+"' for "+e+" widget instance"):$.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+i+"'")}):(r.length&&(i=$.widget.extend.apply(null,[i].concat(r))),this.each(function(){var e=$.data(this,n);e?(e.option(i||{}),e._init&&e._init()):$.data(this,n,new a(i,this))})),o}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=$(a||this.defaultElement||this)[0],this.element=$(a),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=$(),this.hoverable=$(),this.focusable=$(),a!==this&&($.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=$(a.style?a.ownerDocument:a.document||a),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(e,t){var a,n,i,l=e;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(l={},a=e.split("."),e=a.shift(),a.length){for(n=l[e]=$.widget.extend({},this.options[e]),i=0;i<a.length-1;i++)n[a[i]]=n[a[i]]||{},n=n[a[i]];if(e=a.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];l[e]=t}return this._setOptions(l),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,t,a){var n,i=this;"boolean"!=typeof e&&(a=t,t=e,e=!1),a?(t=n=$(t),this.bindings=this.bindings.add(t)):(a=t,t=this.element,n=this.widget()),$.each(a,function(a,l){function r(){if(e||i.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled"))return("string"==typeof l?i[l]:l).apply(i,arguments)}"string"!=typeof l&&(r.guid=l.guid=l.guid||r.guid||$.guid++);var o=a.match(/^([\w:-]*)\s*(.*)$/),s=o[1]+i.eventNamespace,d=o[2];d?n.delegate(d,s,r):t.bind(s,r)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=$(this.bindings.not(e).get()),this.focusable=$(this.focusable.not(e).get()),this.hoverable=$(this.hoverable.not(e).get())},_delay:function(e,t){function a(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(a,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){$(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){$(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){$(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){$(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,a){var n,i,l=this.options[e];if(a=a||{},t=$.Event(t),t.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(n in i)n in t||(t[n]=i[n]);return this.element.trigger(t,a),!($.isFunction(l)&&l.apply(this.element[0],[t].concat(a))===!1||t.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(e,t){$.Widget.prototype["_"+e]=function(a,n,i){"string"==typeof n&&(n={effect:n});var l,r=n?n===!0||"number"==typeof n?t:n.effect||t:e;n=n||{},"number"==typeof n&&(n={duration:n}),l=!$.isEmptyObject(n),n.complete=i,n.delay&&a.delay(n.delay),l&&$.effects&&$.effects.effect[r]?a[e](n):r!==e&&a[r]?a[r](n.duration,n.easing,i):a.queue(function(t){$(this)[e](),i&&i.call(a[0]),t()})}});$.widget})},function(e,t,a){var n,i,l;!function(r){"use strict";i=[a(22)],n=r,l="function"==typeof n?n.apply(t,i):n,!(void 0!==l&&(e.exports=l))}(function($){"use strict";var e=0;$.ajaxTransport("iframe",function(t){if(t.async){var a,n,i,l=t.initialIframeSrc||"javascript:false;";return{send:function(r,o){a=$('<form style="display:none;"></form>'),a.attr("accept-charset",t.formAcceptCharset),i=/\?/.test(t.url)?"&":"?","DELETE"===t.type?(t.url=t.url+i+"_method=DELETE",t.type="POST"):"PUT"===t.type?(t.url=t.url+i+"_method=PUT",t.type="POST"):"PATCH"===t.type&&(t.url=t.url+i+"_method=PATCH",t.type="POST"),e+=1,n=$('<iframe src="'+l+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,i=$.isArray(t.paramName)?t.paramName:[t.paramName];n.unbind("load").bind("load",function(){var e;try{if(e=n.contents(),!e.length||!e[0].firstChild)throw new Error}catch(t){e=void 0}o(200,"success",{iframe:e}),$('<iframe src="'+l+'"></iframe>').appendTo(a),window.setTimeout(function(){a.remove()},0)}),a.prop("target",n.prop("name")).prop("action",t.url).prop("method",t.type),t.formData&&$.each(t.formData,function(e,t){$('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(a)}),t.fileInput&&t.fileInput.length&&"POST"===t.type&&(e=t.fileInput.clone(),t.fileInput.after(function(t){return e[t]}),t.paramName&&t.fileInput.each(function(e){$(this).prop("name",i[e]||t.paramName)}),a.append(t.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),t.fileInput.removeAttr("form")),a.submit(),e&&e.length&&t.fileInput.each(function(t,a){var n=$(e[t]);$(a).prop("name",n.prop("name")).attr("form",n.attr("form")),n.replaceWith(a)})}),a.append(n).appendTo(document.body)},abort:function(){n&&n.unbind("load").prop("src",l),a&&a.remove()}}}}),$.ajaxSetup({converters:{"iframe text":function(e){return e&&$(e[0].body).text()},"iframe json":function(e){return e&&$.parseJSON($(e[0].body).text())},"iframe html":function(e){return e&&$(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&$.isXMLDoc(t)?t:$.parseXML(t.XMLDocument&&t.XMLDocument.xml||$(t.body).html())},"iframe script":function(e){return e&&$.globalEval($(e[0].body).text())}}})})},function(e,t,a){var n,i,l;!function(r){"use strict";i=[a(22)],n=r,l="function"==typeof n?n.apply(t,i):n,!(void 0!==l&&(e.exports=l))}(function($){"use strict";window.XDomainRequest&&!$.support.cors&&$.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(a,n){function i(e,a,i,l){t.onload=t.onerror=t.ontimeout=$.noop,t=null,n(e,a,i,l)}var l=/\?/.test(e.url)?"&":"?";t=new XDomainRequest,"DELETE"===e.type?(e.url=e.url+l+"_method=DELETE",e.type="POST"):"PUT"===e.type?(e.url=e.url+l+"_method=PUT",e.type="POST"):"PATCH"===e.type&&(e.url=e.url+l+"_method=PATCH",e.type="POST"),t.open(e.type,e.url),t.onload=function(){i(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)},t.onerror=function(){i(404,"Not Found")},e.xdrTimeout&&(t.ontimeout=function(){i(0,"timeout")},t.timeout=e.xdrTimeout),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=$.noop(),t.abort())}}}})})},function(e,t,a){var n,i,l;!function(r){"use strict";i=[a(22),a(76)],n=r,l="function"==typeof n?n.apply(t,i):n,!(void 0!==l&&(e.exports=l))}(function($){"use strict";function e(e){var t="dragover"===e;return function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var n=a.dataTransfer;n&&$.inArray("Files",n.types)!==-1&&this._trigger(e,$.Event(e,{delegatedEvent:a}))!==!1&&(a.preventDefault(),t&&(n.dropEffect="copy"))}}$.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||$('<input type="file">').prop("disabled")),$.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),$.support.xhrFormDataFileUpload=!!window.FormData,$.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),$.widget("blueimp.fileupload",{options:{dropZone:$(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,t){return e=this.messages[e]||e.toString(),t&&$.each(t,function(t,a){e=e.replace("{"+t+"}",a)}),e},formData:function(e){return e.serializeArray()},add:function(e,t){return!e.isDefaultPrevented()&&void((t.autoUpload||t.autoUpload!==!1&&$(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:$.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,a){var n=e-this.timestamp;return(!this.bitrate||!a||n>a)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&$.support.xhrFileUpload||$.support.xhrFormDataFileUpload)},_getFormData:function(e){var t;return"function"===$.type(e.formData)?e.formData(e.form):$.isArray(e.formData)?e.formData:"object"===$.type(e.formData)?(t=[],$.each(e.formData,function(e,a){t.push({name:e,value:a})}),t):[]},_getTotal:function(e){var t=0;return $.each(e,function(e,a){t+=a.size||1}),t},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?$.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var a,n=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,a=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=a-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=a,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,a,t.bitrateInterval),this._trigger("progress",$.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",$.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var t=this,a=e.xhr?e.xhr():$.ajaxSettings.xhr();a.upload&&($(a.upload).bind("progress",function(a){var n=a.originalEvent;a.lengthComputable=n.lengthComputable,a.loaded=n.loaded,a.total=n.total,t._onProgress(a,e)}),e.xhr=function(){return a})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(e){var t,a=this,n=e.files[0],i=e.multipart||!$.support.xhrFileUpload,l="array"===$.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=$.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),i&&!e.blob&&this._isInstanceOf("File",n)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(n.name)+'"'),i?$.support.xhrFormDataFileUpload&&(e.postMessage?(t=this._getFormData(e),e.blob?t.push({name:l,value:e.blob}):$.each(e.files,function(a,n){t.push({name:"array"===$.type(e.paramName)&&e.paramName[a]||l,value:n})})):(a._isInstanceOf("FormData",e.formData)?t=e.formData:(t=new FormData,$.each(this._getFormData(e),function(e,a){t.append(a.name,a.value)})),e.blob?t.append(l,e.blob,n.name):$.each(e.files,function(n,i){(a._isInstanceOf("File",i)||a._isInstanceOf("Blob",i))&&t.append("array"===$.type(e.paramName)&&e.paramName[n]||l,i,i.uploadName||i.name)})),e.data=t):(e.contentType=n.type||"application/octet-stream",e.data=e.blob||n),e.blob=null},_initIframeSettings:function(e){var t=$("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=$(e.fileInput),a=e.paramName;return a?$.isArray(a)||(a=[a]):(a=[],t.each(function(){for(var e=$(this),t=e.prop("name")||"files[]",n=(e.prop("files")||[1]).length;n;)a.push(t),n-=1}),a.length||(a=[t.prop("name")||"files[]"])),a},_initFormSettings:function(e){e.form&&e.form.length||(e.form=$(e.fileInput.prop("form")),e.form.length||(e.form=$(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===$.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=$.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,a){var n=$.Deferred(),i=n.promise();return t=t||this.options.context||i,e===!0?n.resolveWith(t,a):e===!1&&n.rejectWith(t,a),i.abort=n.promise,this._enhancePromise(i)},_addConvenienceMethods:function(e,t){var a=this,n=function(e){return $.Deferred().resolveWith(a,e).promise()};t.process=function(e,i){return(e||i)&&(t._processQueue=this._processQueue=(this._processQueue||n([this])).then(function(){return t.errorThrown?$.Deferred().rejectWith(a,[t]).promise():n(arguments)}).then(e,i)),this._processQueue||n([this])},t.submit=function(){return"pending"!==this.state()&&(t.jqXHR=this.jqXHR=a._trigger("submit",$.Event("submit",{delegatedEvent:e}),this)!==!1&&a._onSend(e,this)),this.jqXHR||a._getXHRPromise()},t.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",a._trigger("fail",null,this),a._getXHRPromise(!1))},t.state=function(){return this.jqXHR?a._getDeferredState(this.jqXHR):this._processQueue?a._getDeferredState(this._processQueue):void 0},t.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===a._getDeferredState(this._processQueue)},t.progress=function(){return this._progress},t.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),a=t&&t.split("-"),n=a&&a.length>1&&parseInt(a[1],10);return n&&n+1},_chunkedUpload:function(e,t){e.uploadedBytes=e.uploadedBytes||0;var a,n,i=this,l=e.files[0],r=l.size,o=e.uploadedBytes,s=e.maxChunkSize||r,d=this._blobSlice,u=$.Deferred(),c=u.promise();return!(!(this._isXHRUpload(e)&&d&&(o||s<r))||e.data)&&(!!t||(o>=r?(l.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",l.error])):(n=function(){var t=$.extend({},e),c=t._progress.loaded;t.blob=d.call(l,o,o+s,l.type),t.chunkSize=t.blob.size,t.contentRange="bytes "+o+"-"+(o+t.chunkSize-1)+"/"+r,i._initXHRData(t),i._initProgressListener(t),a=(i._trigger("chunksend",null,t)!==!1&&$.ajax(t)||i._getXHRPromise(!1,t.context)).done(function(a,l,s){o=i._getUploadedBytes(s)||o+t.chunkSize,c+t.chunkSize-t._progress.loaded&&i._onProgress($.Event("progress",{lengthComputable:!0,loaded:o-t.uploadedBytes,total:o-t.uploadedBytes}),t),e.uploadedBytes=t.uploadedBytes=o,t.result=a,t.textStatus=l,t.jqXHR=s,i._trigger("chunkdone",null,t),i._trigger("chunkalways",null,t),o<r?n():u.resolveWith(t.context,[a,l,s])}).fail(function(e,a,n){t.jqXHR=e,t.textStatus=a,t.errorThrown=n,i._trigger("chunkfail",null,t),i._trigger("chunkalways",null,t),u.rejectWith(t.context,[e,a,n])})},this._enhancePromise(c),c.abort=function(){return a.abort()},n(),c)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,a,n){var i=n._progress.total,l=n._response;n._progress.loaded<i&&this._onProgress($.Event("progress",{lengthComputable:!0,loaded:i,total:i}),n),l.result=n.result=e,l.textStatus=n.textStatus=t,l.jqXHR=n.jqXHR=a,this._trigger("done",null,n)},_onFail:function(e,t,a,n){var i=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),i.jqXHR=n.jqXHR=e,i.textStatus=n.textStatus=t,i.errorThrown=n.errorThrown=a,this._trigger("fail",null,n)},_onAlways:function(e,t,a,n){this._trigger("always",null,n)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var a,n,i,l,r=this,o=r._getAJAXSettings(t),s=function(){return r._sending+=1,o._bitrateTimer=new r._BitrateTimer,a=a||((n||r._trigger("send",$.Event("send",{delegatedEvent:e}),o)===!1)&&r._getXHRPromise(!1,o.context,n)||r._chunkedUpload(o)||$.ajax(o)).done(function(e,t,a){r._onDone(e,t,a,o)}).fail(function(e,t,a){r._onFail(e,t,a,o)}).always(function(e,t,a){if(r._onAlways(e,t,a,o),r._sending-=1,r._active-=1,o.limitConcurrentUploads&&o.limitConcurrentUploads>r._sending)for(var n=r._slots.shift();n;){if("pending"===r._getDeferredState(n)){n.resolve();break}n=r._slots.shift()}0===r._active&&r._trigger("stop")})};return this._beforeSend(e,o),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(i=$.Deferred(),this._slots.push(i),l=i.then(s)):(this._sequence=this._sequence.then(s,s),l=this._sequence),l.abort=function(){return n=[void 0,"abort","abort"],a?a.abort():(i&&i.rejectWith(o.context,n),s())},this._enhancePromise(l)):s()},_onAdd:function(e,t){var a,n,i,l,r=this,o=!0,s=$.extend({},this.options,t),d=t.files,u=d.length,c=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,h=s.limitMultiFileUploadSizeOverhead,p=0,m=this._getParamName(s),g=0;if(!u)return!1;if(f&&void 0===d[0].size&&(f=void 0),(s.singleFileUploads||c||f)&&this._isXHRUpload(s))if(s.singleFileUploads||f||!c)if(!s.singleFileUploads&&f)for(i=[],a=[],l=0;l<u;l+=1)p+=d[l].size+h,(l+1===u||p+d[l+1].size+h>f||c&&l+1-g>=c)&&(i.push(d.slice(g,l+1)),n=m.slice(g,l+1),n.length||(n=m),a.push(n),g=l+1,p=0);else a=m;else for(i=[],a=[],l=0;l<u;l+=c)i.push(d.slice(l,l+c)),n=m.slice(l,l+c),n.length||(n=m),a.push(n);else i=[d],a=[m];return t.originalFiles=d,$.each(i||d,function(n,l){var s=$.extend({},t);return s.files=i?l:[l],s.paramName=a[n],r._initResponseObject(s),r._initProgressObject(s),r._addConvenienceMethods(e,s),o=r._trigger("add",$.Event("add",{delegatedEvent:e}),s)}),o},_replaceFileInput:function(e){var t=e.fileInput,a=t.clone(!0),n=t.is(document.activeElement);e.fileInputClone=a,$("<form></form>").append(a)[0].reset(),t.after(a).detach(),n&&a.focus(),$.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,n){return n===t[0]?a[0]:n}),t[0]===this.element[0]&&(this.element=a)},_handleFileTreeEntry:function(e,t){var a,n=this,i=$.Deferred(),l=function(t){t&&!t.entry&&(t.entry=e),i.resolve([t])},r=function(a){n._handleFileTreeEntries(a,t+e.name+"/").done(function(e){i.resolve(e)}).fail(l)},o=function(){a.readEntries(function(e){e.length?(s=s.concat(e),o()):r(s)},l)},s=[];return t=t||"",e.isFile?e._file?(e._file.relativePath=t,i.resolve(e._file)):e.file(function(e){e.relativePath=t,i.resolve(e)},l):e.isDirectory?(a=e.createReader(),o()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(e,t){var a=this;return $.when.apply($,$.map(e,function(e){return a._handleFileTreeEntry(e,t)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var t=e.items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries($.map(t,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):$.Deferred().resolve($.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=$(e);var t,a,n=e.prop("webkitEntries")||e.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if(t=$.makeArray(e.prop("files")),t.length)void 0===t[0].name&&t[0].fileName&&$.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(a=e.prop("value"),!a)return $.Deferred().resolve([]).promise();t=[{name:a.replace(/^.*\\/,"")}]}return $.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof $&&1!==e.length?$.when.apply($,$.map(e,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var t=this,a={fileInput:$(e.target),form:$(e.target.form)};this._getFileInputFiles(a.fileInput).always(function(n){a.files=n,t.options.replaceFileInput&&t._replaceFileInput(a),t._trigger("change",$.Event("change",{delegatedEvent:e}),a)!==!1&&t._onAdd(e,a)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,a={files:[]};t&&t.length&&($.each(t,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&a.files.push(n)}),this._trigger("paste",$.Event("paste",{delegatedEvent:e}),a)!==!1&&this._onAdd(e,a))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,a=e.dataTransfer,n={};a&&a.files&&a.files.length&&(e.preventDefault(),this._getDroppedFiles(a).always(function(a){n.files=a,t._trigger("drop",$.Event("drop",{delegatedEvent:e}),n)!==!1&&t._onAdd(e,n)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),$.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var a=$.inArray(e,this._specialOptions)!==-1;a&&this._destroyEventHandlers(),this._super(e,t),a&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof $||(e.fileInput=$(e.fileInput)),e.dropZone instanceof $||(e.dropZone=$(e.dropZone)),e.pasteZone instanceof $||(e.pasteZone=$(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),a=t.pop();return t.shift(),new RegExp(t.join("/"),a)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===$.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var e=this,t=this.options,a=this.element.data();$.each(this.element[0].attributes,function(n,i){var l,r=i.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),l=a[r],e._isRegExpOption(r,l)&&(l=e._getRegExp(l)),t[r]=l)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var t=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(a){e.files=a,t._onAdd(null,e)}):(e.files=$.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var t,a,n=this,i=$.Deferred(),l=i.promise();return l.abort=function(){return a=!0,t?t.abort():(i.reject(null,"abort","abort"),l)},this._getFileInputFiles(e.fileInput).always(function(l){if(!a){if(!l.length)return void i.reject();e.files=l,t=n._onSend(null,e),t.then(function(e,t,a){i.resolve(e,t,a)},function(e,t,a){i.reject(e,t,a)})}}),this._enhancePromise(l)}if(e.files=$.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})})},function(e,t,a){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,i=0;i<n;i++)t+=String.fromCharCode(a[i]);return window.btoa(t)}function l(e){return new Promise(function(t,a){var n=(new Date).getTime(),l=new FileReader;l.onloadend=function(a){if(l.error)return void t({e:a,base64img:null,value:null});if((new Date).getTime()-n>2e3)return void t({e:a,base64img:null,value:null});var r="data:"+e.type+";base64,"+i(l.result),o=new DataView(l.result),s=0,d=1;if(l.result.length<2||65496!=o.getUint16(s))return void t({e:a,base64img:r,value:d});s+=2;for(var u=o.byteLength;s<u-2;){var c=o.getUint16(s);switch(s+=2,c){case 65505:var f=o.getUint16(s);u=f-s,s+=2;break;case 274:d=o.getUint16(s+6,!1),u=0}}t({e:a,base64img:r,value:d})};try{l.readAsArrayBuffer(e.file)}catch(r){a()}})}function r(e){return new Promise(function(t,a){return e.type?e.type:void!function(){var e=new FileReader;e.onloadend=function(a){for(var n=new Uint8Array(e.result).subarray(0,4),i="",l=0,r=n.length;l<r;l++)i+=n[l].toString(16);var o=null;switch(i){case"89504e47":o="image/png";break;case"47494638":o="image/gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":o="image/jpeg"}t(o)};try{e.readAsArrayBuffer(fileData)}catch(a){t(null)}}()})}function o(e){if(null==e)return null;for(var t=T=T||["B","KB","MB","GB"],a=0,n=e;n>1024;)a++,
n/=1024;return n.toFixed(2)+t[a]}Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploader=t.fileSizeBeauty=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=a(22),u=n(d),c=a(14),f=n(c),h=a(38),p=n(h),m=a(8),g=n(m),v=a(55),y=n(v),b=a(42),C=n(b),S=a(9),_=a(46),E=n(_),w=a(30),N=a(33),k=a(32),I=n(k);a(76),a(77),a(78),a(79),e.jQuery=e.$=u["default"];var T=null,M={1:"rotate(0deg)",3:"rotate(180deg)",6:"rotate(90deg)",8:"rotate(270deg)"},x=f["default"].createClass({displayName:"FileUploader",getInitialState:function(){return this.maxFileNumber=this.props.maxFileNumber,{frId:null,isMultiple:this.props.isMultiple,maxFileNumber:this.props.maxFileNumber}},getDefaultProps:function(){return{image:!0}},shouldComponentUpdate:function(e,t){return!0},componentDidMount:function(){if(!w.isOldIE){var e=(0,u["default"])(this.refs.fileUploader);e.fileupload({replaceFileInput:!1,add:this._addFile,singleFileUploads:!1,dropZone:e,drop:function(e){e.stopPropagation()}}).on("click",function(e){e.stopPropagation()})}},_addFile:function(e,t){var a=this,n=(0,u["default"])(this.refs.fileUploader),i=this.state,l=i.maxFileNumber,r=i.frId,o=t.files,s=Math.min(l,o.length),d=0,c=[];I["default"].log("PFN --------- ",s,l,d,r),g["default"].forEach(o,function(e){return!(d>=s)&&(c.push(new Promise(function(t){a.uploadFile(e,0===d?r:null,t)})),void d++)}),this._promise=Promise.all(c).then(function(e){return a.props.onFlushFileProcess(),a._promise=null,n.val(""),!0})},componentWillUnmount:function(){w.isOldIE||(this.props.onDestroy&&this.props.onDestroy(),(0,u["default"])(this.refs.fileUploader).fileupload("destroy").off("click"))},doSetFrId:function(e){w.isOldIE||(I["default"].log("set FRID ..",e),this.setState({frId:e}))},doUpdateInputInfo:function(e){var t=e.maxFileNumber,a=e.isMultiple;w.isOldIE||this.setState({maxFileNumber:t,isMultiple:a})},doUploadTigger:function(){w.isOldIE||(0,u["default"])(this.refs.fileUploader).trigger("click")},uploadFile:function(e,t,a){var n=this,i={file:e,name:e.name,type:e.type,size:e.size},l=Promise.resolve(!0);this.props.image?(!i.type&&window.FileReader&&window.Blob&&(l=r(e).then(function(e){return i.type=e,e&&(i.name=i.name+e.split("/")[1]),!0})),l.then(function(){var t=window.URL||window.webkitURL;return new Promise(function(a){if(t)try{var n=new Image;n.src=t.createObjectURL(e),n.onload=function(){a({width:this.width,height:this.height})},n.onerror=function(){a({width:0,height:0})}}catch(i){a({width:0,height:0})}else a({width:0,height:0})})}).then(function(e){i.resolution=e,t?n.props.onFileUpdate(i,t):n.props.onFileAdd(i),a(!0)})):l.then(function(){t?n.props.onFileUpdate(i,t):n.props.onFileAdd(i),a(!0)})},handleStop:function(e){e.stopPropagation()},handleInputChange:function(e){if(w.isOldIE){var t=e.target.value,a={file:!0,name:g["default"].last(t.split(/[\\\/]/g)),type:null,size:null};null!=this.props.fieldId&&this.props.fieldId!==C["default"].getPreparedFileIdx(this.props.cpId)?this.props.onFileUpdate(a,this.props.fieldId):this.props.onFileAdd(a),this.props.onFlushFileProcess()}},render:function(){var e=this.props,t={multiple:e.isMultiple,accept:e.fileTypeAccept,size:e.isMultiple?null:1};return f["default"].createElement("input",s({className:"fbc_ufInput",type:"file",ref:"fileUploader"},t,{"data-idx":w.isOldIE?this.props.fieldId:null,onClick:this.handleStop,onChange:this.handleInputChange}))}}),D=f["default"].createClass({displayName:"FileBlock",getInitialState:function(){return{}},shouldComponentUpdate:function(e,t){return t.previewImg!==this.state.previewImg||t.previewImgOrientation!==this.state.previewImgOrientation||(!(0,N.shallowEqual)(e.item||{},this.props.item||{})||!(0,N.shallowEqual)(e.children||{},this.props.children||{}))},componentDidMount:function(){var e=this;w.isOldIE||!this.props.item||this.props.item.error?this.setState({previewImg:null,previewImgOrientation:null}):!function(){var t=e;l({file:e.props.item.fileData,type:e.props.item.type}).then(function(e){var a=(e.e,e.base64img),n=e.value;t.setState({previewImg:a,previewImgOrientation:M[n||1]})})["catch"](function(){t.setState({previewImg:null,previewImgOrientation:null})})}(),!w.isOldIE&&f["default"].Children.count(this.props.children)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},componentWillUpdate:function(e){var t=this;w.isOldIE||!e.item||e.item.name===(this.props.item||{}).name||e.item.error?(w.isOldIE||!e.item||e.item&&e.item.error)&&this.setState({previewImg:null,previewImgOrientation:null}):!function(){var a=t;l({file:e.item.fileData,type:e.item.type}).then(function(e){var t=(e.e,e.base64img),n=e.value;a.setState({previewImg:t,previewImgOrientation:M[n||1]})})["catch"](function(){a.setState({previewImg:null,previewImgOrientation:null})})}()},componentDidUpdate:function(e){if(!w.isOldIE&&f["default"].Children.count(this.props.children)){var t=(this.props.item||{}).idx||null;((e.item||{}).idx||null!==t)&&this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)}},handleRemoveFile:function(e){e.stopPropagation(),this.props.onRemoveFile(this.props.item.idx)},handleSetRawId:function(){this.props.onUpdateFileProcessId&&this.props.onUpdateFileProcessId((this.props.item||{}).idx||null)},handleAddFile:function(){w.isOldIE||f["default"].Children.count(this.props.children)||this.props.onAddFile((this.props.item||{}).idx||null,!f["default"].Children.count(this.props.children))},getErrorInfo:function(){var e=this.props,t=e.item,a=e.maxSize;if(t&&t.error){var n=S.lang["cUploadFailed"+t.error];return"ILLEGAL_FILE_SIZE"===t.error&&(n=n({fileSize:a})),n}return null},render:function(){var e=this.props,t=e.item,a=(e.idx,e.isMobile),n=e.maxSize,i=e.children,l=this.state,r=l.previewImg,o=l.previewImgOrientation,s=null,d=null,u=null,c=null,h=null;if(t&&!t.error)a?(d=this._c_mobileRemoveFile=this._c_mobileRemoveFile||f["default"].createElement("div",{className:"fbc_pafRemoveWrapper"},f["default"].createElement("a",{className:"fbc_pafRemove",title:S.lang.cRemoveFile,onClick:this.handleRemoveFile},S.lang.cRemoveFile)),s=f["default"].createElement("div",{className:"fbc_paImgPreview"},f["default"].createElement("div",{className:(0,p["default"])("fbc_selectedImage",{fbc_selectedImagePreview:r}),style:{backgroundImage:"url("+(r||"./images/form/IE8_ImgUploadSuccess.png")+")",transform:o}}))):(u=this._c_removeFile=this._c_removeFile||f["default"].createElement("a",{className:"fbc_pafRemove iconfont",title:S.lang.cRemoveFile,onClick:this.handleRemoveFile},String.fromCharCode(58982)),s=f["default"].createElement("div",{className:"fbc_paImgPreview"},u,f["default"].createElement("span",{className:"fbc_reUploadBtn"},S.lang.cPicAttachmentReload),f["default"].createElement("div",{className:(0,p["default"])("fbc_selectedImage",{fbc_selectedImagePreview:r}),style:{backgroundImage:"url("+(r||"./images/form/IE8_ImgUploadSuccess.png")+")",transform:o}})));else{var m=t&&t.error;c=f["default"].createElement("div",{className:"fbc_paImgPlaceholder"},f["default"].createElement("i",{className:"iconfont fbc_paImgState"},String.fromCharCode(m?58938:58997))),h=f["default"].createElement("div",{className:"fbc_paContentInfo"},f["default"].createElement("p",{className:"fbc_paAddTitle"},S.lang.cPicAttachmentAddTitle),f["default"].createElement("p",{className:(0,p["default"])("fbc_paAddTips",{error:m})},m?this.getErrorInfo():S.lang.cPicAttachmentAddTips({max:n})))}return f["default"].createElement("li",{className:(0,p["default"])("fbc_paItem",{add:!t,error:t&&t.error,selected:t}),onClick:this.handleAddFile,onMouseDown:this.handleSetRawId,onTouchStart:this.handleSetRawId},f["default"].createElement("div",{className:"fbc_paItem_wrapper",key:"itemWrapper"},s,c,h,i),d)}}),P=1/0;t["default"]=f["default"].createClass({displayName:"Component(PictureAttachment)",mixins:[E["default"],y["default"]],getInitialState:function(){return this.uploaderFileList={},this.fileProcessContent={},{tipHint:!1}},componentWillUpdate:function(e,t){var a=e.valid;a&&a.indexOf("tipHint")>-1&&this.props.valid.indexOf("tipHint")===-1&&!t.tipHint&&this.setState({tipHint:!0})},componentDidUpdate:function(){var e=this;if(!w.isOldIE){var t=this.props,a=t.data,n=t.fill,i=a.fileNumber?+a.fileNumber:P,l=n?n.length:0,r=Math.max(a.isAcceptMultipleFile?i-l:1,1);this.refs.uploader&&this.refs.uploader.doUpdateInputInfo({maxFileNumber:r,isMultiple:r>1})}this.state.tipHint&&!this.tipHintTimer&&(this.tipHintTimer=setTimeout(function(){e.setState({tipHint:!1}),e.tipHintTimer=null},1200))},componentWillUnmount:function(){clearTimeout(this.tipHintTimer)},handleUpdateFileUploaderProcessId:function(e){this.refs.uploader.doSetFrId(e)},handleAddFile:function(e,t){this.refs.uploader.doSetFrId(e),t&&this.refs.uploader.doUploadTigger()},handleRemoveFile:function(e){C["default"].dispatch({type:"removeFile",id:this.props.data.id,idx:e})},handleFileAdd:function(e){this.fileProcessContent.add=[].concat(this.fileProcessContent.add||[],e)},handleFileUpdate:function(e,t){this.fileProcessContent.update=[].concat(this.fileProcessContent.update||[],{id:t,fileInfo:e})},handleFlushFileProcess:function(){var e=this.fileProcessContent;this.fileProcessContent={},C["default"].dispatch({type:"fileProcessFlush",isImage:!0,id:this.props.data.id,processData:e})},handleFileUploadDestroy:function(){this.uploaderFile=null},renderTips:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=this.formStyle(),i=n.tipsStyle,l=this.state.tipHint,r=(a||[]).indexOf("tip")>-1,o=[];if(t.isLimitPicResolution){if(t.picMinWidth||t.picMaxWidth){var s="";t.picMinWidth&&t.picMaxWidth?s=t.picMinWidth+"px~"+t.picMaxWidth+"px":t.picMinWidth?s=">"+t.picMinWidth+"px":t.picMaxWidth&&(s="<"+t.picMaxWidth+"px"),o.push(S.lang.cPicAttachmentTipsWidth({value:s}))}if(t.picMinHeight||t.picMaxHeight){var d="";t.picMinHeight&&t.picMaxHeight?d=t.picMinHeight+"px~"+t.picMaxHeight+"px":t.picMinHeight?d=">"+t.picMinHeight+"px":t.picMaxHeight&&(d="<"+t.picMaxHeight+"px"),o.push(S.lang.cPicAttachmentTipsHeight({value:d}))}}return o=o.join(", "),f["default"].createElement("p",{className:(0,p["default"])("fbc_tips",{error:r&&l}),style:i},S.lang.cPicAttachmentTips({resolution:o?", "+o:""}))},renderFilePreviewList:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=(t.valid,t.isMobile),l=a.isLimitFileSize&&a.fileSize?a.fileSize:500,r=null,o=!n||g["default"].isEmpty(n);a.isAcceptMultipleFile&&(o=n&&n.length&&n.length<(a.fileNumber?+a.fileNumber:P)||!n||g["default"].isEmpty(n));var s=[],d=n?n.length:0,u=a.fileNumber?+a.fileNumber:P;if(w.isOldIE||(this.uploaderFile=this.uploaderFile||f["default"].createElement(x,{ref:"uploader",isMultiple:!!a.isAcceptMultipleFile,maxFileNumber:a.isAcceptMultipleFile?u-d:1,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fileTypeAccept:i&&!window.IN_WECHAT?"image/bmp,image/jpeg,image/png,image/gif;capture=camera":null,onDestroy:this.handleFileUploadDestroy})),g["default"].forEach(n,function(t,n){r=o||n+1!==d?null:e.uploaderFile,w.isOldIE&&(r=e.uploaderFileList[t.idx]=e.uploaderFileList[t.idx]||f["default"].createElement(x,{isMultiple:!1,maxFileNumber:1,cpId:a.id,key:"fi"+t.idx,onFileUpdate:e.handleFileUpdate,onFileAdd:e.handleFileAdd,onFlushFileProcess:e.handleFlushFileProcess,fieldId:t.idx})),s.push(f["default"].createElement(D,{key:"fp"+t.idx,item:t,idx:n,isMobile:i,maxSize:l,onUpdateFileProcessId:e.handleUpdateFileUploaderProcessId,onAddFile:e.handleAddFile,onRemoveFile:e.handleRemoveFile},r))}),o){var c=C["default"].getPreparedFileIdx(a.id);r=w.isOldIE?this.uploaderFileList[c]=this.uploaderFileList[c]||f["default"].createElement(x,{isMultiple:!1,maxFileNumber:1,cpId:a.id,key:"fi"+c,onFileUpdate:this.handleFileUpdate,onFileAdd:this.handleFileAdd,onFlushFileProcess:this.handleFlushFileProcess,fieldId:c}):this.uploaderFile,s.push(f["default"].createElement(D,{key:"fp"+c,item:null,idx:null,isMobile:i,maxSize:l,onUpdateFileProcessId:this.handleUpdateFileUploaderProcessId,onAddFile:this.handleAddFile,onRemoveFile:this.handleRemoveFile},r))}return s},render:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=e.componentStyle,i=e.style,l=e.itemNum,r=e.isMobile,o={},s={};return r||2!==+t.cpLayout||(o={"float":"left",paddingTop:6,width:((i.bodyStyle||{}).cpTitleWidth||20)+"%"},s={"float":"left",width:100-((i.bodyStyle||{}).cpTitleWidth||20)+"%"},l&&l>1&&(o.width="auto",o.maxWidth="20%",s.width="80%")),f["default"].createElement("div",{className:(0,p["default"])("fb_component",t.type),id:t.id,style:n},f["default"].createElement("div",{className:"fb_componentText",style:o},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(a)),f["default"].createElement("div",{className:"fb_componentBody",style:s},f["default"].createElement("ul",{className:"fbc_pictureAttachment"},this.renderFilePreviewList(),f["default"].createElement("li",{className:"clearB"}))))}}),t.fileSizeBeauty=o,t.FileUploader=x}).call(t,function(){return this}())},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(55),d=n(s),u=a(42),c=n(u),f=a(82),h=n(f),p=a(46),m=n(p);t["default"]=l["default"].createClass({displayName:"Component(Rate)",mixins:[m["default"],d["default"]],handleChange:function(e,t){c["default"].dispatch({type:"setRate",id:this.props.data.id,value:e})},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.style,d=e.itemNum,u=this.formStyle(),c=u.tipsStyle,f=u.optionStyle,p={},m={};return r||2!==+t.cpLayout||(p={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},m={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},d&&d>1&&(p.width="auto",p.maxWidth="20%",m.width="80%")),l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:p},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:m},l["default"].createElement("div",{className:"fbc_content"},l["default"].createElement(h["default"],{data:t,themeColor:s.themeColor,tipsStyle:c,optionStyle:f,value:a,onChange:this.handleChange,isMobile:r}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(14),r=n(l),o=a(38),s=n(o),d=a(8),u=n(d),c=a(55),f=n(c),h=a(42),p=(n(h),a(50)),m=n(p),g=a(46),v=n(g);t["default"]=r["default"].createClass({displayName:"Component(RateGenerator)",mixins:[v["default"],f["default"]],getInitialState:function(){return{hover:0}},handleOnMouseOver:function(e,t){this.setState({hover:e})},handleOnMouseOut:function(e,t){this.setState({hover:0})},handleClick:function(e,t){this.props.onChange&&this.props.onChange(e,t)},renderRateItemMobile:function(e){var t=this.props,a=t.optionStyle,n=t.themeColor,i=this.props.data,l=i.rateMax,o=i.rateIcon,d=this.props.value?+this.props.value:0,c=4==o,f=6==o,h=Math.min(10,l),p={fbc_rateItem:!c&&!f,fbc_heatItem:c,selected:e.idx<=d,fbc_numItem:f,numSelected:e.idx===d},g=null;if(c){var v={};e.idx<=d&&(v.backgroundColor=e.heatColorList[e.idx-1]||"#000"),g=r["default"].createElement("span",{className:(0,s["default"])(p),key:"rateItem"+e.idx},r["default"].createElement("span",{style:v}," "))}else{var y={};if(f&&(y=u["default"].assign({},a),e.idx===d)){var b=m["default"].convertToRGBObj.fromHex(n||"#2D8FD9"),C=m["default"].colorGrayLevel(b.r,b.g,b.b)<170;y.color=C?"#fff":"#000",y.backgroundColor=n||"#2D8FD9"}g=r["default"].createElement("span",{className:"fbc_rateItemBorder"},r["default"].createElement("span",{className:(0,s["default"])(p,"full-star"),style:y},f?e.idx:" "))}return r["default"].createElement("span",{className:"fbc_rateItemWrapper",key:"rateItem"+e.idx,style:{width:(1/h*100||20)+"%"},onClick:this.handleClick.bind(this,e.idx)},g)},renderRateItem:function(e){var t=this.state.hover,a=this.props,n=a.optionStyle,l=a.themeColor,o=this.props.data,d=o.rateMax,c=o.rateIcon,f=o.isAllowHalf,h=this.props.value?+this.props.value:0,p=!1,g=1==c||void 0==c,v=4==c,y=6==c;t>0&&!this.props.isMobile&&(p=h,h=t);var b={fbc_rateItem:!v&&!y,fbc_heatItem:v,selected:e.idx<=h,preSelected:!!p&&e.idx<=p,fbc_numItem:y,numSelected:e.idx===h},C={onMouseOver:this.handleOnMouseOver.bind(this,e.idx),onMouseOut:this.handleOnMouseOut.bind(this,e.idx),onClick:this.handleClick.bind(this,e.idx)};if(g){var S={selected:f?e.idx-.5<=h:e.idx<=h,preSelected:!!p&&(f?e.idx-.5<=p:e.idx<=p)},_=u["default"].assign({},C);return f&&(_.onMouseOver=this.handleOnMouseOver.bind(this,e.idx-.5),_.onMouseOut=this.handleOnMouseOut.bind(this,e.idx-.5),_.onClick=this.handleClick.bind(this,e.idx-.5)),r["default"].createElement("div",{className:"fbc_rateItemWrapper",key:"rateItem"+e.idx},r["default"].createElement("span",i({className:(0,s["default"])(b,"left-half",S)},_,{key:"rateItem"+e.idx-.5})," "),r["default"].createElement("span",i({className:(0,s["default"])(b,"right-half")},C,{key:"rateItem"+e.idx})," "))}if(v){var E={};return e.idx<=h?E.backgroundColor=e.heatColorList[e.idx-1]||"#000":e.idx<=p&&(E.backgroundColor=e.heatColorList[e.idx-1]||"#000"),r["default"].createElement("span",i({className:(0,s["default"])(b)},C,{key:"rateItem"+e.idx,style:{width:(1/d*100||20)+"%"}}),r["default"].createElement("span",{style:E}," "))}var w={};if(y&&(w=u["default"].assign({},n),e.idx===h||e.idx===p)){var N=m["default"].convertToRGBObj.fromHex(l||"#2D8FD9"),k=m["default"].colorGrayLevel(N.r,N.g,N.b)<170;w.color=k?"#fff":"#000",w.backgroundColor=l||"#2D8FD9"}return r["default"].createElement("span",i({className:(0,s["default"])("fbc_rateItemWrapper",b)},C,{key:"rateItem"+e.idx,style:w}),y?e.idx:" ")},render:function(){var e=this.props,t=e.data,a=e.tipsStyle,n=e.isMobile,i=t.rateIcon,l=t.rateMax,o=t.heatBarColorForm,d=t.heatBarColorTo,u=t.isShowTips,c=t.rateTipsLeft,f=t.rateTipsMiddle,h=t.rateTipsRight,p=1==i||void 0==i,g=4==i,v=6==i,y=n?10:t.cpWidth||8,b={fbc_rateGroup:!0,star:p,heart:2==i,thumb:3==i,rose:5==i,heatBar:g,number:v,fbc_widthCp:g},C=[];g&&(C=m["default"].gradientColor(o||"#f5d964",d||"#e94c3c",l||5));for(var S=[],_=0;_<(l||5);_++)S.push((n?this.renderRateItemMobile:this.renderRateItem)({idx:_+1,heatColorList:C}));var E=r["default"].createElement("div",{className:(0,s["default"])({fbc_rateContent:!g,fbc_heatBar:g}),key:"rateContent"},S,r["default"].createElement("div",{className:"clearB"})),w=null;u&&(c||f||h)&&(w=r["default"].createElement("p",{className:"fbc_rateTips",key:"rateTips",style:a},r["default"].createElement("span",{className:"fbc_rateTipsText left"},c),r["default"].createElement("span",{className:"fbc_rateTipsText middle"},f),r["default"].createElement("span",{className:"fbc_rateTipsText right"},h)));var N=[w,E];return 2==t.tipsPosition&&(N=[E,w]),r["default"].createElement("div",{className:(0,s["default"])(b),style:g||n?{width:10*y+"%"}:{}},N)}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=a(14),r=n(l),o=a(38),s=n(o),d=a(8),u=n(d),c=a(55),f=n(c),h=a(59),p=a(52),m=n(p),g=a(42),v=n(g),y=a(82),b=n(y),C=a(9),S=a(46),_=n(S);t["default"]=r["default"].createClass({displayName:"Component(Tabular)",mixins:[_["default"],f["default"]],componentWillMount:function(){this.renderItems=this.tabularItemFactory()},handleChange:function(e,t,a){var n=this.props.data,i={type:"setTabularValue",id:n.id,componentType:n.tabularType?+n.tabularType:1,qId:e};switch(+n.tabularType){case 3:i.value=a.target.value;break;case 4:var l=this.props.fill&&this.props.fill[e];l===a?i.value=null:i.value=a;break;case 1:case 2:default:i.value=t}v["default"].dispatch(i)},tabularItemFactory:function(){var e=this.props.data,t=this.props.isMobile,a=this,n=!1,l=this.formStyle(),o=l.optionStyle,d=l.inputStyle,c=l.textAreaStyle,f=l.tipsStyle,p=function(){switch(+e.tabularType){case 3:return{v:function(t){var n=a.props.fill,i="input",l=d;1==e.isAllowMulti&&(i="textarea",l=c);var o=n&&n[t];return o||(o=""),r["default"].createElement("td",{key:"td",className:"fbc_tContent"},r["default"].createElement(m["default"],{component:i,type:"text",className:"fbc_tabularInput "+i,style:l,onChange:this.handleChange.bind(a,t,null),value:o}))}};case 4:return{v:function(e){var n=this.props.fill,i=n&&n[e];i||(i=0);var l=a.props.data;return r["default"].createElement("td",{key:"td",className:"fbc_tContent"},r["default"].createElement(b["default"],{data:l,isMobile:t,value:i,themeColor:this.props.style.themeColor,tipsStyle:f,optionStyle:o,onChange:this.handleChange.bind(a,e,null)}))}};case 2:n=!0;case 1:default:var i=h.CommonRadio;return n&&(i=h.CommonCheckbox),{v:function(l){var d=this,c=[],f=a.props.fill;return u["default"].forEach(e.options,function(h,p){var m=p;if(!(e.ql2sMapping&&e.ql2sMapping[l]&&e.ql2sMapping[l][h.id]))return void console.error("component tabularOPT ID LOST ->."+h.id+" : "+JSON.stringify(h));m=e.ql2sMapping[l][h.id];var g={fbc_optionVal:!0,radio:!n,checkbox:n,checked:f&&(f[l]||[]).indexOf(m)>-1};c.push(r["default"].createElement("td",{key:"td"+p},r["default"].createElement("p",{className:(0,s["default"])(g),style:u["default"].assign({height:o.minHeight},o),onClick:d.handleChange.bind(a,l,m)},r["default"].createElement(i,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:f&&(f[l]||[]).indexOf(m)>-1,style:{padding:1,paddingTop:Math.ceil(Math.max((o.minHeight-(t?20:16))/2,0))}}))))}),c}}}}();if("object"===("undefined"==typeof p?"undefined":i(p)))return p.v},render:function(){var e=this,t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=a.questionWidth||25,o=this.formStyle(),d=o.optionStyle,c=null;!function(){switch(+a.tabularType){case 3:case 4:c=r["default"].createElement("th",{key:"th",style:{width:100-l+"%"}},r["default"].createElement("p",{className:"fbc_tabularTitle",style:d},a.tipText||C.lang.cFillingPlaceholder));break;default:var e=(a.options||[]).length;c=u["default"].map(a.options,function(t,a){return r["default"].createElement("th",{key:"th"+a,style:{width:(100-l)/e+"%"}},r["default"].createElement("p",{className:"fbc_tabularTitle",style:d},t.value))})}}();var f=u["default"].map(a.questions,function(t,a){return r["default"].createElement("tr",{key:"tr"+a},r["default"].createElement("td",{key:"trTitle",className:"fbc_tTitleLeft"},r["default"].createElement("p",{className:"fbc_tabularTitle",style:d},t.value)),e.renderItems(t.id))});return r["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:i},this.renderTitle(a),this.renderSubtitle(a),this.renderError(n),r["default"].createElement("div",{className:"fbc_content"},r["default"].createElement("table",{className:"fbc_tabular"},r["default"].createElement("tbody",null,r["default"].createElement("tr",null,r["default"].createElement("th",{style:{width:l+"%"}}," "),c),f))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=a(14),r=n(l),o=a(38),s=n(o),d=a(8),u=n(d),c=a(55),f=n(c),h=a(59),p=a(52),m=n(p),g=a(42),v=n(g),y=a(82),b=n(y),C=a(9),S=a(46),_=n(S);t["default"]=r["default"].createClass({displayName:"Component(Tabular.Mobile)",mixins:[_["default"],f["default"]],componentWillMount:function(){this.renderItems=this.tabularItemFactory()},handleChange:function(e,t,a){var n=this.props.data,i={type:"setTabularValue",id:n.id,componentType:n.tabularType?+n.tabularType:1,qId:e};switch(+n.tabularType){case 3:i.value=a.target.value;break;case 4:var l=this.props.fill&&this.props.fill[e];l===a?i.value=null:i.value=a;break;case 1:case 2:default:i.value=t}v["default"].dispatch(i)},tabularItemFactory:function(){var e=this.props,t=e.data,a=e.isMobile,n=this,l=!1,o=this.formStyle(),d=o.optionStyle,c=o.inputStyle,f=o.textAreaStyle,p=o.tipsStyle,g=function(){switch(+t.tabularType){case 3:return{v:function(e,a){var i=n.props.fill,l="input",o=c;1==t.isAllowMulti&&(l="textarea",o=f);var s=i&&i[e];return s||(s=""),r["default"].createElement("div",{className:"fbc_tContent",key:"que"},r["default"].createElement(m["default"],{component:l,type:"text",className:"fbc_tabularInput "+l,placeholder:a,style:o,onChange:this.handleChange.bind(n,e,null),value:s}))}};case 4:return{v:function(e){var t=this.props.fill,i=t&&t[e];i||(i=0);var l=n.props.data;return r["default"].createElement("div",{key:"que",className:"fbc_tContent"},r["default"].createElement(b["default"],{data:l,isMobile:a,value:i,themeColor:this.props.style.themeColor,tipsStyle:p,optionStyle:d,onChange:this.handleChange.bind(n,e,null)}))}};case 2:l=!0;case 1:default:var e=h.CommonRadio;return l&&(e=h.CommonCheckbox),{v:function(i,o){var c=this,f=[],h=n.props.fill;return u["default"].forEach(o,function(o,u){var p=u;if(!(t.ql2sMapping&&t.ql2sMapping[i]&&t.ql2sMapping[i][o.id]))return void console.error("component tabularOPT ID LOST ->."+o.id+" : "+JSON.stringify(o));p=t.ql2sMapping[i][o.id];var m=h&&(h[i]||[]).indexOf(p)>-1,g={radio:!l,checkbox:l,checked:m};f.push(r["default"].createElement("li",{className:(0,s["default"])("fbc_optionsLi",g),key:"item"+u,style:d,onClick:c.handleChange.bind(n,i,p)},r["default"].createElement("p",{className:"fbc_optionVal"},r["default"].createElement(e,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:m,style:{paddingTop:Math.ceil(Math.max((d.minHeight-(a?20:16))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},o.value))))}),r["default"].createElement("ul",null,f,r["default"].createElement("li",{className:"clearB"}))}}}}();if("object"===("undefined"==typeof g?"undefined":i(g)))return g.v},render:function(){var e=this,t=this.props,a=t.data,n=(t.fill,t.valid),i=t.componentStyle,l=this.formStyle(),o=l.optionStyle,d=null;switch(+a.tabularType){case 3:case 4:d=a.tipText||C.lang.cFillingPlaceholder;break;default:d=a.options}var c=u["default"].map(a.questions,function(t,a){return r["default"].createElement("div",{className:"fbc_tabularQuestion",key:"ques"+a},r["default"].createElement("p",{className:"fbc_tabularTitle",style:u["default"].omit(o,"minHeight")},t.value),e.renderItems(t.id,d))});return r["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:i},this.renderTitle(a),this.renderSubtitle(a),this.renderError(n),r["default"].createElement("div",{className:"fbc_content"},c))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){switch(e){case"1":return S.serialNumberGenerator.alphaNumberUpper(t);case"2":return S.serialNumberGenerator.alphaNumberLower(t);case"3":return S.serialNumberGenerator.numberSimple(t);case"4":return S.serialNumberGenerator.romanNumberUpper(t);default:return""}}function l(e,t,a){return{connectDragSource:e.dragSource(),isDragging:t.isDragging}}function r(e,t,a){return{connectDropTarget:e.dropTarget(),isDragging:t.isDragging(),hover:t.isOverTarget(a)}}function o(){return(0,C.bindContext)(C.eventCore)(P)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t["default"]=o;var d=a(14),u=n(d),c=a(38),f=n(c),h=a(8),p=n(h),m=a(55),g=n(m),v=a(42),y=n(v),b=a(9),C=a(86),S=a(56),_=a(46),E=n(_),w=!1,N={beginDrag:function(e,t,a){e.setPosition&&e.setPosition([0,0]),w=!1},canDrag:function(e,t,a){return"rankDrag"===t.getSourceType(a)},dragging:function(e,t){var a=t.getDifferenceFromInitialOffset(),n=a||{x:0,y:0},i=n.x,l=n.y;w=!0,e.setPosition&&e.setPosition([i,l])},endDrag:function(e,t,a){e.runDispatch&&e.runDispatch(),e.setPosition&&e.setPosition([0,0],!0)}},k=u["default"].createClass({displayName:"RankItem",mixins:[E["default"]],contextTypes:{dragDropManager:u["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.status=this.manager.getStatus(),{}},handleClick:function(e){return w?void(w=!1):void(this.props.onClick&&this.props.onClick(e))},handleDragBarClick:function(e){this.props.dragging||this.props.onDragBarClick&&this.props.onDragBarClick(e)},render:function(){var e=this.props,t=e.connectDragSource,a=e.value,n=e.dragBar,i=e.optionStyle,l=e.num,r=e.position,o=e.dragging,s=e.onDragBarClick;return t(u["default"].createElement("div",{className:(0,f["default"])("fbc_roItem",{dragging:o}),key:"rOpt"+l,style:p["default"].assign({position:"relative",left:r[0],top:r[1]},i),onClick:this.handleClick},u["default"].createElement("p",{className:"fbc_roInfo"},a),n?u["default"].createElement("a",{className:"fbc_rsDragBar iconfont",onClick:s},String.fromCharCode(58982)):u["default"].createElement("a",{className:"fbc_roDragBar"})))}}),I=(0,C.bindDragSource)("rankDrag",N,l)(k),T={canDrop:function(){return!0},drop:function(e){e.active&&e.setDispatch({type:"setRank",id:e.data.id,num:e.num,value:e.active})}},M=u["default"].createClass({displayName:"_answerItem",mixins:[E["default"]],handleFilledPosition:function(){for(var e=this.props,t=e.fill,a=e.num,n=e.setPosition,i=arguments.length,l=Array(i),r=0;r<i;r++)l[r]=arguments[r];t&&t[a]&&n&&n.apply(void 0,[t[a]].concat(l)),this.oldId&&this.oldId!==t[a]&&n&&n.apply(void 0,[this.oldId].concat(l)),this.oldId=t[a]},handleRemoveItem:function(){var e=this.props,t=e.fill[e.num];y["default"].dispatch({type:"removeRank",id:e.data.id,value:t});var a=e.hidden.slice(),n=a.indexOf(t);a.splice(n,1),e.handleHiddenItems(a)},render:function(){var e=this.props,t=e.connectDropTarget,a=e.hover,n=e.data,i=e.fill,l=e.num,r=e.optionStyle,o=e.active,s=e.position,d=e.runDispatch,c=String.fromCharCode(160);if(i&&i[l]){var h=p["default"].find(n.options,{sId:i[l]});c=u["default"].createElement(I,{key:l,value:h.value,num:l,dragBar:!0,optionStyle:r,dragging:o===h.sId,position:s[h.sId],setPosition:this.handleFilledPosition,onDragBarClick:this.handleRemoveItem,runDispatch:d})}return t(u["default"].createElement("li",{className:(0,f["default"])("fbc_raItem",{fbc_raFilled:i&&i[l],fbc_raHovered:a}),key:"rAns"+l,style:p["default"].assign({position:"relative"},r)},u["default"].createElement("p",{className:(0,f["default"])("fbc_raNum")},l+1),u["default"].createElement("div",{className:(0,f["default"])("fbc_raGroove")},u["default"].createElement("div",{className:"fbc_ragInfo"},c)),u["default"].createElement("div",{className:"clearB"})))}}),x=(0,C.bindDropTarget)("answer",T,r)(M),D=u["default"].createClass({displayName:"SortBoard",mixins:[E["default"]],render:function(){for(var e=this.props.rankDigits,t=[],a=0;a<e;a++)t.push(u["default"].createElement(x,s({key:a},this.props,{num:a})));return u["default"].createElement("ul",{className:"fbc_rankAnswer"},t)}}),P=u["default"].createClass({displayName:"Component(Rank)",mixins:[E["default"],g["default"]],getInitialState:function(){var e={};p["default"].forEach(this.props.data.options,function(t){e[t.sId]=[0,0]});var t=[];return p["default"].forEach(this.props.fill,function(e){t.push(e)}),{position:e,active:null,hidden:t}},componentWillUpdate:function(e){var t=this;this.needUpdateHidden&&!function(){
var a=e.fill,n=[];p["default"].forEach(a,function(e){n.push(e)}),t.setState({hidden:n}),t.needUpdateHidden=!1}()},handleSetPosition:function(e,t,a){var n=this,i={};i[e]=t;var l={position:p["default"].assign({},this.state.position,i),active:a?null:e};a&&!function(){var e=[];p["default"].forEach(n.props.fill,function(t){e.push(t)}),l.hidden=e}(),this.setState(l)},handleHiddenItems:function(e){this.setState({hidden:e})},handleClickAddRank:function(e){var t=this.props;y["default"].dispatch({type:"setNextRank",id:t.data.id,value:e,total:t.data.trueDigits}),this.needUpdateHidden=!0},handleSetDispatch:function(e){this.dispatchInfo=e},handleRunDispatch:function(){this.dispatchInfo&&(y["default"].dispatch(this.dispatchInfo),w=!1,this.dispatchInfo=null)},render:function(){for(var e=this.props,t=e.data,a=e.fill,n=e.valid,l=e.componentStyle,r=this.formStyle(),o=r.optionStyle,d=r.tipsStyle,c=(t.options||[]).length,h=t.isLimitDigit?t.rankDigits||c:c,p=null,m=t.options||[],g=[],v=0,y=m.length;v<y;v++)p=m[v],this.state.hidden.indexOf(p.sId)>-1||g.push(u["default"].createElement(I,{key:v,value:(t.isAutoNo?i(t.autoNo,v+1):"")+p.value,num:v,dragBar:!1,optionStyle:o,dragging:this.state.active===p.sId,position:this.state.position[p.sId],setPosition:this.handleSetPosition.bind(this,p.sId),onClick:this.handleClickAddRank.bind(this,p.sId),runDispatch:this.handleRunDispatch}));return u["default"].createElement("div",{className:(0,f["default"])("fb_component",t.type),id:t.id,style:l},this.renderTitle(t),this.renderSubtitle(t),u["default"].createElement("p",{className:"fbc_tips",style:d},b.lang.cRankTips),this.renderError(n),u["default"].createElement("div",{className:"fbc_content"},u["default"].createElement(D,s({fill:a,rankDigits:h,optionStyle:o,data:t},this.state,{setPosition:this.handleSetPosition,handleHiddenItems:this.handleHiddenItems,runDispatch:this.handleRunDispatch,setDispatch:this.handleSetDispatch})),u["default"].createElement("div",{className:"fbc_rankOption"},g)))}});e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.eventCore=t.createDragHelper=t.bindDragSource=t.bindDropTarget=t.bindContext=void 0;var i=a(87),l=n(i),r=a(89),o=n(r),s=a(90),d=n(s),u=a(95),c=a(96),f=n(c),h=f["default"];t.bindContext=d["default"],t.bindDropTarget=l["default"],t.bindDragSource=o["default"],t.createDragHelper=u.createDragHelper,t.eventCore=h},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(f["default"].isValidElement(t)){var a=t;return(0,u.cloneWithRef)(a,function(t){t&&i.add(new u.Disposable(n.dropTarget(e,p["default"].findDOMNode(t))))})}}var n={dropTarget:function(){return t.connectDropTarget.apply(t,arguments)}},i=new u.CompositeDisposable;return{connector:{dropTarget:function(){return a}},disposable:i}}function r(e){var t=function(){function t(e){i(this,t),this.status=e,this.props=null,this.component=null}return d(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!!e.canDrop&&e.canDrop(this.props,this.status)}},{key:"hover",value:function(){if(e.hover)return e.hover(this.props,this.status,this.component)}},{key:"blur",value:function(){if(e.blur)return e.blur(this.props,this.status)}},{key:"drop",value:function(t,a){return e.drop?e.drop(this.props,this.status):null}}]),t}();return function(e){return new t(e)}}function o(e,t,a){var n=void 0;n=g["default"].isFunction(e)?e:function(){return e};var i=r(t);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.displayName||e.name||"Component";return f["default"].createClass({displayName:"DropTarget("+r+")",contextTypes:{dragDropManager:f["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.currentType=null,this.disposable=new u.SerialDisposable,this.event=this.manager.getEvent(),this.status=this.manager.getStatus(),this.handler=i(this.status),this.receiveProps(this.props),this.getCurrentState()},shouldComponentUpdate:function(e,t){return!(0,u.shallowEqualScalar)(e,this.props)||!(0,u.shallowEqual)(t,this.state)},componentWillReceiveProps:function(e){(0,u.shallowEqualScalar)(e,this.props)||(this.receiveProps(e),this.handleChange())},componentDidMount:function(){},componentWillUnmount:function(){this.disposable.dispose()},receiveProps:function(e){this.handler.receiveProps(e),this.receiveType(n(e))},receiveType:function(e){var a=this;if(e!==this.currentType){this.currentType=e;var n=this.manager.registerTarget(this.currentType,this.handler,t),i=n.handlerId,r=n.unregist,o=this.manager.subscribeChange(function(){a.status.getDirtyHandlerId().indexOf(a.handlerId)>-1&&a.handleChange()});this.handlerId=i;var s=l(this.handlerId,this.event),d=s.connector,c=s.disposable;this.connector=d,this.disposable.setDisposable(new u.CompositeDisposable(new u.Disposable(o),new u.Disposable(function(){return r(a.handlerId)}),c))}},handleChange:function(){var e=this.getCurrentState();(0,u.shallowEqual)(e,this.state)||this.setState(e)},getCurrentState:function(){return a(this.connector,this.status,this.handlerId)},getHandlerId:function(){return this.handlerId},getInstance:function(){return this.componentInstance},handleChildrenRef:function(e){this.componentInstance=e,this.handler.receiveComponent(e)},render:function(){return f["default"].createElement(e,s({},this.props,this.state,{ref:this.handleChildrenRef,targetId:this.getHandlerId()}))}})}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t["default"]=o;var u=a(88),c=a(14),f=n(c),h=a(23),p=n(h),m=a(8),g=n(m);e.exports=t["default"]},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var a=e.ref;return(0,u.cloneElement)(e,{ref:function(e){t(e),a&&a(e)}})}function l(e,t){if(e===t)return!0;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty,l=0;l<a.length;l++){if(!i.call(t,a[l])||e[a[l]]!==t[a[l]])return!1;var r=e[a[l]],o=t[a[l]];if(r!==o)return!1}return!0}function r(e,t){if(e===t)return!0;if("object"!==("undefined"==typeof e?"undefined":d(e))||null===e||"object"!==("undefined"==typeof t?"undefined":d(t))||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var i=Object.prototype.hasOwnProperty,l=0;l<a.length;l++){if(!i.call(t,a[l]))return!1;var r=e[a[l]],o=t[a[l]];if(r!==o||"object"===("undefined"==typeof r?"undefined":d(r))||"object"===("undefined"==typeof o?"undefined":d(o)))return!1}return!0}function o(e){return Boolean(e&&"function"==typeof e.dispose)}Object.defineProperty(t,"__esModule",{value:!0}),t.SerialDisposable=t.CompositeDisposable=t.Disposable=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.cloneWithRef=i,t.shallowEqual=l,t.shallowEqualScalar=r;var u=a(14),c=function(){},f=function(){function e(t){n(this,e),this.action=t||c,this.disposed=!1}return s(e,[{key:"dispose",value:function(){this.disposed||(this.action.call(null),this.disposed=!0)}}]),e}(),h=function(){function e(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];n(this,e),Array.isArray(a[0])&&1===a.length&&(a=a[0]),this.disposed=!1,this.disposables=a}return s(e,[{key:"add",value:function(e){this.disposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.disposed)return!1;var a=this.disposables.indexOf(e);return a!==-1&&(this.disposables.splice(a,1),t&&e.dispose(),!0)}},{key:"dispose",value:function(){if(!this.disposed){for(var e=this.disposables.length,t=new Array(e),a=0;a<e;a++)t[a]=this.disposables[a];this.disposed=!0,this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}}}]),e}(),p=function(){function e(){n(this,e),this.disposed=!1,this.current=null}return s(e,[{key:"setDisposable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null==e||o(e)){var t=this.disposed,a=null;t||(a=this.current,this.current=e),a&&a.dispose(),t&&e&&e.dispose()}}},{key:"getDisposable",value:function(){return this.current}},{key:"dispose",value:function(){if(!this.disposed){this.disposed=!0;var e=this.current;this.current=null,e&&e.dispose()}}}]),e}();t.Disposable=f,t.CompositeDisposable=h,t.SerialDisposable=p},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(f["default"].isValidElement(t)){var a=t;return(0,u.cloneWithRef)(a,function(t){t&&i.add(new u.Disposable(n.dragSource(e,p["default"].findDOMNode(t))))})}}var n={dragSource:function(){return t.connectDragSource.apply(t,arguments)}},i=new u.CompositeDisposable;return{connector:{dragSource:function(){return a}},disposable:i}}function r(e){var t=function(){function t(e){i(this,t),this.status=e,this.props=null,this.component=null}return d(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"beginDrag",value:function(){return e.beginDrag(this.props,this.status,this.component)}},{key:"canDrag",value:function(t,a){return!e.beginDrag||e.canDrag(this.props,this.status,a)}},{key:"dragging",value:function(){if(e.dragging)return e.dragging(this.props,this.status)}},{key:"endDrag",value:function(){if(e.endDrag)return e.endDrag(this.props,this.status,this.component)}}]),t}();return function(e){return new t(e)}}function o(e,t,a){var n=void 0;n=g["default"].isFunction(e)?e:function(){return e};var i=r(t);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.displayName||e.name||"Component";return f["default"].createClass({displayName:"DragSource("+r+")",contextTypes:{dragDropManager:f["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.disposable=new u.SerialDisposable,this.event=this.manager.getEvent(),this.status=this.manager.getStatus(),this.handler=i(this.status),this.receiveProps(this.props),this.getCurrentState()},shouldComponentUpdate:function(e,t){return!(0,u.shallowEqualScalar)(e,this.props)||!(0,u.shallowEqual)(t,this.state)},componentWillReceiveProps:function(e){(0,u.shallowEqualScalar)(e,this.props)||(this.receiveProps(e),this.handleChange())},componentDidMount:function(){},componentWillUnmount:function(){this.disposable.dispose()},receiveProps:function(e){this.handler.receiveProps(e),this.receiveType(n(e))},receiveType:function(e){var a=this;if(e!==this.currentType){this.currentType=e;var n=this.manager.registerSource(this.currentType,this.handler,t),i=n.handlerId,r=n.unregist,o=this.manager.subscribeChange(function(){a.status.getDirtyHandlerId().indexOf(a.handlerId)>-1&&a.handleChange()});this.handlerId=i;var s=l(this.handlerId,this.event),d=s.connector,c=s.disposable;this.connector=d,this.disposable.setDisposable(new u.CompositeDisposable(new u.Disposable(o),new u.Disposable(function(){return r(a.handlerId)}),c))}},handleChange:function(){var e=this.getCurrentState();(0,u.shallowEqual)(e,this.state)||this.setState(e)},getCurrentState:function(){return a(this.connector,this.status,this.handlerId)},getHandlerId:function(){return this.handlerId},getInstance:function(){return this.componentInstance},handleChildrenRef:function(e){this.componentInstance=e,this.handler.receiveComponent(e)},render:function(){return f["default"].createElement(e,s({},this.props,this.state,{ref:this.handleChildrenRef,sourceId:this.getHandlerId()}))}})}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t["default"]=o;var u=a(88),c=a(14),f=n(c),h=a(23),p=n(h),m=a(8),g=n(m);e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t={dragDropManager:new d["default"](e)};return function(e){var a=e.displayName||e.name||"Component";return o["default"].createClass({displayName:"DnDContext("+a+")",childContextTypes:{dragDropManager:o["default"].PropTypes.object.isRequired},getInstance:function(){return this.ref.child},getManager:function(){return t.dragDropManager},getChildContext:function(){return t},render:function(){return o["default"].createElement(e,l({},this.props,{ref:"child"}))}})}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t["default"]=i;var r=a(14),o=n(r),s=a(91),d=n(s);e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(){return g++,g.toString(36)}function r(e){return""+e+l()}function o(e){var t=e.clientOffset,a=e.initialClientOffset,n=e.initialSourceClientOffset;return t&&a&&n?{x:t.x+n.x-a.x,y:t.y+n.y-a.y}:null}function s(e){var t=e.clientOffset,a=e.initialClientOffset;return t&&a?{x:t.x-a.x,y:t.y-a.y}:null}function d(e){return"T"===e[0]}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(92),f=n(c),h=a(93),p=a(8),m=n(p),g=0,v={dragSource:"S",dropTarget:"T"},y=function(){function e(t){i(this,e),this.store=t,this.types={},this.handlers={},this.options={},this.pinnedSourceId=null,this.isDragging=this.isDragging.bind(this)}return u(e,[{key:"register",value:function(e,t,a,n){var i=r(e);this.types[i]=t,this.handlers[i]=a,this.options[i]=n;var l=void 0;return e===v.dragSource?(this.store.dispatchProcess({type:h.ActionType.ADD_SOURCE,sourceId:i}),l=this.removeSource.bind(this)):e===v.dropTarget&&(this.store.dispatchProcess({type:h.ActionType.ADD_TARGET,targetId:i}),l=this.removeTarget.bind(this)),{handlerId:i,unregist:l}}},{key:"pinSourceId",value:function(e){this.pinnedSourceId=e}},{key:"unpinSourceId",value:function(){this.pinnedSourceId=null}},{key:"removeSource",value:function(e){this.store.dispatchProcess({type:h.ActionType.REMOVE_SOURCE,sourceId:e}),delete this.handlers[e],delete this.types[e],delete this.options[e]}},{key:"removeTarget",value:function(e){this.store.dispatchProcess({type:h.ActionType.REMOVE_TARGET,sourceId:e}),delete this.handlers[e],delete this.types[e],delete this.options[e]}},{key:"canDragSource",value:function(e){if(this.isDragging())return!1;var t=this.getSource(e);return!t.canDrag||t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!this.isDragging()||this.didDrop())return!1;var t=this.getTarget(e);return t.canDrop(this,e)}},{key:"getSourceId",value:function(){return this.pinnedSourceId||this.store.getState().sourceId}},{key:"getSource",value:function(e){return this.handlers[e]}},{key:"getTarget",value:function(e){return this.handlers[e]}},{key:"getHandlers",value:function(){return this.handlers}},{key:"getSourceType",value:function(e){if(!e&&this.pinnedSourceId&&(e=this.pinnedSourceId),e)return this.types[e]}},{key:"getTargetType",value:function(e){return this.types[e]}},{key:"getSourceOptions",value:function(e){return this.options[e]}},{key:"getTargetOptions",value:function(e){return this.options[e]}},{key:"isDragging",value:function(){return Boolean(this.store.getState().itemType)}},{key:"didDrop",value:function(){return this.store.getState().didDrop}},{key:"getTargetIds",value:function(){return this.store.getState().targetIds}},{key:"isOverTarget",value:function(e){return!!this.isDragging()&&this.getTargetIds().indexOf(e)>-1}},{key:"getItemType",value:function(){return this.store.getState().itemType}},{key:"getItem",value:function(){return this.store.getState().item}},{key:"isSourcePublish",value:function(){return this.store.getState().isSourcePublish}},{key:"getDirtyHandlerId",value:function(){return this.store.getState().dirtyHandlerId}},{key:"getInitialClientOffset",value:function(){return this.store.getState().initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().clientOffset}},{key:"getSourceSize",value:function(){return this.store.getState().initialSourceSize}},{key:"getHoldInfo",value:function(){var e=this.store.getState();return e.holdMeta||e.holdCtrl}},{key:"getSourceClientOffset",value:function(){var e=this.store.getState(),t=e.initialSourceClientOffset,a=e.initialClientOffset,n=e.clientOffset;return o({initialSourceClientOffset:t,initialClientOffset:a,clientOffset:n})}},{key:"getDifferenceFromInitialOffset",value:function(){var e=this.store.getState(),t=e.initialSourceClientOffset,a=e.initialClientOffset,n=e.clientOffset;return s({initialSourceClientOffset:t,initialClientOffset:a,clientOffset:n})}}]),e}(),b=function(){function e(t){i(this,e),this.store=(0,f["default"])(),this.binder=new y(this.store),this.eventCore=t(this),this.store.addChangeListener(this.handleRefCountChange.bind(this))}return u(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().itemCount>0;e&&!this.isSetUp?(this.eventCore.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.eventCore.teardown(),this.isSetUp=!1)}},{key:"subscribeChange",value:function(e){return this.store.addChangeListener(e)}},{key:"registerSource",value:function(e,t,a){return this.binder.register(v.dragSource,e,t,a)}},{key:"registerTarget",value:function(e,t,a){return this.binder.register(v.dropTarget,e,t,a)}},{key:"getActions",value:function(){return{beginDrag:this.beginDrag.bind(this),publishDragSource:this.publishDragSource.bind(this),hover:this.hover.bind(this),endDrag:this.endDrag.bind(this),drop:this.drop.bind(this),pressedCtrlKey:this.pressedCtrlKey.bind(this)}}},{key:"getStatus",value:function(){return this.binder}},{key:"getEvent",value:function(){return this.eventCore}},{key:"beginDrag",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.publishSource,n=void 0===a||a,i=t.clientOffset,l=void 0===i?null:i,r=t.getSourceClientOffset,o=(t.holdCtrl,t.holdMeta,null),s=e.length-1;s>=0;s--)if(this.binder.canDragSource(e[s])){o=e[s];break}if(null!==o){this.binder.pinSourceId(o);var d=null,u=null;if(l){var c=r(o);d={x:c.x,y:c.y},u={width:c.width,height:c.height}}var f=this.binder.getSource(o),p=f.beginDrag(this.binder,o),m=this.binder.getSourceType(o);this.store.dispatchProcess({type:h.ActionType.BEGIN_DRAG,itemType:m,item:p,sourceId:o,clientOffset:l,sourceSize:u,sourceClientOffset:d,isSourcePublish:n})}}},{key:"publishDragSource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.holdMeta,a=e.holdCtrl;if(this.binder.isDragging()){var n=this.binder.getSourceId(),i=this.binder.getSource(n);i.dragging(this.binder,n),this.store.dispatchProcess({type:h.ActionType.PUBLISH_DRAG_SOURCE,holdMeta:t,holdCtrl:a})}}},{key:"hover",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.clientOffset,i=void 0===n?null:n;e=e.slice(0);this.binder.getItemType();m["default"].forEach(e,function(e){var a=t.binder.getTarget(e);a.hover(t.binder,e)}),m["default"].forEach(this.binder.getDirtyHandlerId(),function(a){if(d(a)&&e.indexOf(a)===-1){var n=t.binder.getTarget(a);n.blur(t.binder,a)}}),this.store.dispatchProcess({type:h.ActionType.HOVER,targetIds:e,clientOffset:i})}},{key:"drop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.holdMeta,n=t.holdCtrl,i=m["default"].filter(this.binder.getTargetIds(),function(t){return e.binder.canDropOnTarget(t)});i.reverse(),m["default"].forEach(i,function(t,i){var l=e.binder.getTarget(t),r=l.drop(e.binder,t);e.store.dispatchProcess({type:h.ActionType.DROP,dropResult:r,holdMeta:a,holdCtrl:n})})}},{key:"endDrag",value:function(){var e=this.binder.getSourceId(),t=this.binder.getSource(e);t.endDrag(this.binder,e),this.binder.unpinSourceId(),this.store.dispatchProcess({type:h.ActionType.END_DRAG})}},{key:"pressedCtrlKey",value:function(){var e=this,t=this.binder.getTargetIds().slice(0);this.binder.getItemType();m["default"].forEach(t,function(t){var a=e.binder.getTarget(t);a.hover(e.binder,t)}),m["default"].forEach(this.binder.getDirtyHandlerId(),function(a){if(d(a)&&t.indexOf(a)===-1){var n=e.binder.getTarget(a);n.blur(e.binder,a)}})}}]),e}();t["default"]=b,e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}function r(){return new c({itemCount:0,itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublish:null,dirtyHandlerId:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,holdCtrl:!1,holdMeta:!1})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t["default"]=r;var s=a(8),d=n(s),u=a(93),c=function(){function e(t){i(this,e),this.currentState=t,this.listeners=[]}return o(e,[{key:"getState",value:function(){return this.currentState}},{key:"addChangeListener",value:function(e){this.listeners.push(e);var t=!0,a=this.listeners;return function(){if(t){t=!1;var n=a.indexOf(e);a.splice(n,1)}}}},{key:"updateState",value:function(e){var t=this,a=d["default"].assign({},this.currentState,e||{});this.changeState=Object.keys(e).filter(function(e){return a[e]!==t.currentState[e]}),this.currentState=a}},{key:"dispatchProcess",value:function(e){if(e.type){switch(e.type){case u.ActionType.BEGIN_DRAG:this.updateState({itemType:e.itemType,item:e.item,sourceId:e.sourceId,isSourcePublish:e.isSourcePublish,dropResult:null,didDrop:!1,initialSourceClientOffset:e.sourceClientOffset,initialSourceSize:e.sourceSize,initialClientOffset:e.clientOffset,clientOffset:e.clientOffset,dirtyHandlerId:[],holdCtrl:e.holdCtrl,holdMeta:e.holdMeta});break;case u.ActionType.PUBLISH_DRAG_SOURCE:this.updateState({isSourcePublish:!0,holdCtrl:e.holdCtrl,holdMeta:e.holdMeta});break;case u.ActionType.DRAGGING:this.updateState({isSourcePublish:!0});break;case u.ActionType.END_DRAG:this.updateState({itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublish:null,targetIds:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,dirtyHandlerId:[],holdCtrl:!1,holdMeta:!1});break;case u.ActionType.HOVER:var t=this.getState(),a=t.targetIds,n=d["default"].xor(a,e.targetIds).concat(t.sourceId);this.updateState({targetIds:e.targetIds,dirtyHandlerId:n}),l(this.currentState.clientOffset,e.clientOffset)||this.updateState({clientOffset:e.clientOffset});break;case u.ActionType.PRESSKEY:this.updateState({holdCtrl:e.holdCtrl,holdMeta:e.holdMeta});break;case u.ActionType.DROP:this.updateState({dropResult:e.dropResult,didDrop:!0,targetIds:[],initialSourceClientOffset:null,initialSourceSize:null,initialClientOffset:null,clientOffset:null,holdCtrl:e.holdCtrl,holdMeta:e.holdMeta});break;case u.ActionType.ADD_SOURCE:case u.ActionType.ADD_TARGET:this.updateState({itemCount:this.currentState.itemCount+1});break;case u.ActionType.REMOVE_SOURCE:case u.ActionType.REMOVE_TARGET:this.updateState({itemCount:this.currentState.itemCount-1})}return this.listeners.slice().forEach(function(e){return e()}),this.getState()}}}]),e}();e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;var i=a(94),l=n(i);t.ActionType=(0,l["default"])({BEGIN_DRAG:!0,PUBLISH_DRAG_SOURCE:!0,DRAGGING:!0,END_DRAG:!0,HOVER:!0,DROP:!0,PRESSKEY:!0,ADD_SOURCE:!0,ADD_TARGET:!0,REMOVE_SOURCE:!0,REMOVE_TARGET:!0})},function(e,t){"use strict";var a=function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&(a[t]=t);return a};e.exports=a},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return s["default"].createClass({mixins:[p["default"]],contextTypes:{dragDropManager:s["default"].PropTypes.object.isRequired},getInitialState:function(){return this.manager=this.context.dragDropManager,this.status=this.manager.getStatus(),this.getCurrentState()},getCurrentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isShown:!1,top:0,left:0,holdCtrl:!1};return e},componentDidMount:function(){(0,r["default"])(u["default"].findDOMNode(this)).bind("wheel",this.handleDOMWheel),this.unsubscribeListener=this.manager.subscribeChange(this.handleOffsetChange)},componentWillUnmount:function(){(0,r["default"])(u["default"].findDOMNode(this)).unbind("wheel",this.handleDOMWheel),this.unsubscribeListener()},handleDOMWheel:function(e){this.props.onWheel&&this.props.onWheel(e)},handleOffsetChange:function(){if(!this.isMounted())return!1;var e=this.status.getSourceClientOffset(),t=e||{x:0,y:0},a=t.x,n=t.y;this.setState(this.getCurrentState({isShown:Boolean(this.status.isSourcePublish()),top:Math.round(n),left:Math.round(a),holdCtrl:this.status.getHoldInfo()}))},render:function(){var t={"lg-dragHelper":!0,isShown:this.state.isShown},a=e(this.props,this.status);return s["default"].createElement("div",{className:(0,f["default"])(t),style:{top:this.state.top,left:this.state.left}},a)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.createDragHelper=i;var l=a(22),r=n(l),o=a(14),s=n(o),d=a(23),u=n(d),c=a(38),f=n(c),h=a(46),p=n(h)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){if(1===e.targetTouches.length)return r(e.targetTouches[0])}function r(e){return e.targetTouches?l(e):{x:e.clientX,y:e.clientY}}function o(e){var t=e.nodeType===m?e:e.parentElement;if(!t)return null;var a=t.getBoundingClientRect(),n=void 0,i=void 0,l=void 0,r=void 0;return a&&(n=a.top,i=a.left,l=a.width||a.right-a.left,r=a.height||a.bottom-a.top),{x:i,y:n,width:l,height:r}}function s(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function d(e){return new E(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t["default"]=d;var c=a(22),f=n(c),h=a(8),p=n(h),m=1,g="onmousedown"in document.documentElement||"onmousedown"in window,v="ontouchstart"in document.documentElement||"ontouchstart"in window,y=!window.addEventListener,b=!1,C=null,S=0,_={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"},key:{keydown:"keydown",keyup:"keyup"}},E=function(){function e(t){arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.status=t.getStatus(),this.actions=t.getActions(),this.eventList=["key"],g&&this.eventList.push("mouse"),v&&this.eventList.push("touch"),this.sourceNodes={},this.targetNodes={},this._mouseClientOffset={},this.handleTopMoveStartCapture=this.handleTopMoveStartCapture.bind(this),this.handleTopMoveStart=this.handleTopMoveStart.bind(this),this.handleTopMoveCapture=this.handleTopMoveCapture.bind(this),this.handleKeyCapture=this.handleKeyCapture.bind(this),this.handleTopMoveEndCapture=this.handleTopMoveEndCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this)}return u(e,[{key:"addEventListener",value:function(e,t,a,n){var i=this;y?!function(){e===window&&(e=document.body);var l=(0,f["default"])(e);n?p["default"].forEach(i.eventList,function(e){if(_[e][t]){l.data("hasCapture"+t,"1");var n="capture_"+_[e][t];l.on(n,function(e){a(e);var t=(0,f["default"])(e.currentTarget);t.attr("iscapturecalled","1")}),l.on(_[e][t],function(e){var t=(0,f["default"])(e.currentTarget);"0"===t.attr("iscapturecalled")&&a(e),t.attr("iscapturecalled","0")})}}):p["default"].forEach(i.eventList,function(e){_[e][t]&&l.on(_[e][t],function(n){var i=(0,f["default"])(n.currentTarget),l=i.parents(),r=[],o=[n.currentTarget],s=!1;p["default"].map(l,function(e){var a=(0,f["default"])(e);s?r=[e].concat(r):o=[e].concat(r),1===+a.data("hasCapture"+t)&&a.prop("nodeType")===m&&(s=!0,r=[].concat(o))});var d="capture_"+_[e][t];p["default"].forEach(r,function(e){var t=e.getBoundingClientRect?e.getBoundingClientRect():{},a=f["default"].Event(d,{clientX:t.left,clientY:t.top,target:e});(0,f["default"])(e).trigger(a)}),a(n)})})}():p["default"].forEach(this.eventList,function(i){_[i][t]&&(e.removeEventListener(_[i][t],a,n),e.addEventListener(_[i][t],a,n))})}},{key:"removeEventListener",value:function(e,t,a,n){var i=this;y?!function(){var a=(0,f["default"])(e);p["default"].forEach(i.eventList,function(e){var i=(n?"capture_":"")+_[e][t];n&&a.attr("hasCapture"+t,!1),a.off(i)})}():p["default"].forEach(this.eventList,function(i){e.removeEventListener(_[i][t],a,n)})}},{key:"setup",value:function(){if("undefined"!=typeof window&&!this.isSetUp){this.isSetUp=!0;var e=window;y&&(e=document.body),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"start",this.handleTopMoveStart),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.addEventListener(e,"keydown",this.handleKeyCapture),this.addEventListener(e,"keyup",this.handleKeyCapture)}}},{key:"teardown",value:function(){if("undefined"!=typeof window){this.isSetUp=!1;var e=window;y&&(e=document.body),this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.removeEventListener(e,"keydown",this.handleKeyCapture),this.removeEventListener(e,"keyup",this.handleKeyCapture)}}},{key:"connectDragSource",value:function(e,t){var a=this;if(this.sourceNodes[e]=t,
!t.getAttribute("isbind")){var n=this.handleMoveStart.bind(this,e),i=this.handleNodeMove.bind(this);return t.setAttribute("isbind",!0),this.addEventListener(t,"start",n),this.addEventListener(t,"move",i),this.addEventListener(t,"selectstart",this.handleSelectStart),function(){delete a.sourceNodes[e],a.removeEventListener(t,"start",n),a.removeEventListener(t,"move",i),a.removeEventListener(t,"selectstart",a.handleSelectStart),t.setAttribute("isbind",!1)}}}},{key:"connectDropTarget",value:function(e,t){var a=this;return this.targetNodes[e]=t,function(){delete a.targetNodes[e]}}},{key:"getSourceClientOffset",value:function(e){return o(this.sourceNodes[e])}},{key:"getSourceClientSize",value:function(e){}},{key:"handleKeyCapture",value:function(e){this.status.isDragging()&&(this.actions.publishDragSource({holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),this.actions.pressedCtrlKey())}},{key:"handleTopMoveStartCapture",value:function(e){return b?void(e.preventDefault?e.preventDefault():e.returnValue=!1):(this.moveStartSourceIds=[],void(this._mouseClientOffset=null))}},{key:"handleMoveStart",value:function(e,t){var a=this;return window.lgTouchLock=!0,"touchstart"===t.type?(window.clearTimeout(C),void(C=window.setTimeout(function(){C=null,b=!0,S=0,t.preventDefault&&t.preventDefault(),t.returnValue=!1,null!=a.moveStartSourceIds&&a.moveStartSourceIds.unshift(e);var n=r(t);n&&(a._mouseClientOffset=n)},300))):(b=!0,S=0,t.preventDefault&&t.preventDefault(),t.returnValue=!1,void(null!=this.moveStartSourceIds&&this.moveStartSourceIds.unshift(e)))}},{key:"handleTopMoveStart",value:function(e){var t=r(e);t&&(this._mouseClientOffset=t)}},{key:"handleNodeMove",value:function(e){C&&(window.lgTouchLock=!1),clearTimeout(C),C=null,b&&(e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1)}},{key:"handleTopMoveCapture",value:function(e){var t=this;if(b){var a=this.moveStartSourceIds;if(a&&this._mouseClientOffset||this.status.isDragging()){var n=r(e);if(n&&(!this.status.isDragging()&&a&&a.length>0&&this._mouseClientOffset.hasOwnProperty("x")&&s(this._mouseClientOffset,n)>2&&(this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset.bind(this),publishSource:!1,holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),this.moveStartSourceIds=null),this.status.isDragging()&&(S++,S%2!==0))){this.actions.publishDragSource({holdCtrl:e.ctrlKey,holdMeta:e.metaKey});var i=p["default"].filter(Object.keys(this.targetNodes),function(e){var a=t.getBoundingReact("target",e,t.targetNodes[e]),i=n.x>=a.left&&n.x<=a.right&&n.y>=a.top&&n.y<=a.bottom;return i});this.actions.hover(i,{clientOffset:n})}}}}},{key:"handleTopMoveEndCapture",value:function(e){return clearTimeout(C),C=null,b=!1,window.lgTouchLock=!1,S=0,!this.status.isDragging()||this.status.didDrop()?void(this.moveStartSourceIds=null):(e.preventDefault?e.preventDefault():e.returnValue=!1,this._mouseClientOffset={},this.actions.drop({holdCtrl:e.ctrlKey,holdMeta:e.metaKey}),void this.actions.endDrag())}},{key:"handleSelectStart",value:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},{key:"getBoundingReact",value:function(e,t,a){return a.getBoundingClientRect()}}]),e}();e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){switch(e){case"1":return g.serialNumberGenerator.alphaNumberUpper(t);case"2":return g.serialNumberGenerator.alphaNumberLower(t);case"3":return g.serialNumberGenerator.numberSimple(t);case"4":return g.serialNumberGenerator.romanNumberUpper(t);default:return""}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(14),r=n(l),o=a(38),s=n(o),d=a(8),u=n(d),c=a(55),f=n(c),h=a(42),p=n(h),m=a(9),g=a(56),v=a(46),y=n(v);t["default"]=r["default"].createClass({displayName:"Component(Rank)",mixins:[y["default"],f["default"]],handleChangeRank:function(e,t){t!==!1?this.handleRemoveRank(e):this.handleAddRank(e)},handleAddRank:function(e){for(var t=this.props,a=t.data,n=t.fill||{},i=a.isLimitDigit?a.rankDigits:(a.options||[]).length,l=null,r=0;r<i;r++)if(!n[r]){l=r;break}null!==l&&p["default"].dispatch({type:"setRank",id:t.data.id,num:l,value:e})},handleRemoveRank:function(e){var t=this.props;p["default"].dispatch({type:"removeRank",id:t.data.id,value:e})},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,l=t.valid,o=t.componentStyle,d=this.formStyle(),c=d.optionStyle,f=d.tipsStyle,h=a.isLimitDigit?a.rankDigits:(a.options||[]).length,p=Object.keys(n||{}).length===h;return r["default"].createElement("div",{className:(0,s["default"])("fb_component",a.type),id:a.id,style:o},this.renderTitle(a),this.renderSubtitle(a),r["default"].createElement("p",{className:"fbc_tips",style:f},m.lang.cRankTipsMobile),this.renderError(l),r["default"].createElement("div",{className:"fbc_content"},r["default"].createElement("div",{className:"fbc_rankAnswer"},u["default"].map(a.options,function(t,l){var o=!1;return u["default"].forEach(n,function(e,a){if(+e===+t.sId)return o=+a,!1}),r["default"].createElement("div",{className:(0,s["default"])("fbc_raItem",{fbc_raFull:p&&o===!1}),key:"rAns"+l,style:u["default"].assign({position:"relative"},c),onClick:e.handleChangeRank.bind(e,t.sId,o)},r["default"].createElement("p",{className:(0,s["default"])("fbc_raNum",{has_value:o!==!1})},o!==!1?o+1:null),r["default"].createElement("div",{className:(0,s["default"])("fbc_raGroove")},r["default"].createElement("div",{className:"fbc_ragInfo"},(a.isAutoNo?i(a.autoNo,l+1):"")+t.value)),r["default"].createElement("div",{className:"clearB"}))}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(9),m=a(29),g=a(30),v=a(52),y=n(v),b=a(46),C=n(b);t["default"]=l["default"].createClass({displayName:"Component(Currency)",mixins:[C["default"],c["default"]],handleChange:function(e){h["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){h["default"].dispatch({type:"numberBlur",id:this.props.data.id,value:e.target.value})},renderTips:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=this.formStyle(),i=n.tipsStyle,r=null,s=!0,u=(a||[]).indexOf("tip")>-1;return t.isNumRange&&(d["default"].isNumber(t.numRangeFrom)&&d["default"].isNumber(t.numRangeTo)?r=p.lang.cNumberValueRangeHintFunc({numRangeFrom:t.numRangeFrom,numRangeTo:t.numRangeTo}):d["default"].isNumber(t.numRangeFrom)?r=p.lang.cNumberValueMoreThanValueFunc({numRangeFrom:t.numRangeFrom}):d["default"].isNumber(t.numRangeTo)&&(r=p.lang.cNumberValueLessThanValueFunc({numRangeTo:t.numRangeTo}))),l["default"].createElement("p",{className:(0,o["default"])("fbc_tips",{error:u&&s}),style:i},r)},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.fw,u=e.itemNum,c=e.style,f=this.formStyle(),h=f.inputStyle,v=f.inputUnitStyle,b="￥";"0"==t.symbol?b=t.symbolDefined:t.symbol&&(b=p.lang.cCurrencySymbolArray[t.symbol-1]);var C=10*(r?10:t.cpWidth||8),S=null;b&&(S=Math.min((0,m.getWidth)(b,v.fontSize+"px/1 "+g._FONT),((s/(u||1)-60)*(C/10)-(r?10:25))/50));var _={},E={};return r||2!==+t.cpLayout||(_={"float":"left",paddingTop:6,width:((c.bodyStyle||{}).cpTitleWidth||20)+"%"},E={"float":"left",width:100-((c.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(_.width="auto",_.maxWidth=105-C+"%",E.width=C-5+"%",C=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:_},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:E},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp"),style:{width:C+"%"}},l["default"].createElement("span",{className:"fbc_currencySymbol",style:v},b),l["default"].createElement(y["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:n&&n.length>0}),ref:"input",type:"text",spellCheck:!1,style:d["default"].assign({},h,{paddingLeft:S?S+8:null}),onChange:this.handleChange,onBlur:this.handleBlur,placeholder:t.placeholder||"",value:""+(d["default"].isNumber(a)||a?a:"")}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(30),m=n(p),g=a(29),v=n(g),y=a(9),b=a(61),C=n(b),S=a(100),_=n(S),E=a(46),w=n(E),N=[];t["default"]=l["default"].createClass({displayName:"Component(CityLocation)",mixins:[w["default"],c["default"]],getInitialState:function(){var e=this.props.data,t=this.props.fill;this.processedList=[];var a=[];return e.isLimitCountry&&+e.limitCountry>0&&a.push(+e.limitCountry),t&&2!==e.componentType&&(t.struct&&!d["default"].isEmpty(t.struct)&&(this.isSelected=!0),a=a.concat(t.struct)),{currentLocationInfo:{},currentSelected:a,searchResult:N}},componentDidMount:function(){this.handlePreGetDropDownContent(this.props,this.state)},componentWillUpdate:function(e,t){this.handlePreGetDropDownContent(e,t)},componentDidUpdate:function(){this.refs.input&&!this.refs.input.isOpen()&&this.checkSetDefault&&(this.handleSetDefaultLocation(),this.checkSetDefault=!1)},handlePreGetDropDownContent:function(e,t){var a=this;!e.fill||d["default"].isEmpty(e.fill)||d["default"].isEmpty(e.fill.struct)||(!e.data.isLimitCountry&&this.handleCheckDropDownContent(null),d["default"].forEach(t.currentSelected,function(e){a.processedList.indexOf(e)===-1&&(a.isSelected=!0,a.handleCheckDropDownContent(e))}))},handleGetNextLevelData:function(e){this.processedList.push(e);var t=this.props.data,a=this.props.isMobile,n=this.formStyle(),i=n.inputStyle;h["default"].getLocationInfo(e,t.minLevel||3,i.fontSize,this.handleUpdateCurrentLocationInfo,a)},handleUpdateCurrentLocationInfo:function(e,t){var a={};a[e]=t,this.isSelected=!1,this.isMounted()&&this.setState({currentLocationInfo:d["default"].assign({},this.state.currentLocationInfo,a)})},handleMouseDownOption:function(e,t,a){m["default"].isIE8&&(a.preventDefault(),a.stopPropagation(),this.handleSelectOption(e,t,a))},handleSelectOption:function(e,t){var a=this.props.data,n=this.state.currentSelected.slice(0,e);n.push(t.id),this.isSelected=!0,this.setState({currentSelected:n});var i=void 0;i=a.minLevel?+a.minLevel:3,h["default"].dispatch({type:"setLocationStruct",id:a.id,value:n.slice(a.isLimitCountry?1:0)}),i>n.length&&this.handleGetNextLevelData(t.id)},handleSelectPosition:function(e,t){var a=this.props.data;h["default"].dispatch({type:"setLocationStruct",id:a.id,value:[e.id]}),this.hasContentChange=!1,h["default"].dispatch({type:"setLocationInput",id:a.id,value:e.name}),this.refs.input.doClose()},handleSetDefaultLocation:function(){var e=this.props.data;if(!this.state.currentSelected||this.hasContentChange){var t=(this.state.searchResult||N)[0];t||(t={id:null}),h["default"].dispatch({type:"setLocationStruct",id:e.id,value:[t.id]}),t.id&&h["default"].dispatch({type:"setLocationInput",id:e.id,value:t.name})}this.hasContentChange=!1},handleChangeLocationInput:function(e){var t=this,a=this.props.data;this.hasContentChange=!0;var n=d["default"].trim(e.target.value)||"";h["default"].dispatch({type:"setLocationInput",id:a.id,value:n});var i=!1;n?h["default"].getLocationInfoByTyping(n,a.isLimitCountry?+a.limitCountry:null,a.minLevel).done(function(e){0===e.r&&e.d?(t.checkSetDefault=!0,t.setState({searchResult:d["default"].map(e.d,function(e){return{name:e.t,id:e.i,alias:e.a}})})):(t.setState({searchResult:N}),i=!0)}):(this.setState({searchResult:N}),i=!0),i&&h["default"].dispatch({type:"setLocationStruct",id:a.id,value:[null]})},handleCheckDropDownContent:function(e){this.state.currentLocationInfo[e]||this.handleGetNextLevelData(e)},renderSelector:function(){var e=this,t=this.props,a=t.data,n=t.valid,i=this.state.currentSelected,r=this.formStyle(),s=(r.inputStyle,r.selectStyle),u=r.selectPlaceholderStyle,c=r.selectArrowStyle,f=void 0;f=a.minLevel?+a.minLevel:3;for(var h=[],p=function(t){var a=i[t],r=null,f=t-1>-1?i[t-1]:null,p=0;if(e.state.currentLocationInfo[f])r=[],d["default"].forEach(e.state.currentLocationInfo[f],function(n){n.name&&(n.width>p&&(p=n.width),r.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{hasImage:0===t,fbc_currentSelected:+n.id===+a}),key:"opt"+n.id,style:{backgroundImage:0===t?"url(images/nationalFlag/"+n.id+".gif)":""},onMouseDown:e.handleMouseDownOption.bind(e,t,n),onClick:e.handleSelectOption.bind(e,t,n)},n.name)))});else if(null===e.state.currentLocationInfo[f])return"break";if(e.isSelected&&!a)return"break";var g=Math.max(v["default"].getWidth(y.lang.cSelectorPlaceholder,y._FONT)+55,80);return null===f?g=Math.max(v["default"].getWidth(y.lang.cSelectorPlaceholder,y._FONT)+55,244):1===f&&(g=Math.max(v["default"].getWidth(y.lang.cSelectorPlaceholder,y._FONT)+55,93)),p=Math.round(Math.max(g,p+37+(0===t?25:0))),h.push(l["default"].createElement(C["default"],{key:"lvl"+(t+1),className:(0,o["default"])("fbc_mlItem","fbc_select",{hasValue:a,error:n&&n.indexOf("required")>-1&&!a}),display:a?(m["default"].getGeoInfo(a)||{}).name||y.lang.cOptionLoading:y.lang.cSelectorPlaceholder,imageUri:!(!a||0!==t)&&"url("+window.rootPath("images/nationalFlag/"+a+".gif")+")",selectArrowStyle:c,style:d["default"].assign({width:p},a?s:u),onExpand:e.handleCheckDropDownContent.bind(e,f)},r)),a?void 0:"break"},g=a.isLimitCountry?1:0;g<f;g++){var b=p(g);if("break"===b)break}return h},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=t.valid,r=t.componentStyle,s=t.style,u=t.itemNum,c=a.type,f=a.minLevel,h=a.limitCountry,p=a.isLimitCountry,g=this.formStyle(),v=g.inputStyle,y=g.selectStyle,b=(g.selectPlaceholderStyle,g.inputWithIconStyle),C=g.inputIconStyle,S=p&&h&&0!==+h,E=["fbc_mlContent"],w=null,N=[];S&&(E.push("has-country"),N.push(l["default"].createElement("div",{className:"fbc_mlItem fbc_select hasValue country is-limitCountry",key:"limitCountry",style:y},l["default"].createElement("p",{className:"fbc_selectValue hasImage",style:{backgroundImage:"url(images/nationalFlag/"+h+".gif)"}},(m["default"].getGeoInfo(h)||{}).name))));var k=10*(a.cpWidth||8),I={},T={};return 2===+a.cpLayout&&(I={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},T={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"}),2===a.componentType?!function(){2===+a.cpLayout&&u&&u>1&&(I.width="auto",I.maxWidth=105-k+"%",T.width=k-5+"%",k=100),E.push("fbc_widthCp"),w={width:k+"%"};var t=e.state.searchResult,r=[];t&&(n||{}).content&&d["default"].forEach(t,function(t){r.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:+t.id===+(n||{}).struct}),key:"opt"+t.id,onClick:e.handleSelectPosition.bind(e,t)},l["default"].createElement("p",null,t.name),t.alias?l["default"].createElement("p",{className:"fbc_selectAlia"},t.alias):null))}),(!S||S&&"1"!==f)&&(E.push("has-city"),N.push(l["default"].createElement(_["default"],{ref:"input",key:"city",inputClassName:(0,o["default"])("fbc_input",{error:i&&i.length>0}),className:"fbc_mlItem fbc_inputSelect city",icon:"location"!==c||S?null:String.fromCharCode(59082),themeColor:s.themeColor,style:"location"!==c||S?v:b,iconStyle:C,value:(n||{}).content||null,onChange:e.handleChangeLocationInput,onBlur:e.handleSetDefaultLocation},r)))}():(2===+a.cpLayout&&u&&u>1&&(I.width="auto",I.maxWidth="20%",T.width="80%"),N=N.concat(this.renderSelector())),l["default"].createElement("div",{className:(0,o["default"])("fb_component",a.type),id:a.id,style:r},l["default"].createElement("div",{className:"fb_componentText",style:I},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),l["default"].createElement("div",{className:"fb_componentBody",style:T},l["default"].createElement("div",{className:E.join(" "),style:w},N,l["default"].createElement("div",{className:"clearB"}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=a(14),r=n(l),o=a(23),s=n(o),d=a(8),u=n(d),c=a(38),f=n(c),h=a(42),p=n(h),m=a(52),g=n(m),v=a(46),y=n(v);t["default"]=r["default"].createClass({displayName:"FCInputSearch",mixins:[y["default"]],getInitialState:function(){return{isOpen:!1,currentFocus:-1}},componentWillUpdate:function(e,t){},componentDidMount:function(){this.unsubscribe=p["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(e){"$$resize"===e.type&&this.doClose()},isOpen:function(){return this.state.isOpen},doClose:function(){this.refs.focusContent&&this.refs.focusContent.getContent().blur()},handleMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault()},handleDropDownMouseDown:function(e){this.currentIsOpen=this.state.isOpen,e.preventDefault(),e.stopPropagation()},handleToggleSelector:function(e){e.preventDefault(),e.stopPropagation();var t=this.refs.focusContent,a=this.currentIsOpen;if(t){var n=s["default"].findDOMNode(t);a?n.blur():n.focus()}},handleExpandDropDown:function(e){this.props.onExpand&&this.props.onExpand(),this.setState({isOpen:!0,currentFocus:0})},handleCondenseDropDown:function(e){this.setState({isOpen:!1,currentFocus:-1})},handleDropDownOperate:function(e){this.state.isOpen&&[13,38,40].indexOf(e.keyCode)>-1&&(13===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.state.isOpen&&this.state.currentFocus>-1&&this.handleItemSelect(e)):38===e.keyCode?(e.preventDefault(),e.stopPropagation(),0===this.state.currentFocus?this.setState({currentFocus:r["default"].Children.count(this.props.children)-1}):this.setState({currentFocus:this.state.currentFocus-1})):40===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.state.currentFocus===r["default"].Children.count(this.props.children)-1?this.setState({currentFocus:0}):this.setState({currentFocus:this.state.currentFocus+1})))},handleItemSelect:function(e){var t=this;r["default"].Children.forEach(this.props.children,function(a,n){if(n===t.state.currentFocus)return a.props.onClick&&a.props.onClick(e),!1})},handleItemMouseEnter:function(e){this.state.isOpen&&this.setState({currentFocus:e})},handleItemMouseLeave:function(){this.setState({currentFocus:-1})},render:function(){var e=this,t=this.props,a=t.value,n=t.children,l=t.inputClassName,o=t.onChange,s=t.icon,d=t.style,c=t.iconStyle,h=t.themeColor,p=i(t,["value","children","inputClassName","onChange","icon","style","iconStyle","themeColor"]),m=this.state.isOpen,v=this.state.currentFocus;return r["default"].createElement("div",p,r["default"].createElement(g["default"],{component:"input",className:(0,f["default"])("fbc_selectValue",l),value:a,type:"text",spellCheck:!1,ref:"focusContent",icon:s,themeColor:h,style:d,iconStyle:c,onFocus:this.handleExpandDropDown,onBlur:this.handleCondenseDropDown,onKeyDown:this.handleDropDownOperate,onChange:o}),r["default"].createElement("ul",{className:(0,f["default"])("fbc_selectList",{fbc_showList:m&&u["default"].isArray(n)&&n.length>0}),onMouseDown:this.handleDropDownMouseDown},r["default"].Children.map(n,function(t,a){return r["default"].cloneElement(t,{className:(0,f["default"])(t.props.className,{fbl_hover:a===v}),onMouseEnter:e.handleItemMouseEnter.bind(e,a),onMouseLeave:e.handleItemMouseLeave})})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(23),o=n(r),s=a(38),d=n(s),u=a(8),c=n(u),f=a(55),h=n(f),p=a(42),m=n(p),g=a(30),v=n(g),y=a(52),b=n(y),C=a(9),S=a(46),_=n(S),E=[];t["default"]=l["default"].createClass({displayName:"Component(CityLocationMobile)",mixins:[_["default"],h["default"]],getInitialState:function(){var e=this.props.data,t=this.props.fill,a=[];return this.processedList=[],e.isLimitCountry&&+e.limitCountry>0&&a.push(+e.limitCountry),t&&2!==e.componentType&&(t.struct&&!c["default"].isEmpty(t.struct)&&(this.isSelected=!0),a=a.concat(t.struct)),{currentLocationInfo:{},currentSelected:a,searchResult:E}},componentDidMount:function(){var e=this;this.handlePreGetDropDownContent(this.props,this.state),this.needGetId&&this.needGetId.length>0&&c["default"].forEach(this.needGetId,function(t){e.handleCheckDropDownContent(t)})},componentWillUpdate:function(e,t){this.handlePreGetDropDownContent(e,t)},componentDidUpdate:function(){var e=this;if(this.updateSelector){if(this.refs[this.updateSelector]){var t=o["default"].findDOMNode(this.refs[this.updateSelector]);t.focus()}this.updateSelector=!1}this.needGetId&&this.needGetId.length>0&&c["default"].forEach(this.needGetId,function(t){e.handleCheckDropDownContent(t)})},handlePreGetDropDownContent:function(e,t){var a=this;!e.fill||c["default"].isEmpty(e.fill)||c["default"].isEmpty(e.fill.struct)||(!e.data.isLimitCountry&&this.handleCheckDropDownContent(null),c["default"].forEach(t.currentSelected,function(e){a.processedList.indexOf(e)===-1&&(a.isSelected=!0,a.handleCheckDropDownContent(e))}))},handleGetNextLevelData:function(e){this.processedList.push(e);var t=this.props.data;m["default"].getLocationInfo(e,t.minLevel||3,"",this.handleUpdateCurrentLocationInfo,!0)},handleCheckDropDownContent:function(e,t){this.state.currentLocationInfo[e]||(t&&(this.focusElm="dp"+e),this.handleGetNextLevelData(e))},handleUpdateCurrentLocationInfo:function(e,t){var a={};a[e]=t,this.isSelected=!1,this.focusElm&&(this.updateSelector=this.focusElm,this.focusElm=null),this.isMounted()&&this.setState({currentLocationInfo:c["default"].assign({},this.state.currentLocationInfo,a)})},handleSelectOption:function(e,t){var a=this.props.data,n=this.state.currentSelected.slice(0,e);n.push(+t.target.value),this.setState({currentSelected:n});var i=void 0;i=a.minLevel?+a.minLevel:3,this.isSelected=!0,m["default"].dispatch({type:"setLocationStruct",id:a.id,value:n.slice(a.isLimitCountry?1:0)}),this.handleGetNextLevelData(+t.target.value)},handleChangeLocationInput:function(e){var t=this.props.data;this.hasContentChange=!0;var a=c["default"].trim(e.target.value)||"";m["default"].dispatch({type:"setLocationInput",id:t.id,value:a})},handleSetDefaultLocation:function(e){var t=this,a=this.props.data,n=c["default"].trim(e.target.value)||"";n&&m["default"].getLocationInfoByTyping(n,a.isLimitCountry?+a.limitCountry:null,a.minLevel).done(function(e){if(0===e.r&&e.d){t.checkSetDefault=!0;var n=e.d[0];m["default"].dispatch({type:"setLocationStruct",id:a.id,value:[n.i]}),n.i&&m["default"].dispatch({type:"setLocationInput",id:a.id,value:n.t})}else m["default"].dispatch({type:"setLocationStruct",id:a.id,value:[null]})})},renderSelector:function(){var e=this;this.needGetId=[];var t=this.props.data,a=this.state,n=a.currentSelected,i=this.formStyle(),r=i.inputStyle,o=(i.selectStyle,i.selectPlaceholderStyle,void 0);o=t.minLevel?+t.minLevel:3;for(var s=[],u=function(t){var i=n[t],o=null,u=t-1>-1?n[t-1]:null;if(a.currentLocationInfo[u])o=[],o.push(l["default"].createElement("option",{value:"",key:"default"},C.lang.cSelectorPlaceholder)),c["default"].forEach(a.currentLocationInfo[u],function(e){e.name&&o.push(l["default"].createElement("option",{value:""+e.id,key:"lcid"+e.id},(g._EMOJI_FLAGS_MAPPING[e.id]?g._EMOJI_FLAGS_MAPPING[e.id]+"   ":"")+((e||{}).name||"")))});else if(null===e.state.currentLocationInfo[u])return"break";return e.isSelected&&!i?"break":(null===o&&e.needGetId.push(u),s.push(l["default"].createElement("div",{className:(0,d["default"])("fbc_locItem","fbc_select",{hasValue:i}),key:"fbSelect"+u+t,onClick:null===o?e.handleCheckDropDownContent.bind(e,u,!0):null},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:r.height+"px"}},String.fromCharCode(58983)),o?l["default"].createElement("select",{className:(0,d["default"])("fbc_innerSelect"),ref:"dp"+u,onChange:e.handleSelectOption.bind(e,t),value:""+i,style:r},o):l["default"].createElement("p",{className:"fbc_selectValue fbc_innerSelect",style:c["default"].assign({},r,{lineHeight:"38px",padding:"0 5px"})},C.lang.cSelectorPlaceholder))),i?void 0:"break")},f=t.isLimitCountry?1:0;f<o;f++){var h=u(f);if("break"===h)break}return s},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.style,o=t.type,s=t.minLevel,u=t.limitCountry,c=t.isLimitCountry,f=this.formStyle(),h=f.inputStyle,p=(f.selectStyle,f.selectPlaceholderStyle,f.inputWithIconStyle),m=f.inputIconStyle,y=c&&u&&0!==+u,C=["fbc_mlContent","fbc_widthCp"],S=null,_=[];return y&&(C.push("has-country"),_.push(l["default"].createElement("div",{className:"fbc_locItem fbc_select hasValue country",key:"limitCountry",style:h},l["default"].createElement("p",{className:"fbc_selectValue hasImage"},(g._EMOJI_FLAGS_MAPPING[u]?g._EMOJI_FLAGS_MAPPING[u]+"   ":"")+(v["default"].getGeoInfo(u)||{}).name)))),2===t.componentType?(!y||y&&"1"!==s)&&_.push(l["default"].createElement(b["default"],{component:"input",key:"inputCity",className:(0,d["default"])("fbc_locItem","fbc_inputSelect","fbc_input","city",{error:n&&n.length>0}),value:(a||{}).content||null,icon:"location"!==o||y?null:String.fromCharCode(59082),themeColor:r.themeColor,style:"location"!==o||y?h:p,iconStyle:m,spellCheck:!1,autoComplete:"off",onChange:this.handleChangeLocationInput,onBlur:this.handleSetDefaultLocation})):_=_.concat(this.renderSelector()),l["default"].createElement("div",{className:(0,d["default"])("fb_component",t.type),id:t.id,style:i},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n),l["default"].createElement("div",{className:C.join(" "),style:S},_,l["default"].createElement("div",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(29),c=n(u),f=a(55),h=n(f),p=a(42),m=n(p),g=a(30),v=n(g),y=a(9),b=a(61),C=n(b),S=a(52),_=n(S),E=a(46),w=n(E);t["default"]=l["default"].createClass({displayName:"Component(Address)",mixins:[w["default"],h["default"]],getInitialState:function(){var e=this.props.data,t=this.props.fill,a=[];return this.processedList=[],e.isLimitCountry&&+e.limitCountry>0&&a.push(+e.limitCountry),t&&t.struct&&(this.isSelected=!0,a=a.concat(t.struct)),{currentLocationInfo:{},currentSelected:a,searchResult:[]}},componentWillReceiveProps:function(e){var t=e.data,a=e.fill,n=[];a&&a.struct&&!d["default"].isEmpty(a.struct)&&(t.isLimitCountry&&+t.limitCountry>0&&n.push(+t.limitCountry),n=n.concat(a.struct),this.setState({currentSelected:n}))},componentDidMount:function(){this.handlePreGetDropDownContent(this.props,this.state)},componentWillUpdate:function(e,t){this.handlePreGetDropDownContent(e,t)},handlePreGetDropDownContent:function(e,t){var a=this;!e.fill||d["default"].isEmpty(e.fill)||d["default"].isEmpty(e.fill.struct)||(!e.data.isLimitCountry&&this.handleCheckDropDownContent(null),d["default"].forEach(t.currentSelected,function(e,t){a.processedList.indexOf(e)===-1&&(a.isSelected=!0,a.handleCheckDropDownContent(e))}))},handleGetNextLevelData:function(e){this.processedList.push(e);var t=(this.props.data,this.props.isMobile),a=this.formStyle(),n=a.inputStyle;m["default"].getLocationInfo(e,4,n.fontSize,this.handleUpdateCurrentLocationInfo,t)},handleUpdateCurrentLocationInfo:function(e,t){var a={};a[e]=t,this.isSelected=!1,this.isMounted()&&this.setState({currentLocationInfo:d["default"].assign({},this.state.currentLocationInfo,a)})},_handleProcessNextLvl:function(e){var t=this.props.data;this.setState({currentSelected:e});var a=void 0;a=t.minLevel?+t.minLevel:4,this.isSelected=!0,m["default"].dispatch({type:"setAddressSelector",id:t.id,value:e.slice(t.isLimitCountry?1:0)}),a>e.length&&this.handleGetNextLevelData(e[e.length-1])},handleSelectOption:function(e,t){var a=this.state.currentSelected.slice(0,e);a.push(t.id),this._handleProcessNextLvl(a)},handleMouseDownOption:function(e,t,a){g.isIE8&&(a.preventDefault(),a.stopPropagation(),this.handleSelectOption(e,t,a))},handleCheckDropDownContent:function(e){this.state.currentLocationInfo[e]||this.handleGetNextLevelData(e)},renderSelector:function(){var e=this,t=this.props.data,a=this.state.currentSelected,n=this.formStyle(),i=n.inputStyle,r=n.selectStyle,s=n.selectPlaceholderStyle,u=n.selectArrowStyle,f=void 0;f=t.minLevel?+t.minLevel:4;for(var h=[],p=function(t){var n=a[t],f=null,p=t-1>-1?a[t-1]:null,m=0;if(e.state.currentLocationInfo[p])f=[],d["default"].forEach(e.state.currentLocationInfo[p],function(a){a.name&&(a.width>m&&(m=a.width),f.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{hasImage:0===t,fbc_currentSelected:+a.id===+n}),key:"opt"+a.id,style:{backgroundImage:0===t?"url(images/nationalFlag/"+a.id+".gif)":""},onMouseDown:e.handleMouseDownOption.bind(e,t,a),onClick:e.handleSelectOption.bind(e,t,a)},a.name)))});else if(null===e.state.currentLocationInfo[p])return"break";if(e.isSelected&&!n)return"break";f&&!d["default"].isEmpty(f)||!n||(m=c["default"].getWidth((v["default"].getGeoInfo(n)||{}).name||y.lang.cOptionLoading,(i.fontSize||14)+"px/1 "+v["default"]._FONT));var g=80;return null===p?g=244:1===p&&(g=93),m=Math.round(Math.max(g,m+37+(0===t?25:0))),h.push(l["default"].createElement(C["default"],{key:"lvl"+(t+1),className:(0,o["default"])("fbc_mlItem","fbc_select",{hasValue:n}),display:n?(v["default"].getGeoInfo(n)||{}).name||y.lang.cOptionLoading:y.lang.cSelectorPlaceholder,imageUri:!(!n||0!==t)&&"url("+window.rootPath("images/nationalFlag/"+n+".gif")+")",selectArrowStyle:u,style:d["default"].assign({width:m},n?r:s),onExpand:e.handleCheckDropDownContent.bind(e,p)},f)),n?void 0:"break"},m=t.isLimitCountry?1:0;m<f;m++){var g=p(m);if("break"===g)break}return h},handleChangeAddressDetail:function(e){var t=this,a=this.props.data;m["default"].dispatch({type:"setAddressInput",id:a.id,value:e.target.value});var n=this.props.fill;n&&(!n||n.struct&&!d["default"].isEmpty(n.struct))&&2!==a.componentType||m["default"].getRawLocationInfo(e.target.value,a.isLimitCountry?+a.limitCountry:null,2===a.componentType?0:1).done(function(e){0===e.r&&e.d&&!function(){var n=["I","II","III","IV"],i=[];n.forEach(function(t,a){if(e.d[t]){var l=e.d[t];return i.push(l),void(e.d.mpLoc&&v["default"].addGeoInfo(l,e.d[n[a-1]],e.d.mpLoc[l]))}return!1}),i[0]===a.limitCountry&&t._handleProcessNextLvl(i)}()})},handleChangeZipCode:function(e){var t=this.props.data;m["default"].dispatch({type:"setAddressZipCode",id:t.id,value:e.target.value})},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.style,s=e.itemNum,d=t.minLevel,u=t.limitCountry,c=t.isLimitCountry,f=this.formStyle(),h=f.selectStyle,p=(f.selectPlaceholderStyle,f.inputStyle),m=f.inputWithIconStyle,g=f.inputIconStyle,b=c&&u&&0!==+u,C=["fbc_mlContent","fbc_widthCp"],S=[],E=0;b&&S.push(l["default"].createElement("div",{className:"fbc_mlItem fbc_select hasValue country is-limitCountry",key:"limitCountry",style:h},l["default"].createElement("p",{className:"fbc_selectValue hasImage",style:{backgroundImage:"url(images/nationalFlag/"+u+".gif)"}},(v["default"].getGeoInfo(u)||{}).name))),2===t.componentType?(c&&(C.push("has-country"),E="1"===d?99:24),(!b||b&&"1"!==d)&&(C.push("has-city"),S.push(l["default"].createElement(_["default"],{component:"input",type:"text",className:"fbc_mlItem fbc_input city",key:"city",value:a?a.content:"",icon:c?null:String.fromCharCode(59083),themeColor:r.themeColor,style:c?p:m,iconStyle:g,placeholder:y.lang.cAddressDetailsPlaceholder,onChange:this.handleChangeAddressDetail})))):(S=S.concat(this.renderSelector()),S.push(l["default"].createElement("div",{className:"clearB",key:"clearB"})),S.push(l["default"].createElement("div",{
className:"fbc_addressDetails",key:"details"},l["default"].createElement(_["default"],{component:"input",type:"text",className:(0,o["default"])("fbc_mlItem","fbc_input","address",{error:n&&n.indexOf("required")>-1}),value:a?a.content:"",style:p,placeholder:y.lang.cAddressDetailsPlaceholder,onChange:this.handleChangeAddressDetail}),l["default"].createElement(_["default"],{component:"input",type:"text",className:"fbc_mlItem fbc_input zipCode",value:a?a.zipCode:"",style:p,placeholder:y.lang.cAddressCodePlaceholder,onChange:this.handleChangeZipCode}),l["default"].createElement("div",{className:"clearB"}))));var w=10*(t.cpWidth||8),N={},k={};return 2===+t.cpLayout&&(N={"float":"left",paddingTop:6,width:((r.bodyStyle||{}).cpTitleWidth||20)+"%"},k={"float":"left",width:100-((r.bodyStyle||{}).cpTitleWidth||20)+"%"},s&&s>1&&(N.width="auto",N.maxWidth=105-w+"%",k.width=w-5+"%",w=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:N},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:k},l["default"].createElement("div",{className:C.join(" "),style:{width:w+"%"}},S,l["default"].createElement("div",{className:"clearB"}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(23),o=n(r),s=a(38),d=n(s),u=a(8),c=n(u),f=a(55),h=n(f),p=a(42),m=n(p),g=a(30),v=n(g),y=a(9),b=a(46),C=n(b),S=a(52),_=n(S);t["default"]=l["default"].createClass({displayName:"Component(AddressMobile)",mixins:[C["default"],h["default"]],getInitialState:function(){var e=this.props.data,t=this.props.fill,a=[];return this.processedList=[],e.isLimitCountry&&+e.limitCountry>0&&a.push(+e.limitCountry),t&&t.struct&&(this.isSelected=!0,a=a.concat(t.struct)),{currentLocationInfo:{},currentSelected:a,searchResult:[]}},componentDidMount:function(){var e=this;this.handlePreGetDropDownContent(this.props,this.state),this.needGetId&&this.needGetId.length>0&&c["default"].forEach(this.needGetId,function(t){e.handleCheckDropDownContent(t)})},componentWillUpdate:function(e,t){this.handlePreGetDropDownContent(e,t)},componentDidUpdate:function(){var e=this;if(this.updateSelector){if(this.refs[this.updateSelector]){var t=o["default"].findDOMNode(this.refs[this.updateSelector]);t.focus()}this.updateSelector=!1}this.needGetId&&this.needGetId.length>0&&c["default"].forEach(this.needGetId,function(t){e.handleCheckDropDownContent(t)})},handlePreGetDropDownContent:function(e,t){var a=this;!e.fill||c["default"].isEmpty(e.fill)||c["default"].isEmpty(e.fill.struct)||(!e.data.isLimitCountry&&this.handleCheckDropDownContent(null),c["default"].forEach(t.currentSelected,function(e){a.processedList.indexOf(e)===-1&&(a.isSelected=!0,a.handleCheckDropDownContent(e))}))},handleGetNextLevelData:function(e){this.processedList.push(e),m["default"].getLocationInfo(e,4,"",this.handleUpdateCurrentLocationInfo,!0)},handleCheckDropDownContent:function(e,t){this.state.currentLocationInfo[e]||(t&&(this.focusElm="dp"+e),this.handleGetNextLevelData(e))},handleUpdateCurrentLocationInfo:function(e,t){var a={};a[e]=t,this.isSelected=!1,this.focusElm&&(this.updateSelector=this.focusElm,this.focusElm=null),this.isMounted()&&this.setState({currentLocationInfo:c["default"].assign({},this.state.currentLocationInfo,a)})},handleSelectOption:function(e,t){var a=this.props.data,n=this.state.currentSelected.slice(0,e);n.push(+t.target.value),this.setState({currentSelected:n});var i=void 0;i=a.minLevel?+a.minLevel:4,this.isSelected=!0,m["default"].dispatch({type:"setAddressSelector",id:a.id,value:n.slice(a.isLimitCountry?1:0)}),this.handleGetNextLevelData(+t.target.value)},handleChangeAddressDetail:function(e){var t=this.props.data;m["default"].dispatch({type:"setAddressInput",id:t.id,value:e.target.value})},handleBlurAddressDetail:function(e){var t=this,a=this.props.data;m["default"].dispatch({type:"setAddressInput",id:a.id,value:e.target.value});var n=this.props.fill;n&&(!n||n.struct&&!c["default"].isEmpty(n.struct))&&2!==a.componentType||m["default"].getRawLocationInfo(e.target.value,a.isLimitCountry?+a.limitCountry:null,2===a.componentType?0:1).done(function(e){0===e.r&&e.d&&!function(){var n=["I","II","III","IV"],i=[];n.forEach(function(t,a){if(e.d[t]){var l=e.d[t];return i.push(l),void(e.d.mpLoc&&v["default"].addGeoInfo(l,e.d[n[a-1]],e.d.mpLoc[l]))}return!1}),i[0]===a.limitCountry&&t._handleProcessNextLvl(i)}()})},handleChangeZipCode:function(e){var t=this.props.data;m["default"].dispatch({type:"setAddressZipCode",id:t.id,value:e.target.value})},renderSelector:function(){var e=this;this.needGetId=[];var t=this.props.data,a=this.state,n=a.currentSelected,i=this.formStyle(),r=i.inputStyle,o=(i.selectStyle,i.selectPlaceholderStyle,void 0);o=t.minLevel?+t.minLevel:4;for(var s=[],u=function(t){var i=n[t],o=null,u=t-1>-1?n[t-1]:null;if(a.currentLocationInfo[u])o=[],o.push(l["default"].createElement("option",{value:"",key:"default"},y.lang.cSelectorPlaceholder)),c["default"].forEach(a.currentLocationInfo[u],function(e){e.name&&o.push(l["default"].createElement("option",{value:""+e.id,key:"lcid"+e.id},(g._EMOJI_FLAGS_MAPPING[e.id]?g._EMOJI_FLAGS_MAPPING[e.id]+"   ":"")+e.name))});else if(null===e.state.currentLocationInfo[u])return"break";return e.isSelected&&!i?"break":(null===o&&e.needGetId.push(u),s.push(l["default"].createElement("div",{className:(0,d["default"])("fbc_locItem","fbc_select",{hasValue:i}),key:"fbSelect"+u+t,onClick:null===o?e.handleCheckDropDownContent.bind(e,u,!0):null},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:r.height+"px"}},String.fromCharCode(58983)),o?l["default"].createElement("select",{className:(0,d["default"])("fbc_innerSelect"),ref:"dp"+u,onChange:e.handleSelectOption.bind(e,t),value:""+i,style:r},o):l["default"].createElement("p",{className:"fbc_selectValue fbc_innerSelect",style:c["default"].assign({},r,{lineHeight:"38px",padding:"0 5px"})},y.lang.cSelectorPlaceholder))),i?void 0:"break")},f=t.isLimitCountry?1:0;f<o;f++){var h=u(f);if("break"===h)break}return s},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.style,o=t.minLevel,s=t.limitCountry,u=t.isLimitCountry,c=this.formStyle(),f=(c.selectStyle,c.selectPlaceholderStyle,c.inputStyle),h=c.inputWithIconStyle,p=c.inputIconStyle,m=u&&s&&0!==+s,b=["fbc_mlContent","fbc_widthCp"],C=null,S=[];return m&&S.push(l["default"].createElement("div",{className:"fbc_locItem fbc_select hasValue country",key:"limitCountry"},l["default"].createElement("p",{className:"fbc_selectValue hasImage"},(g._EMOJI_FLAGS_MAPPING[s]?g._EMOJI_FLAGS_MAPPING[s]+"   ":"")+((v["default"].getGeoInfo(s)||{}).name||"")))),2===t.componentType?(!m||m&&"1"!==o)&&S.push(l["default"].createElement(_["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input city",key:"city",value:a?a.content:"",icon:u?null:String.fromCharCode(59083),themeColor:r.themeColor,style:u?f:h,iconStyle:p,placeholder:y.lang.cAddressDetailsPlaceholder,spellCheck:!1,autoComplete:"off",onChange:this.handleChangeAddressDetail,onBlur:this.handleBlurAddressDetail})):S=S.concat(this.renderSelector(),[l["default"].createElement(_["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input address",key:"addressInput",placeholder:y.lang.cAddressDetailsPlaceholder,style:f,spellCheck:!1,onChange:this.handleChangeAddressDetail,onBlur:this.handleBlurAddressDetail,value:a?a.content||"":""}),l["default"].createElement(_["default"],{component:"input",type:"text",className:"fbc_locItem fbc_input zipCode",key:"zipCodeInput",style:f,placeholder:y.lang.cAddressCodePlaceholder,spellCheck:!1,onChange:this.handleChangeZipCode,value:a?a.zipCode||"":""})]),l["default"].createElement("div",{className:(0,d["default"])("fb_component",t.type),id:t.id,style:i},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n),l["default"].createElement("div",{className:b.join(" "),style:C},S,l["default"].createElement("div",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(23),o=n(r),s=a(38),d=n(s),u=a(8),c=n(u),f=a(30),h=n(f),p=a(55),m=n(p),g=a(42),v=n(g),y=a(9),b=a(33),C=a(29),S=(n(C),a(105)),_=n(S),E=a(22),w=n(E),N=a(107),k=n(N),I=a(12),T=n(I),M=a(46),x=n(M),D="images/form/form_picExample_bg.png";t["default"]=l["default"].createClass({displayName:"Component(Commodity)",mixins:[x["default"],m["default"]],componentDidMount:function(){this.popElem=document.getElementById("popwin")},handleImgError:function(e){this.isHandleError&&(this.isHandleError=!0,e.target.src=window.rootPath(D))},handleShowPreview:function(e,t){t.preventDefault(),t.stopPropagation();var a=(0,w["default"])(t.target).next(),n=document.body.scrollTop,i=document.body.scrollLeft;o["default"].render(l["default"].createElement(k["default"],{img:e,from:{x:a.offset().left-i,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},handleCountChange:function(e,t,a){v["default"].dispatch({type:"setCommodityValue",id:this.props.data.id,cId:e,value:a})},renderCommodities:function(){var e=this.props,t=e.data,a=e.fill,n=(e.valid,e.cartValid),i=e.isMobile,r=e.mode,o=this.formStyle(),s=o.optionTipsStyle,u=o.commodityNameStyle,f=o.commodityDescribeStyle,p=h["default"].getSettings(),m=t.commodities||[],g=[],v=null,C=0,S=t.optionsLayout;i&&(S=Math.min(2,S||0));for(var E=0,w=m.length;E<w;E++)if(v=m[E],1!==r||v.sId&&null!=v.price){var N=null,k=!1,I=null,M=null;if(t.isLimitStock&&t.isLimitOptions&&t.optionsQuotaInfo&&t.optionsQuotaInfo[v.sId]){var x=t.optionsQuotaInfo[v.sId];if(c["default"].isNumber(x[2])&&x[2]>=0&&(I=x[2]),c["default"].isNumber(x[1])&&(M=x[1]-x[0]>=0?x[1]-x[0]:0),t.isHideFullOption&&0===M){k=!0;continue}if(t.isShowOptionLimit){var P=null,O=!1;c["default"].isNumber(M)&&(O=!0,P=y.lang.cQuotaRemainingFunc({remaining:Math.max(M,0)})),c["default"].isNumber(I)&&(P=O?y.lang.cCommodityRemainMaxTips({max:Math.max(Math.min(M,I),0),remain:Math.max(M,0)}):y.lang.cCommodityMaxTips({max:Math.max(I,0)})),N=l["default"].createElement("p",{className:"fbc_commodityTips",style:s},P)}}var L=null;t.isLimitStock&&t.isLimitOptions&&(c["default"].isNumber(I)&&(L=I),c["default"].isNumber(M)&&(L=L?Math.min(L,M):M)),t.isLimitStock&&t.setMaxBuyNum&&t.setMaxBuyNum[v.id]&&(L=null!==L&&void 0!==L?Math.min(+t.setMaxBuyNum[v.id],L):+t.setMaxBuyNum[v.id]),null===L&&(L=1/0);var F=v.image||{},R=F.isLink?F.linkUri:F.imageUri,A=F.isLink?F.linkUri:F.imageFullUri;1===t.optionsLayout&&(R=A);var W=null;R&&(W=l["default"].createElement("div",{className:"fbc_commodityImage",key:"prImg"},l["default"].createElement("span",{className:"fbc_imgPreview iconfont",onClick:this.handleShowPreview.bind(this,A)},String.fromCharCode(59010)),l["default"].createElement("img",{className:"fbc_commodityImg",src:window.rootPath(R||D),onError:this.handleImgError,onClick:L>(a?a[v.sId]||0:0)?this.handleCountChange.bind(this,v.sId,null,(a?a[v.sId]||0:0)+1):null})));var B="￥";""+p.cartSymbol=="0"?B=p.cartSymbolDefined||"":p.cartSymbol&&(B=y.lang.cCurrencySymbolArray[p.cartSymbol-1]);var U=T["default"].getProperties(),H=(""+T["default"].localeStringToNumber(v.price)).split(".");i||(H=T["default"].localeStringToNumber(v.price).toFixed(2).split("."));var V="javascript:void(0)";if(v.isJumpTo&&v.jumpTo){var j=(0,b.linkify)(v.jumpTo);j&&(V=j)}var z=null;c["default"].isArray(v.describe)?!function(){var e=v.describe.length;z=c["default"].map(v.describe,function(t,a){var n=t,i=a+1===e?null:l["default"].createElement("br",null);return!t&&e>1?l["default"].createElement("br",{key:"emptyLine"+a}):l["default"].createElement("span",{key:"line"+a},n,i)})}():z=l["default"].createElement("p",null,v.describe||""),C++,g.push(l["default"].createElement("li",{key:"item"+E,className:(0,d["default"])("fbc_commodityLi",{clearB:C%S===1})},W,l["default"].createElement("p",{className:"fbc_commodityName",style:u},v.isJumpTo&&v.jumpTo?l["default"].createElement("a",{className:"fbc_commodityNameJump",target:"_blank",href:V},v.name||""):v.name||""),v.describe?l["default"].createElement("p",{className:"fbc_commodityDescribe",style:f},z):null,N,l["default"].createElement("div",{className:"fbc_purchaseInfo"},t.isHidePrice?null:l["default"].createElement("p",{className:"fbc_commodityPrice"},B+" "+H[0],H[1]?l["default"].createElement("span",{className:"decimalPart"},U.decimal+H[1]):null),l["default"].createElement(_["default"],{className:"cp_iCountPicker fbc_commodityCount",name:"count",maxDisabled:n&&(n.indexOf("quantityOver")>-1||n.indexOf("amountOver")>-1),inputDisable:!1,maxValue:L,value:a?a[v.sId]||0:0,minValue:0,onChange:this.handleCountChange.bind(this,v.sId)}))))}else console.error("commodity component ID LOST ->."+v.id+" : "+v.name);return t.isLimitStock&&t.isLimitOptions&&t.isShowOptionLimit&&0===g.length&&m.length>0&&g.push(l["default"].createElement("li",{className:"fbc_emptyTip"},y.lang.cOptionNull)),g},render:function(){var e=this.props,t=e.data,a=e.valid,n=e.componentStyle,i=e.isMobile,r=t.optionsLayout;return i&&(r=Math.min(2,r||0)),l["default"].createElement("div",{className:(0,d["default"])("fb_component",t.type),id:t.id,style:n},this.renderTitle(t),this.renderSubtitle(t),this.renderError(a),l["default"].createElement("ul",{className:(0,d["default"])("fbc_content","commodity",r?"layout-"+r:"")},this.renderCommodities(),l["default"].createElement("li",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(23),o=n(r),s=a(38),d=n(s),u=a(106),c=n(u),f=a(26),h=n(f),p=a(46),m=n(p);t["default"]=l["default"].createClass({displayName:"LegoCountPicker.react",mixins:[m["default"]],propTypes:{className:l["default"].PropTypes.string,name:l["default"].PropTypes.string,style:l["default"].PropTypes.object,hasInput:l["default"].PropTypes.bool,inputDisable:l["default"].PropTypes.bool,value:l["default"].PropTypes.number,maxValue:l["default"].PropTypes.number,minValue:l["default"].PropTypes.number,stepValue:l["default"].PropTypes.number,disabled:l["default"].PropTypes.bool,maxDisabled:l["default"].PropTypes.bool,minDisabled:l["default"].PropTypes.bool,onChange:l["default"].PropTypes.func},getDefaultProps:function(){return{btnTitle:[],hasInput:!0,maxValue:1/0,minValue:0,stepValue:1,value:0}},getInitialState:function(){return{value:this._returnValueValid(this.props.value),defaultValue:this._returnValueValid(this.props.value),focus:!1}},componentWillReceiveProps:function(e){this.setState({value:this._returnValueValid(e.value,e),defaultValue:this._returnValueValid(e.value,e)})},_returnValueValid:function(e,t){return t||(t=this.props),e-=0,isNaN(e)||Math.floor(e)!==e?t.minValue:Math.min(Math.max(t.minValue,e),t.maxValue)},handleReduce:function(e){e.stopPropagation(),this.props.disabled||this.state.value<this.props.minValue||this.props.minDisabled||this.handleValueChange(e,this.state.value-this.props.stepValue)},handleIncrease:function(e){e.stopPropagation(),this.props.disabled||this.state.value>this.props.maxValue||this.props.maxDisabled||this.handleValueChange(e,this.state.value+this.props.stepValue)},handleKeyDown:function(e){e=e||window.event;var t=e.keyCode||e.which,a=o["default"].findDOMNode(this.refs.countpickerInput).value;38===t?(e.stopPropagation(),e.preventDefault(),this.handleReduce(e)):40===t?(e.stopPropagation(),e.preventDefault(),this.handleIncrease(e)):13===t&&this.handleValueChange(e,a)},handleUnitMouseDown:function(e){e.stopPropagation(),e.preventDefault(),this.props.disabled||(this.setState({focus:!0}),c["default"].focusEnd(o["default"].findDOMNode(this.refs.countpickerInput),!0))},handleFocus:function(e){this.props.disabled||this.setState({focus:!0})},handleBlur:function(e){var t=o["default"].findDOMNode(this.refs.countpickerInput).value;this.handleValueChange(e,t),this.setState({focus:!1})},handleChange:function(e){var t=o["default"].findDOMNode(this.refs.countpickerInput).value;this.setState({defaultValue:t})},handleValueChange:function(e,t){var a=this.props,n=this._returnValueValid(t-0);this.setState({value:n,defaultValue:n}),a.onChange&&a.onChange(e,n)},render:function(){var e=this.state,t=e.value,a=this.props,n={"lg-countpicker-reduce":!0,disabled:a.disabled||t==a.minValue||t<a.minValue||a.minDisabled},i={"lg-countpicker-increase":!0,disabled:a.disabled||t==a.maxValue||t>a.maxValue||a.maxDisabled},r={"lg-countpicker":!0,"no-input":!a.hasInput};a.className&&a.className.split(" ").forEach(function(e){e&&(r[e]=!0)});var o={ref:"countpickerInput",className:(0,d["default"])({"lg-countpicker-input":!0,"lg-countpicker-focus":e.focus}),type:h["default"].fuzzyDeviceCheck?"number":"text",value:e.defaultValue,autoComplete:"off",onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,disabled:a.disabled||a.inputDisable,style:{pointerEvents:a.disabled||a.inputDisable?"none":"visible"},tabIndex:0},s=null,u=null;return a.hasInput&&(s=l["default"].createElement("input",o),a.unit&&(u=l["default"].createElement("i",{className:"iconfont lg-countpicker-unit",onMouseDown:this.handleUnitMouseDown},a.unit))),l["default"].createElement("div",{className:(0,d["default"])(r)},l["default"].createElement("a",{className:(0,d["default"])(n,"iconfont"),tabIndex:-1,title:a.btnTitle[0]||"",onMouseDown:this.handleReduce},a.hasInput?String.fromCharCode(58980):""),s,u,l["default"].createElement("a",{className:(0,d["default"])(i,"iconfont"),tabIndex:-1,title:a.btnTitle[1]||"",onMouseDown:this.handleIncrease},a.hasInput?String.fromCharCode(58979):""),l["default"].createElement("div",{className:"clearB"}))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){return(e||"").replace(C,"").replace(S,"").replace(_,b).replace(E,"").replace(w,"")}function l(e,t){for(var a=t?1:0,n=e.firstChild;n;){var i=!1;n.nodeName in v?a+=l(n,!0):"BR"!==n.nodeName||n.getAttribute("data-empty")||(i=!0),n=n.nextSibling,!i||!n&&t||a++}return a}function r(e,t,a){if(!e)return{lineNum:0,strLength:0};for(var n=a.strLen,r=a.lineContent,o=a.currentLineStr,s=e.previousSibling,d=0,u=a.currentStrLength,c=t;s;)!c||"BR"===s.nodeName||s.nodeName in v||(n+=u,u=0,r.push(o),o="",d++),c=!1,3===s.nodeType?(o+=i(s.nodeValue||""),u+=i(s.nodeValue||"").length):"BR"!==s.nodeName&&(o+=i(s.textContent||s.innerText||""),u+=i(s.textContent||s.innerText||"").length),"BR"!==s.nodeName||s.getAttribute("data-empty")?s.nodeName in v&&(d+=l(s,!0),n+=u,u=0,r.push(o),o="",c=!0):(n+=u,u=0,r.push(o),o="",d++),s=s.previousSibling;return{lineNum:d,strLength:n,currentStrLength:u}}function o(e){var t,a,n,i,l,r,o=e.ownerDocument||e.document;return l=o.selection.createRange(),i=0,l&&l.parentElement()===e&&(n=e.value.replace(/\r\n/g,"\n"),a=n.length,r=e.createTextRange(),r.moveToBookmark(l.getBookmark()),t=e.createTextRange(),t.collapse(!1),i=r.compareEndPoints("StartToEnd",t)>-1?a:-r.moveStart("character",-a)),i}function s(e){var t=!1;if(!e)return t;var a=e.ownerDocument||e.document;if("undefined"!=typeof window.getSelection){var n=null;try{n=window.getSelection().getRangeAt(0)}catch(i){return t}var l=n.cloneRange();l.selectNodeContents(e),l.setEnd(n.endContainer,Math.min(n.endContainer.length,n.endOffset));var s=n.commonAncestorContainer,d=[],u="",c=0,f=0,h=0,p=!1;if(s===e&&(s=s.childNodes[s.childNodes.length-1]),!s)return{strPos:0,lineNumEnd:0,linePosEnd:0};var g=r(s,s.nodeName in v,{strLen:f,currentStrLength:h,lineContent:d,currentLineStr:u});c+=g.lineNum,f=g.strLength,h=g.currentStrLength,3!==s.nodeType&&s.nodeName in v||(p=!0);for(;p&&s.parentNode!==e;){s=s.parentNode;var y=s.nodeName in v,b=r(s,y,{strLen:f,currentStrLength:h,lineContent:d,currentLineStr:u});c+=b.lineNum,f=b.strLength,h=b.currentStrLength,p=3===s.nodeType||!y}var C=d.length<1?f:m["default"].reduce(m["default"].map(d,function(e){return e.length}),m["default"].add),S=l.toString().length;t={strPos:S,lineNumEnd:c,linePosEnd:0===c?S:S-C}}else"undefined"!=typeof a.selection&&"Control"!=a.selection.type&&(t={strPos:o(e),linePosEnd:null,lineNumEnd:null});return t}function d(e,t,a){var n=e.childNodes,l=a.line,r=Math.max(a.pos,0),o=a.prevStr,s=e.ownerDocument||e.document,u=!1;return m["default"].forEach(n,function(c,f){var h=c.nodeName;if(3===c.nodeType){var p=i(c.nodeValue||"");if(l===t.lineNumEnd&&r+p.length>=t.strPos){var m=window.getSelection(),g=s.createRange();return g.setStart(c,t.strPos-r),m.removeAllRanges(),m.addRange(g),u=!0,!1}r+=p.length}else if("BR"===h){if(f===n.length-1&&a.isBlock||l++,l===t.lineNumEnd&&r>=t.strPos){var y=window.getSelection(),b=s.createRange();return b.setStart(e,0),y.removeAllRanges(),y.addRange(b),u=!0,!1}}else{h in v&&0!==f&&l++;var C=d(c,t,{line:l,pos:r,isBlock:h in v,prevStr:o});if(!C)return u=!0,!1;l=C.line,r=C.pos}}),!u&&{line:l,pos:r,prevStr:o}}function u(e,t){if(e){if(e&&0===e.childNodes.length)return void e.focus();var a=e.ownerDocument||e.document;a.createRange&&window.getSelection&&d(e,t,{line:0,pos:0,isBlock:!1,prevStr:null})}}function c(e,t){if("INPUT"!==e.nodeName&&h(e,e.childNodes.length),0===e.value.length)return void e.focus();if(document.createRange&&window.getSelection&&e.setSelectionRange){var a=window.getSelection();a.removeAllRanges(),e.focus();var n=Math.min(e.value.length,t);e.setSelectionRange(n,n)}else e.focus()}function f(e){"INPUT"===e.nodeName?c(e,e.value.length):h(e,e.childNodes.length)}function h(e,t){if(0===e.childNodes.length)return void e.focus();if(document.createRange&&window.getSelection){var a=window.getSelection();a.removeAllRanges();var n=document.createRange();n.selectNodeContents(e),n.setStart(e,Math.min(e.childNodes.length,t)),n.collapse(!0),a.addRange(n)}e.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.blockHTMLNode=void 0;var p=a(8),m=n(p),g=a(32),v=(n(g),t.blockHTMLNode={ADDRESS:!1,ARTICLE:!0,ASIDE:!0,AUDIO:!0,BLOCKQUOTE:!1,CANVAS:!0,DD:!1,DIV:!1,DL:!1,FIELDSET:!1,FIGCAPTION:!0,FIGURE:!0,FOOTER:!0,FORM:!1,H1:!1,H2:!1,H3:!1,H4:!1,H5:!1,H6:!1,HEADER:!0,HGROUP:!0,HR:!1,NOSCRIPT:!1,OL:!1,OUTPUT:!0,P:!1,PRE:!1,SECTION:!0,TABLE:!1,TFOOT:!1,UL:!1,VIDEO:!0}),y="&nbsp;",b=" ",C=new RegExp("\r","g"),S=new RegExp("\n","g"),_=new RegExp(y,"g"),E=new RegExp("&#13;?","g"),w=new RegExp("&#8203;?","g");t["default"]={focusPosition:u,focusEnd:f,getCaretPosition:s}},function(t,a,n){(function($){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=n(8),o=i(r),s=n(14),d=i(s),u=n(23),c=i(u),f=n(38),h=i(f),p=n(33),m=i(p),g=n(108),v=i(g);a["default"]=d["default"].createClass({displayName:"FCImagePreview",getInitialState:function(){return this.time=+new Date,{position:this.props.from,showClose:!1}},componentDidMount:function(){this.popElem=document.getElementById("popwin"),m["default"].getImageSize(this.props.img).then(this.handleImageLoad),this.$image=$(c["default"].findDOMNode(this.refs.img)),$(".ie8").length>0?$("html").addClass("ie8noscroll"):$("html").addClass("noscroll")},componentWillUnmount:function(){$(c["default"].findDOMNode(this.refs.img)).unbind("load.imgLoader")},doClose:function(){this.props.onClose&&this.props.onClose(),$("html").removeClass("noscroll").removeClass("ie8noscroll"),c["default"].unmountComponentAtNode(this.popElem)},handleClose:function(){this.props.isCantClose||this.doClose()},handleImageLoad:function(t){var a=this,n=this.props,i=m["default"].getWindowSize(),l=1;if(!t)return void this.setState({position:{x:(i.width-Math.ceil(e.target.width))/2,y:(i.height-Math.ceil(e.target.height))/2,width:Math.ceil(e.target.width),height:Math.ceil(e.target.height)},showClose:!0});t.width>.8*i.width&&(l=Math.min(l,.8*i.width/t.width)),t.height>.8*i.height&&(l=Math.min(l,.8*i.height/t.height));var r=(i.width-Math.ceil(t.width*l))/2,o=(i.height-Math.ceil(t.height*l))/2;setTimeout(function(){a.setState({position:{x:r,y:o,width:Math.ceil(t.width*l),height:Math.ceil(t.height*l)},showClose:!0})},n.duration||500)},handlePinchStart:function(e){this.defaultScale=this._getScale(this.$image),this.defaultPosition=this.$image.position()},handlePinchPicture:function(e,t){this.$image.css({transform:"scale("+Math.min(Math.max(.3,this.defaultScale.x*t.scale),2)+")"})},handleZoomPicture:function(e){this.defaultScale=this._getScale(this.$image),this.defaultScale.x>1?this.$image.css({transform:"scale(1)"}):this.$image.css({transform:"scale(1.3)"})},handleWheelZoomPicture:function(e){this.defaultScale=this._getScale(this.$image),this.$image.css({transform:"scale("+Math.min(Math.max(.3,this.defaultScale.x+.05*(e.deltaY>0?-1:1)),2)+")"})},_getScale:function(e){var t=e.css("-webkit-transform")||e.css("-moz-transform")||e.css("-ms-transform")||e.css("-o-transform")||e.css("transform"),a={x:1,y:1};if(t){var n=t.replace(/[^0-9\-.,]/g,"").split(",");a.x=parseFloat(n[0])||1,a.y=parseFloat(n[3])||1}return a},handleTouchMove:function(e,t){var a=this;e.preventDefault(),e.stopPropagation(),e.touches&&e.touches.length>1&&!function(){var e=0,n=0,i=0,l=0;o["default"].forEach(t.start,function(a,r){t.move[r]&&(n++,e+=t.move[r].x-a.x,l++,i+=t.move[r].y-a.y)}),e=Math.ceil(e/n),i=Math.ceil(i/l),a.$image.css({left:Math.min(120,Math.max(-120,a.defaultPosition.left+e)),top:Math.min(120,Math.max(-120,a.defaultPosition.top+i))})}()},handlePreventDefault:function(e){e.stopPropagation(),e.preventDefault()},render:function(){var e=this.state.position,t=this.state.showClose,a=this.props,n=a.className,i=a.title,r=a.img,o=null;i&&(o=d["default"].createElement("div",{className:"pop_header"},d["default"].createElement("p",{className:"pop_title"},i)));var s=t?d["default"].createElement("a",{className:"iconfont pop_close",onClick:this.doClose},String.fromCharCode(58982)):null,u=(0,v["default"])({pinchStart:this.handlePinchStart,pinch:this.handlePinchPicture,onTouchMove:this.handleTouchMove,doubleTap:this.handleZoomPicture});return d["default"].createElement("div",{className:(0,h["default"])("pop_wrapper",n),onScroll:this.handlePreventDefault,onWheel:this.handlePreventDefault},d["default"].createElement("div",{className:"pop_mask",onClick:this.handleClose}),d["default"].createElement("div",{className:"pop_imgPreview",style:{top:e.y,left:e.x,width:e.width,height:e.height}},d["default"].createElement("image",l({className:"pop_image",ref:"img",src:window.rootPath(r),width:"100%",height:"100%"},u,{onWheel:this.handleWheelZoomPicture})),s))}}),t.exports=a["default"]}).call(a,n(22))},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(9),c=a(42),f=n(c),h=a(30),p=n(h),m=a(33),g=n(m),v=a(43),y=a(12),b=n(y),C=a(46),S=n(C);t["default"]=l["default"].createClass({displayName:"Cart",mixins:[S["default"]],getInitialState:function(){return f["default"].getState()},componentDidMount:function(){this.unsubscribe=f["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(){this.setState(f["default"].getState())},handleChoosePayment:function(e){f["default"].dispatch({type:"paymentType",data:e})},renderCartItem:function(e,t){return l["default"].createElement("li",{className:"fb_cartCommodity",key:e.sId},l["default"].createElement("span",{className:"fb_cartTd name"},e.name),l["default"].createElement("span",{className:"fb_cartTd quantity"},"× "+Math.ceil(e.num)),l["default"].createElement("span",{className:"fb_cartTd subTotal"},e.noPrice?"-":t+" "+b["default"].localeNumberFormatter(e.total,2,2)))},renderError:function(e){if(!e)return null;var t=d["default"].without(e,"tip","tipHint");return l["default"].createElement("p",{className:"fb_cartError"},(0,v.getErrorContent)(t[0],null))},render:function(){var e=this,t=this.state.data,a=this.state.payment,n=p["default"].getSettings();if(!p["default"].hasSale())return null;var i="￥";""+n.cartSymbol=="0"?i=n.cartSymbolDefined||"":n.cartSymbol&&(i=u.lang.cCurrencySymbolArray[n.cartSymbol-1]);var r=p["default"].processCart(t);if(0===r.length)return this.props.valid&&!d["default"].isEmpty(this.props.valid)?l["default"].createElement("div",null,this.renderError(this.props.valid)):null;var s=p["default"].isInnerFormPay(),c={price:i+" "+b["default"].localeNumberFormatter(d["default"].reduce(r,function(e,t){return e+100*t.total},0)/100,2,2),priceClass:{className:"price"}},f=p["default"].getInnerFormPayInfo().payOnlineMethod||[1,2,4];return l["default"].createElement("div",null,l["default"].createElement("div",{className:"fb_cart"},l["default"].createElement("p",{className:"fb_cartTitle"},s?u.lang.cCommodityPayTitle:u.lang.cCommodityNoPayTitle),l["default"].createElement("div",{className:"fb_cartTable"},l["default"].createElement("p",{className:"fb_cartTh"},l["default"].createElement("span",{className:"fb_cartTd name"},u.lang.cCommodityName),l["default"].createElement("span",{className:"fb_cartTd quantity"},u.lang.cCommodityQuantity),l["default"].createElement("span",{className:"fb_cartTd subTotal"},u.lang.cCommoditySubTotal)),l["default"].createElement("ul",{className:"fb_cartCommodities"},d["default"].map(r,function(t){return e.renderCartItem(t,i)}))),l["default"].createElement("p",{className:"fb_cartTotal"},s?u.lang.cCommodityPayTotal(c):u.lang.cCommodityNoPayTotal(c)),s?l["default"].createElement("ul",{className:"fb_paymentMethod"},d["default"].map(p["default"].SUPPORT_PAYMENT_METHOD,function(t){if(g["default"].inIframe()&&1===+t.id)return null;if(f.indexOf(+t.id)===-1)return null;var n=a&&a.type===+t.id;return l["default"].createElement("li",{className:(0,o["default"])("fb_pmItem","fb_pmItemNum"+f.length,{active:n}),onClick:e.handleChoosePayment.bind(e,+t.id),key:"pay"+t.id},l["default"].createElement("div",{className:"fb_pmImg",style:{backgroundPosition:t.bgPosition}}),l["default"].createElement("p",{className:"fb_pmTitle"},t.name),n?l["default"].createElement("div",{className:"fb_pmChosenImg"}):null)})):null),this.renderError(this.props.valid))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(33),d=n(s),u=a(55),c=n(u),f=a(111),h=n(f),p=a(46),m=n(p),g="//api.map.baidu.com/marker",v="baidumap://map/marker";t["default"]=l["default"].createClass({displayName:"Component(Map)",mixins:[m["default"],c["default"]],componentDidMount:function(){this.visibilityChange=function(){var e=document.hidden||document.webkitHidden;e&&clearTimeout(this.appCheckTimer)},this.iosVisibilityChange=function(){clearTimeout(this.appCheckTimer)}},componentWillUnmount:function(){window.clearTimeout(this.fallbackTimer),window.clearTimeout(this.appCheckTimer)},handleOpenInMap:function(e){var t=this,a=1e3;if(!t.inProgress){if(t.inProgress=!0,!d["default"].deviceCheck.isMobile)return t.inProgress=!1,void window.open(g+"?"+e,"_blank");var n=!0,i=+new Date;this.fallbackTimer=window.setTimeout(function(){t.inProgress=!1,n||(window.location.href=g+"?"+e),document.removeEventListener("visibilitychange",t.visibilityChange,!1),document.removeEventListener("webkitvisibilitychange",t.visibilityChange,!1),window.removeEventListener("pagehide",t.iosVisibilityChange,!1),window.removeEventListener("blur",t.iosVisibilityChange,!1)},2*a),document.addEventListener("visibilitychange",t.visibilityChange,!1),document.addEventListener("webkitvisibilitychange",t.visibilityChange,!1),window.addEventListener("pagehide",t.iosVisibilityChange,!1),
window.addEventListener("blur",t.iosVisibilityChange,!1);try{window.location.href=v+"?"+e}catch(l){n=!1}this.appCheckTimer=window.setTimeout(function(){var e=+new Date;(!i||e-i<1.6*a+28)&&(n=!1)},1.6*a)}},render:function(){var e=this.props,t=e.data,a=e.componentStyle,n=e.fw,i=e.itemNum,r=e.isMobile,s=[];s=t.coordinate?h["default"].outChina.apply(null,t.coordinate)?t.coordinate:h["default"].gcj02tobd09.apply(null,h["default"].wgs84togcj02.apply(null,t.coordinate)):[104.09289837961923,30.653808371337494];var d=Math.ceil(n-64);i&&!r&&(d=Math.ceil((n-64*i)/i)),d=Math.min(1024,d)*(r?1.5:1);var u="";return t.isShowInfoBox&&s&&t.mapInfoContent&&(u="&labels="+[s[0]+2e-4,s[1]+3e-4]+"&labelStyles="+[t.mapInfoContent,1,14,"0x333333","0xffffff",0]),l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_staticComponent",t.type),id:t.id,style:a},l["default"].createElement("div",{className:"fbc_staticMap"},l["default"].createElement("a",{className:"fbc_smLocation",target:"_blank",href:"javascript:void(0)",onClick:this.handleOpenInMap.bind(this,"location="+(s[1]+","+s[0])+"&title="+(t.mapLocation||"")+"&content="+(t.mapInfoContent||t.mapLocation||"")+"&output=html&src=mikecrm")},l["default"].createElement("img",{width:"100%",src:location.protocol+"//api.map.baidu.com/staticimage/v2?ak=EDb798da5e9a45ddd62246439064d449&center="+s+"&width="+d+"&height="+300*(r?1.5:1)+"&zoom="+(+(t.mapScale||9)+2)+"&markers="+s+"&markerStyles=m,,0xff0000"+u}))))}}),e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=52.35987755982988,n=3.141592653589793,i=6378245,l=.006693421622965943,r=function(e,t){var n=e-.0065,i=t-.006,l=Math.sqrt(n*n+i*i)-2e-5*Math.sin(i*a),r=Math.atan2(i,n)-3e-6*Math.cos(n*a),o=l*Math.cos(r),s=l*Math.sin(r);return[o,s]},o=function(e,t){var n=Math.sqrt(e*e+t*t)+2e-5*Math.sin(t*a),i=Math.atan2(t,e)+3e-6*Math.cos(e*a),l=n*Math.cos(i)+.0065,r=n*Math.sin(i)+.006;return[l,r]},s=function(e,t){if(f(e,t))return[e,t];var a=u(e-105,t-35),r=c(e-105,t-35),o=t/180*n,s=Math.sin(o);s=1-l*s*s;var d=Math.sqrt(s);a=180*a/(i*(1-l)/(s*d)*n),r=180*r/(i/d*Math.cos(o)*n);var h=t+a,p=e+r;return[p,h]},d=function(e,t){if(f(e,t))return[e,t];var a=u(e-105,t-35),r=c(e-105,t-35),o=t/180*n,s=Math.sin(o);s=1-l*s*s;var d=Math.sqrt(s);return a=180*a/(i*(1-l)/(s*d)*n),r=180*r/(i/d*Math.cos(o)*n),mglat=t+a,mglng=e+r,[2*e-mglng,2*t-mglat]},u=function(e,t){var a=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*n)+20*Math.sin(2*e*n))/3,a+=2*(20*Math.sin(t*n)+40*Math.sin(t/3*n))/3,a+=2*(160*Math.sin(t/12*n)+320*Math.sin(t*n/30))/3},c=function(e,t){var a=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return a+=2*(20*Math.sin(6*e*n)+20*Math.sin(2*e*n))/3,a+=2*(20*Math.sin(e*n)+40*Math.sin(e/3*n))/3,a+=2*(150*Math.sin(e/12*n)+300*Math.sin(e/30*n))/3},f=function(e,t){return e<72.004||e>137.8347||t<.8293||t>55.8271||!1};t["default"]={bd09togcj02:r,gcj02tobd09:o,wgs84togcj02:s,gcj02towgs84:d,outChina:f},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){switch(e){case"1":return y.serialNumberGenerator.alphaNumberUpper(t);case"2":return y.serialNumberGenerator.alphaNumberLower(t);case"3":return y.serialNumberGenerator.numberSimple(t);case"4":return y.serialNumberGenerator.romanNumberUpper(t);default:return""}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(14),r=n(l),o=a(23),s=n(o),d=a(38),u=n(d),c=a(8),f=n(c),h=a(55),p=n(h),m=a(59),g=a(42),v=n(g),y=a(56),b=a(107),C=n(b),S=(a(43),a(22)),_=n(S),E=a(9),w=a(46),N=n(w),k="images/form/form_picExample_bg.png",I=[null,1,.495,.327,.2425];t["default"]=r["default"].createClass({displayName:"Component(PictureRadio&Checkbox)",mixins:[N["default"],p["default"]],componentDidMount:function(){this.popElem=document.getElementById("popwin")},isFill:function(e,t){function a(e,t){return n&&e?t:e}var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(f["default"].isArray(e)){for(var i=0,l=e.length;i<l;i++)if(f["default"].isObject(e[i])){if(e[i].id===t)return a(!0,e[i])}else if(e[i]===t)return a(!0,e[i]);return!1}return a(e===t,e)},handleSelectOption:function(e){var t=this.props.data;v["default"].dispatch({type:"setSelector",id:t.id,value:e,isCheckbox:"picCheckbox"===t.type})},handleImgError:function(e){this.isHandleError&&(this.isHandleError=!0,e.target.src=k)},handleShowPreview:function(e,t){t.preventDefault(),t.stopPropagation();var a=(0,_["default"])(t.target);"IMG"===t.target.nodeName||(a=a.next());var n=document.body.scrollTop,i=document.body.scrollLeft;s["default"].render(r["default"].createElement(C["default"],{img:e,from:{x:a.offset().left-i,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},renderOptions:function(){var e=this.props,t=e.data,a=e.fill,n=e.fw,l=e.itemNum,o=e.isMobile,s=e.mode,d=this.formStyle(),c=d.optionStyle,h=d.optionTipsStyle,p=t.options||[],g=[],v=null,y=0,b=t.optionsLayout;o&&(b=Math.min(2,b||0),3!=t.picLayout&&4!=t.picLayout||(b=1));var C=o?0:15,S=o?20:60,_=null,w=l||1,N=(n/w-S-C)*I[b]-4,T=!1;"picCheckbox"===t.type&&1===t.isLimitChooseNum&&void 0!==t.chooseNumTo&&""!==t.chooseNumTo&&a&&a.length>=t.chooseNumTo&&(T=!0);for(var M=0,x=p.length;M<x;M++)if(v=p[M],1!==s||v.sId){var D=this.isFill(a||[],v.sId),P=null,O=!1;if(t.isLimitOptions&&t.optionsQuotaInfo&&v.sId in t.optionsQuotaInfo){var L=t.optionsQuotaInfo[v.sId],F=L[1]-L[0];if(F<=0&&1===t.isHideFullOption)continue;F<=0&&(O=!0),t.isShowOptionLimit?P=r["default"].createElement("span",{className:"fbc_optionTips",style:h},E.lang.cQuotaRemainingFunc({remaining:F>0?F:0})):O&&(P=r["default"].createElement("span",{className:"fbc_optionTips",style:f["default"].assign({},h,{color:"#ccc"})},E.lang.cQuotaRemainingFull))}y++,1===+b||y%b!==1||1!==t.picLayout&&t.picLayout||(_=0,f["default"].forEach(p.slice(M,M+b),function(e){if(e.image&&e.image.height&&e.image.width){var t=1;N<e.image.width&&(t=N/e.image.width),_<e.image.height*t&&(_=e.image.height*t)}}));var R=v.image||{},A=R.isLink?R.linkUri:R.imageUri,W=R.isLink?R.linkUri:R.imageFullUri;1===t.optionsLayout&&(A=W);var B=r["default"].createElement("div",{className:"fbc_picOptionImage",key:"prImg",style:{minHeight:_}},A?[r["default"].createElement("span",{className:"fbc_imgPreview iconfont",key:"preview",onClick:this.handleShowPreview.bind(this,W)},String.fromCharCode(59010)),r["default"].createElement("image",{className:"fbc_picOptionImg",key:"img",src:window.rootPath(A||k),onError:this.handleImgError})]:null),U="picCheckbox"===t.type?m.CommonCheckbox:m.CommonRadio,H=r["default"].createElement("p",{key:"prContent",style:c,className:(0,u["default"])("fbc_optionVal",t.type,{checked:D,disabled:!D&&(T||O),isFull:!D&&O})},r["default"].createElement(U,{className:"fbc_optionSvg",fallbackClassName:"fbc_optionIcon",checked:D,disabled:!D&&(T||O),style:{padding:1,paddingTop:Math.ceil(Math.max((c.minHeight-(o?20:16))/2,0))}}),r["default"].createElement("span",{className:"fbc_optionLabel"},(t.isAutoNo?i(t.autoNo,y):"")+v.value,P)),V=[B,H];2!=t.picLayout&&4!=t.picLayout||(V=[H,B]),g.push(r["default"].createElement("li",{key:"item"+M,className:(0,u["default"])("fbc_picOptionsLi",{clearB:y%b===1,fbc_picOptionsChecked:D}),onClick:!T&&!O||D?this.handleSelectOption.bind(this,v.sId):null},V))}else console.error("component ID LOST ->."+v.id+" : "+v.value);return t.isLimitOptions&&t.optionsQuotaInfo&&0===g.length&&p.length>0&&g.push(r["default"].createElement("li",{className:"fbc_emptyTip"},E.lang.cOptionNull)),g},renderTips:function(){var e=this.props,t=e.data,a=(e.fill,e.valid),n=this.formStyle(),i=n.tipsStyle;if("picCheckbox"!==t.type)return null;if(1!==t.isLimitChooseNum)return null;var l="";return void 0!==t.chooseNumFrom&&""!==t.chooseNumFrom&&void 0!==t.chooseNumTo&&""!==t.chooseNumTo?l+=t.chooseNumFrom==t.chooseNumTo?E.lang.cOptionsLimitEqualFunc({num:t.chooseNumFrom}):E.lang.cOptionsLimitRangeFunc({numForm:t.chooseNumFrom,numTo:t.chooseNumTo}):void 0!==t.chooseNumFrom&&""!==t.chooseNumFrom?l+=E.lang.cOptionsMoreThanNumFunc({numForm:t.chooseNumFrom}):void 0!==t.chooseNumTo&&""!==t.chooseNumTo&&(l+=E.lang.cOptionsLessThanNumFunc({numTo:t.chooseNumTo})),r["default"].createElement("p",{className:(0,u["default"])("fbc_tips",{error:(a||[]).indexOf("tip")>-1}),style:i},l)},render:function(){var e=this.props,t=e.data,a=e.valid,n=e.componentStyle,i=e.isMobile,l=t.optionsLayout;return i&&(l=Math.min(2,l||0),3!=t.picLayout&&4!=t.picLayout||(l=1)),r["default"].createElement("div",{className:(0,u["default"])("fb_component",t.type),id:t.id,style:n},this.renderTitle(t),this.renderSubtitle(t),this.renderTips(),this.renderError(a),r["default"].createElement("ul",{className:(0,u["default"])("fbc_content",l?"layout-"+l:"",{fbc_picOptionContent_half:3==t.picLayout||4==t.picLayout})},this.renderOptions(),r["default"].createElement("li",{className:"clearB"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(8),o=n(r),s=a(14),d=n(s),u=a(23),c=n(u),f=a(38),h=n(f),p=a(9),m=a(55),g=n(m),v=a(46),y=n(v),b=a(33),C=n(b),S=a(29),_=(n(S),a(107)),E=n(_),w=a(32),N=(n(w),a(22)),k=n(N),I=a(114),T=n(I),M=Promise.resolve(!0),x="images/form/picStatic_imgPlaceholder.png",D=d["default"].createClass({displayName:"LazyImg",mixins:[y["default"]],getInitialState:function(){return{}},componentDidMount:function(){var e=this,t=this.props.src;M=M.then(function(){return new Promise(function(a){var n=new Image;n.onload=function(){e.setState({src:t}),a(!0)},n.onerror=function(){a(!1)},n.src=t})})},render:function(){var e=this.props,t=(e.src,e.onError,e.width),a=i(e,["src","onError","width"]);return d["default"].createElement("image",l({src:window.rootPath(this.state.src?this.state.src:x)},a,{width:this.state.src?t:null}))}});t["default"]=d["default"].createClass({displayName:"Component(Pictures)",mixins:[y["default"],g["default"]],getInitialState:function(){return this.popElem=document.getElementById("popwin"),this.debouceCalc=o["default"].debounce(this.handleCalcSize,200),this.picturesInfo={},{isOpen:!1}},componentDidMount:function(){this.handleCalcSize()},componentDidUpdate:function(){this.handleCalcSize()},handleCalcSize:function(){var e=this,t=this.props,a=t.data,n=t.fw,i=t.itemNum,l=t.isMobile,r=l?10:30,s=Math.floor(n/(i||1));1!==a.picPaddingLRNone&&(s-=2*r);var d=a.picPadding||5,u=a.pictures,f=[],h=!1;if(o["default"].forEach(u,function(e){if(e)return h=!0,!1}),u&&h){for(var p=T["default"]._getSingleImageSize,m=function(t){if(u[t]){var a=u[t];a.width&&a.height||(e.picturesInfo[t]?a=o["default"].assign({},u[t],{width:e.picturesInfo[t].width,height:e.picturesInfo[t].height}):a.imageUri||a.linkUri?C["default"].getImageSize(a.imageUri||a.linkUri).done(function(a){e.picturesInfo[t]={width:a.width,height:a.height},e.debouceCalc()}):e.picturesInfo[t]={width:"auto",height:"auto"}),f.push(o["default"].assign({id:t},a))}else f.push({width:"auto",height:"auto",id:t})},g=0;g<(+a.picNumber||1);g++)m(g);var v=null;+a.picNumber>=2&&(p=T["default"]._getImagesColumnLayoutSize,+a.picNumber>2&&a.picLayout&&1!==a.picLayout&&(p=T["default"]._getImagesMultiOneLayoutSize,v=[[0,1,2],[0,[1,2]],[[0,1],2]],4===+a.picNumber&&(v=[[0,1,2,3],[0,[1,2,3]],[[0,1,2],3]]),v=v[(a.picLayout||1)-1]));var y=p(f,{width:s,gap:d,layout:v});if(y){o["default"].forEach(y.imgSize,function(t){if(e.refs["pic"+t.id]){var a=c["default"].findDOMNode(e.refs["pic"+t.id]);(0,k["default"])(a).css({width:t.width,height:t.height})}});var b={paddingLeft:1===a.picPaddingLRNone?0:r,paddingRight:1===a.picPaddingLRNone?0:r};"picNumber"in a&&1!==+a.picNumber||!u[0]||!u[0].picAlign||2===u[0].picAlign?(b.paddingLeft+=y.imgRLPadding,b.paddingRight+=y.imgRLPadding):b[1===u[0].picAlign?"paddingRight":"paddingLeft"]+=2*y.imgRLPadding,(0,k["default"])(c["default"].findDOMNode(this.refs.staticPic)).css(b)}}},_linkProcess:function(e){return(0,b.linkify)(e)||""},handleToggleFoldText:function(){this.setState({isOpen:!this.state.isOpen})},handleShowPreview:function(e,t){var a=(0,k["default"])(t.target),n=document.body.scrollTop,i=document.body.scrollLeft;c["default"].render(d["default"].createElement(E["default"],{img:e,from:{x:a.offset().left-i,y:a.offset().top-n,width:a.width(),height:a.height()},duration:200}),this.popElem)},handleOpenLinkInPage:function(e,t){if(e){var a=window.open(e,"_blank");a.focus()}else this.handleShowPreview(t)},renderPictures:function(){for(var e=this.props.data,t=+e.picNumber||1,a=e.picLayout||1,n=e.pictures||[],i=(e.picPadding||5)/2,l=[],r=0;r<t;r++){var o={};i&&(2==t?0==r?o={paddingRight:i}:1==r&&(o={paddingLeft:i}):3==t?0==r?(o={paddingRight:i},3==a&&(o.paddingBottom=i)):1==r?1==a?o={paddingLeft:i,paddingRight:i}:2==a?o={paddingLeft:i,paddingBottom:i}:3==a&&(o={paddingRight:i,paddingTop:i}):2==r&&(o={paddingLeft:i},2==a&&(o.paddingTop=i)):4==t&&(0==r?(o={paddingRight:i},3==a&&(o.paddingBottom=i)):1==r?1==a?o={paddingLeft:i,paddingRight:i}:2==a?o={paddingLeft:i,paddingBottom:i}:3==a&&(o={paddingRight:i,paddingTop:i,paddingBottom:i}):2==r?1==a?o={paddingLeft:i,paddingRight:i}:2==a?o={paddingTop:i,paddingLeft:i,paddingBottom:i}:3==a&&(o={paddingRight:i,paddingTop:i}):3==r&&(o={paddingLeft:i},2==a&&(o.paddingTop=i))));var s=n[r]?n[r].isLink?n[r].linkUri:n[r].imageUri:null,u={};i&&!s&&3==t&&(2==a&&0==r||3==a&&2==r)&&(u={paddingTop:60+i,paddingBottom:60+i}),i&&!s&&4==t&&(2==a&&0==r||3==a&&3==r)&&(u={paddingTop:110+2*i,paddingBottom:110+2*i});var c=null;n[r]&&n[r].isJumpTo&&(c=this._linkProcess(n[r].jumpTo)),l.push(d["default"].createElement("div",{className:"fbc_pictureImage",key:"pic"+r,style:o,ref:"pic"+r},d["default"].createElement("div",{className:(0,h["default"])({fbc_piWrapper:!0,"no-image":!s}),style:u},d["default"].createElement(D,{className:"fbc_piImg",style:{cursor:c?"pointer":"default"},src:window.rootPath(s||x),onClick:c?this.handleOpenLinkInPage.bind(this,c):null,onError:this.handleImgError,width:"100%"}))))}var f=l;3==t&&2==a?f=[d["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup0"},l[0]),d["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup1"},l[1],l[2])]:3==t&&3==a?f=[d["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup0"},l[0],l[1]),d["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup1"},l[2])]:4==t&&2==a?f=[d["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup0"},l[0]),d["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup1"},l[1],l[2],l[3])]:4==t&&3==a&&(f=[d["default"].createElement("div",{className:"fbc_pictureGroup small",key:"picGroup0"},l[0],l[1],l[2]),d["default"].createElement("div",{className:"fbc_pictureGroup big",key:"picGroup1"},l[3])]);var p={fbc_pictureWrapper:!0};return p["images-"+t]=!0,a&&(p["layout-"+a]=!0),d["default"].createElement("div",{className:(0,h["default"])(p),ref:"staticPic"},f,d["default"].createElement("div",{className:"clearB"}))},render:function(){var e=this.props,t=e.data,a=e.componentStyle,n=this.state.isOpen,i=!1;o["default"].forEach(t.pictures,function(e){if(e)return i=!0,!1});var l=this.formStyle(),r=l.describeStyle;a||(a={}),a.paddingTop=t.picPaddingTB||5,a.paddingBottom=t.picPaddingTB||5;var s=null;if(t.isAddDescribe)if(r=o["default"].assign(r,{textAlign:["","left","center","right"][t.picSubTitleAlign]}),t.isDescribeTextFold){var u=null;n?u=this.renderRichContent(t.picDescribe||"",t.picDescribe_style||null):t.describeFoldText&&(u=d["default"].createElement("span",{className:"fbc_foldTips"},this.renderRichContent(t.describeFoldText||"",t.describeFoldText_style||null))),s=d["default"].createElement("p",{className:(0,h["default"])({fbc_foldContent:!0,hasFoldText:u,"is-open":n}),style:r},u,d["default"].createElement("a",{className:"fbc_foldBtn",onClick:this.handleToggleFoldText},n?p.lang.cFoldText:p.lang.cUnFoldText,d["default"].createElement("i",{className:"iconfont fbc_foldIcon"},n?String.fromCharCode(58984):String.fromCharCode(58983))))}else s=d["default"].createElement("p",{className:"fbc_picDescribe",style:r},this.renderRichContent(t.picDescribe||"",t.picDescribe_style||null));return d["default"].createElement("div",{className:(0,h["default"])("fb_component","fb_staticComponent",t.type,{fb_picture_none:!t.pictures||!i,fb_staticPicPaddingNone:1===t.picPaddingLRNone}),id:t.id,style:a},this.renderPictures(),s)}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var a=t.width,n=(t.gap,0),i=e[0],l=[];return"auto"!==i.width&&(i.width<a?(l[0]=u["default"].assign({},i),n=Math.floor((a-i.width)/2)):l[0]={width:a,height:Math.floor(i.height/i.width*a)},{imgSize:l,imgRLPadding:Math.max(n,0),isSingle:!0})}function l(e,t){return e+t.width}function r(e,t){var a=t.width,n=t.gap,i=e.slice(),r=!1,o=Math.max.apply(null,u["default"].map(e,function(e){return"auto"===e.height&&(r=!0),"auto"===e.height?0:e.height})),s=[];i=u["default"].map(i,function(e,t){return o===e.height?e:"auto"===e.height?(s.push(t),e):u["default"].assign({},e,{width:e.width/e.height*o,height:o})});var d=null,c=120;if(s.length>0){var f=a-n*(e.length-1),h=u["default"].reduce(i,function(e,t){var a=t.width;return"auto"===t.width&&(a=0),e+a},0);h>=f?(d=h,u["default"].forEach(s,function(e){d+=c,i[e]=u["default"].assign({},i[e],{width:c,height:o})})):!function(){d=f;var e=Math.floor((d-h)/s.length),t=0;e<c&&(t=c-e),u["default"].forEach(s,function(a){d+=t,i[a]=u["default"].assign({},i[a],{width:e,height:o||(r?"auto":o)})})}()}else d=u["default"].reduce(i,l,0);var p=1,m=void 0;return d>=a-n*(e.length-1)?(p=(a-n*(e.length-1))/d,i=u["default"].map(i,function(e){return u["default"].assign({},e,{width:Math.floor(e.width*p),height:Math.floor(e.height*p)})})):i=u["default"].map(i,function(e){return u["default"].assign({},e,{width:Math.floor(e.width),height:Math.floor(e.height)})}),m=(a-(u["default"].reduce(i,l,0)+n*(e.length-1))-2)/2,{imgSize:i,imgRLPadding:Math.max(m,0),totalWidth:d}}function o(e,t){var a=t.width,n=t.gap,i=t.layout,l=-1,r=null,o=[],d=!1,c=u["default"].map(i,function(t,a){if(u["default"].isArray(t))return l=a,u["default"].map(t,function(t){var a=u["default"].find(e,{id:t});return"auto"===a.width&&(d=!0,o.push(t)),a});var n=u["default"].find(e,{id:t});return"auto"===n.width&&(d=!0,r=t),n});if(l>-1){var f=function(){var e=c[l],t=c[1-l],i=u["default"].reduce(e,function(e,t){var a=t.width;return"auto"===a&&(d=!0,a=0),e+a},0),s=0;e.length-o.length>0?(s=i/(e.length-o.length),s>a-n&&(s=a-n)):o.length===e.length&&(s="auto"),e=u["default"].map(e,function(e){return"auto"===e.height?(d=!0,e):u["default"].assign({},e,{height:Math.floor(e.height/e.width*s),width:Math.floor(s)})});var f=u["default"].reduce(e,function(e,t){var a=t.height;return"auto"===a&&(d=!0,a=0),e+a},0)||0;0===f&&o.length===e.length&&(f="auto");var h=null;if(null!==r)h="auto"===f?0:f+n*(e.length-1),t="auto"===s?u["default"].assign({},t,{width:"auto",height:"auto"}):a-n<s?u["default"].assign({},t,{width:0,height:0}):u["default"].assign({},t,{width:Math.floor(a-n-s),height:Math.floor(h)});else if("auto"===f){var p=a-n-("auto"===s?0:s);p<t.width&&(t=u["default"].assign({},t,{width:p,height:t.height/t.width*p})),h=t.height}else h=Math.max(t.height,f+n*(e.length-1));o&&o.length>0&&("auto"===f?("auto"===s&&(s=a-n-t.width),u["default"].forEach(o,function(t){var a=u["default"].findIndex(e,{id:t});e[a]=u["default"].assign({},e[a],{width:s,height:(h-n*(e.length-1))/o.length})})):h<=f?u["default"].forEach(o,function(t){e[t]=u["default"].assign({},e[t],{width:0,height:0})}):(0===s&&(s=a-n-("auto"===t.width?0:t.width)),u["default"].forEach(o,function(t){var a=u["default"].findIndex(e,{id:t});e[a]=u["default"].assign({},e[a],{width:s,height:(h-n*(e.length-1)-f)/o.length})}),f=t.height-n*(e.length-1)));var m=1;"auto"!==f&&0!==f&&(m=(h-n*(e.length-1))/f);var g=1;"auto"!==t.height&&0!==t.height&&(g=h/t.height),e=u["default"].map(e,function(e){return u["default"].assign({},e,{height:Math.floor(e.height*m),width:Math.floor(e.width*m)})}),t=u["default"].assign({},t,{height:Math.floor(t.height*g),width:Math.floor(t.width*g)});var v=0;"auto"!==s&&(s*=m,v=Math.floor(s));for(var y=t.width+v,b=1,C=void 0;y>a-n;){if(b=(a-n)/y,e=u["default"].map(e,function(e){return"auto"===e.height?e:u["default"].assign({},e,{height:Math.floor(e.height*b),width:Math.floor(e.width*b)})}),"auto"!==t.height&&(t=u["default"].assign({},t,{height:Math.floor(t.height*b),width:Math.floor(t.width*b)}),"auto"!==f&&(f=u["default"].reduce(e,function(e,t){var a=t.height;return"auto"===a&&(d=!0,a=0),e+a},0)||0,h=Math.max(t.height,f+n*(e.length-1)),t.height!==h))){var S=h/t.height;t=u["default"].assign({},t,{height:Math.floor(t.height*S),width:Math.floor(t.width*S)})}s*=b,v=Math.floor(s),y=("auto"===t.width?0:t.width)+v}return C=Math.floor((a-y-n-2)/2),{v:{imgSize:1===l?[t].concat(e):e.concat(t),imgRLPadding:Math.max(C,0),totalWidth:y}}}();if("object"===("undefined"==typeof f?"undefined":s(f)))return f.v}return!1}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=a(8),u=n(d);t["default"]={_getSingleImageSize:i,_getImagesColumnLayoutSize:r,_getImagesMultiOneLayoutSize:o},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(8),r=n(l),o=a(22),s=n(o),d=a(38),u=n(d),c=a(14),f=n(c),h=a(55),p=n(h),m=a(30),g=n(m),v=a(33),y=(n(v),a(29)),b=(n(y),a(108)),C=n(b),S=a(69),_=n(S),E=a(46),w=n(E);t["default"]=f["default"].createClass({displayName:"Component(PicCarousel)",mixins:[w["default"],p["default"]],getInitialState:function(){return this._initMobileEvent&&this._initMobileEvent(),{isHover:!1,currentIdx:0,pccLeft:0}},componentWillUpdate:function(){setTimeout(function(){(0,s["default"])(".fbc_pcImage").offset()},300)},componentDidMount:function(){var e=this.props.data;e.carouselPictures&&e.carouselPictures.length>0&&this._autoScroll()},componentWillUnmount:function(){this._stopAutoScroll()},_autoScroll:function(){var e=this;this.autoScroll=window.setTimeout(function(){e.handleSwitchToNext()},1e3*(this.props.data.speed||2)+400)},_stopAutoScroll:function(){window.clearTimeout(this.autoScroll)},_calculatePccPosition:function(e){var t=0,a=this.props,n=a.isMobile,i=a.fw,l=a.data,r=a.itemNum;if(i=(i-(n?40:80)*(r||1))/(n?1:r||1),2===l.picCarouselType){for(var o=0,s=0;s<e+1;s++){var d=l.carouselPictures[s];o+=d&&d.width&&d.height?Math.min(100,d.width*Math.min(1,40/d.height))+4:44}o+10*e>i&&(t=o+10*e-(i-20))}else 8*(e+1)+10*e>i&&(t=8*(e+1)+10*e-i);return t},handleMouseEnter:function(){this.setState({isHover:!0}),this._stopAutoScroll()},handleMouseLeave:function(){this.setState({isHover:!1}),this._autoScroll()},handleSwitchTo:function(e){this._stopAutoScroll();var t=this.state.currentIdx;this.switchTo=e>t?"Next":"Prev",this.setState({currentIdx:e,pccLeft:this._calculatePccPosition(e)}),this.state.isHover||this._autoScroll()},handleSwitchToPrev:function(){this._stopAutoScroll(),this.switchTo="Prev";var e=this.state.currentIdx,t=e-1;0===e&&(t=this.props.data.carouselPictures.length-1),this.setState({currentIdx:t,pccLeft:this._calculatePccPosition(t)}),this.state.isHover||this._autoScroll()},handleSwitchToNext:function(){this._stopAutoScroll(),this.switchTo="Next";var e=this.state.currentIdx,t=e+1;e===this.props.data.carouselPictures.length-1&&(t=0),this.setState({currentIdx:t,pccLeft:this._calculatePccPosition(t)}),this.state.isHover||this._autoScroll()},handleClick:function(){var e=this.state.currentIdx,t=this.props.data,a=t.carouselPictures[e]||{};if(a.isJumpTo&&a.jumpTo){var n=a.jumpTo;window.open((0,v.linkify)(n)||"http://"+n)}},handleSwipe:function(e,t){"left"===t.direction?this.handleSwitchToNext(e):"right"===t.direction&&this.handleSwitchToPrev(e)},_initMobileEvent:function(){this.touchEvent=(0,C["default"])({swipe:this.handleSwipe})},renderPictureCarouselOriginal:function(){var e=this.state.currentIdx,t=this.props,a=t.data,n=t.fw,l=t.isMobile,r=Math.floor(Math.min(1,(n-(l?20:60))/(g["default"].getFormWidth()-60))*(a.picHeight||200)),o=a.carouselPictures[e]||{},s=o.isLink?o.linkUri:o.imageUri;return f["default"].createElement("div",i({className:"fbc_pcMain original"},this.touchEvent,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),f["default"].createElement("div",{className:"fbc_pcPictures",style:{height:r}},f["default"].createElement(_["default"],{key:"pcPicture",component:"div",className:"fbc_pcImageWrapper",transitionName:"pcSwitch-an"+(a.animation||1)+"-"+this.switchTo,enterTimeout:400,leaveTimeout:400},f["default"].createElement("div",{className:(0,u["default"])("fbc_pcImage",{"no-image":!s}),key:"pic"+(o.id||e)},f["default"].createElement("img",{className:(0,u["default"])("fbc_pcImg",{isJumpTo:o.isJumpTo&&o.jumpTo}),src:window.rootPath(s||"images/form/carousels_imgPlaceholder.png"),onClick:this.handleClick}),o.name?f["default"].createElement("p",{className:"fbc_pcName"},o.name):null)),a.carouselPictures.length>1?[f["default"].createElement("a",{key:"prev",className:"iconfont fbc_pcPrev",onClick:this.handleSwitchToPrev},String.fromCharCode(58989)),f["default"].createElement("a",{key:"next",className:"iconfont fbc_pcNext",onClick:this.handleSwitchToNext},String.fromCharCode(58990))]:null))},renderPictureCarouselSlide:function(){var e=this.state.currentIdx,t=this.props,a=t.data,n=t.fw,l=t.isMobile,r=t.itemNum;n-=l?20:60;var o=Math.floor(Math.min(1,n/(g["default"].getFormWidth()-60))*(a.picHeight||200)),s=a.carouselPictures[e]||{},d=s.isLink?s.linkUri:s.imageUri,c=e-1;0===e&&(c=a.carouselPictures.length-1);var h=a.carouselPictures[c]||{},p=h.isLink?h.linkUri:h.imageUri,m=e+1;e===a.carouselPictures.length-1&&(m=0);var v=a.carouselPictures[m]||{},y=v.isLink?v.linkUri:v.imageUri,b={};if(s.name&&s.width&&s.height){n=(n-(l?20:60)*((r||1)-1))/(l?1:r||1);var C=Math.min(1,o/s.height);if(.9*n<s.width*C)C=Math.min(1,.9*n/s.width),b.bottom=(o-s.height*C)/2;else{var S=(.9*n-s.width*C)/2;b.left=S,b.right=S,b.bottom=(o-s.height*C)/2}}return f["default"].createElement("div",i({className:"fbc_pcMain slide"},this.touchEvent,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),f["default"].createElement("div",{className:"fbc_pcPictures",style:{height:o}},f["default"].createElement(_["default"],{key:"pcPicture",component:"div",className:"fbc_pcImageWrapper",transitionName:"pcSlide-"+this.switchTo,enterTimeout:400,leaveTimeout:400},f["default"].createElement("div",{key:"prev"+c,className:(0,u["default"])("fbc_pcImage","prev",{"no-image":!p}),onClick:this.handleSwitchToPrev},f["default"].createElement("img",{className:"fbc_pcImg",src:window.rootPath(p||"images/form/carousels_imgPlaceholder.png")})),f["default"].createElement("div",{key:"cur"+e,className:(0,u["default"])("fbc_pcImage","current",{"no-image":!d})},f["default"].createElement("img",{className:(0,u["default"])("fbc_pcImg",{isJumpTo:s.isJumpTo&&s.jumpTo}),onClick:this.handleClick,src:window.rootPath(d||"images/form/carousels_imgPlaceholder.png")}),s.name?f["default"].createElement("p",{className:"fbc_pcName",style:b},s.name):null),f["default"].createElement("div",{key:"next"+m,className:(0,u["default"])("fbc_pcImage","next",{"no-image":!y}),onClick:this.handleSwitchToNext},f["default"].createElement("img",{className:"fbc_pcImg",src:window.rootPath(y||"images/form/carousels_imgPlaceholder.png")})))))},renderPictureCarouselControlPanel:function(){var e=this,t=this.state,a=t.currentIdx,n=t.pccLeft,i=this.props.data,l=8*i.carouselPictures.length+10*(i.carouselPictures.length-1);return 2===i.picCarouselType&&(l=10*(i.carouselPictures.length-1),r["default"].map(i.carouselPictures,function(e){l+=e&&e.width&&e.height?Math.min(100,e.width*Math.min(1,40/e.height))+4:44})),f["default"].createElement("div",{className:"fbc_pcControlPanel"},f["default"].createElement("div",{className:"fbc_pccWrapper"},f["default"].createElement("ul",{className:"fbc_pccList",style:{width:Math.ceil(l),marginLeft:-(n||0)}},r["default"].map(i.carouselPictures,function(t,n){if(2===i.picCarouselType){var l=t||{},r=l.isLink?l.linkUri:l.imageUri;return f["default"].createElement("li",{key:"pcc"+n,className:(0,u["default"])("fbc_pccImage",{active:n===a}),onClick:e.handleSwitchTo.bind(e,n)},f["default"].createElement("img",{className:"fbc_pccImg",src:window.rootPath(r||"images/form/carousels_imgPlaceholder.png")}))}return f["default"].createElement("li",{key:"pcc"+n,className:(0,u["default"])("fbc_pccDot",{active:n===a}),onClick:e.handleSwitchTo.bind(e,n)})}))))},render:function(){var e=this.props,t=e.data,a=e.componentStyle;return t.carouselPictures&&t.carouselPictures.length>0?f["default"].createElement("div",{className:(0,u["default"])("fb_component","fb_staticComponent",t.type),id:t.id,style:a},f["default"].createElement("div",{className:(0,u["default"])("fbc_picCarousel","fbc_pct_"+(t.picCarouselType||1))},3===t.picCarouselType?this.renderPictureCarouselSlide():this.renderPictureCarouselOriginal(),this.renderPictureCarouselControlPanel())):null}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(9),d=a(55),u=n(d),c=a(46),f=n(c);t["default"]=l["default"].createClass({displayName:"Component(StaticText)",mixins:[f["default"],u["default"]],getInitialState:function(){return{isOpen:!1}},componentDidUpdate:function(){this.needFocus&&(this.refs.foldContent.focus(),this.needFocus=!1)},handleToggleFoldText:function(){this.setState({isOpen:!this.state.isOpen})},handleARIA_ToggleFoldText:function(e){13!==e.keyCode&&32!==e.keyCode||(this.needFocus=!0,this.handleToggleFoldText())},render:function(){var e=this.props,t=e.data,a=e.componentStyle,n=this.state.isOpen,i=this.formStyle(),r=i.describeStyle,d=null,u="";if(t.isFoldText){var c=null;n?(u=this.getRawContent(t.title||""),c=this.renderRichContent(t.title||"",t.title_style||null)):t.foldContent&&(u=this.getRawContent(t.foldContent||""),c=l["default"].createElement("span",{className:"fbc_foldTips"},this.renderRichContent(t.foldContent||"",t.foldContent_style||null))),d=l["default"].createElement("div",{className:(0,o["default"])("fbc_foldContent","aria-content",{hasFoldText:c,"is-open":n}),ref:"foldContent",tabIndex:1,role:"article","aria-label":u,style:r},c,l["default"].createElement("a",{className:"fbc_foldBtn aria-content",tabIndex:1,role:"button",onClick:this.handleToggleFoldText,onKeyDown:this.handleARIA_ToggleFoldText},n?s.lang.cFoldText:s.lang.cUnFoldText,l["default"].createElement("i",{className:"iconfont fbc_foldIcon","aria-hidden":!0},n?String.fromCharCode(58984):String.fromCharCode(58983))))}else u=this.getRawContent(t.title||""),d=l["default"].createElement("p",{className:"fbc_staticText aria-content",ref:"foldContent",tabIndex:1,"aria-label":u,role:"article",style:r},this.renderRichContent(t.title||"",t.title_style||null));return l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_staticComponent",t.type),id:t.id,style:a},l["default"].createElement("div",{className:"fb_componentBorder"}),d)}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{
value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(55),d=n(s),u=a(46),c=n(u);t["default"]=l["default"].createClass({displayName:"Component(Separator)",mixins:[c["default"],d["default"]],render:function(){var e=this.props,t=e.data,a=e.componentStyle,n=["","dotted","dashed","solid","double"],i={};return t.isNoPadding&&(i={marginLeft:0,marginRight:0}),l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_staticComponent",t.type),id:t.id,style:a},l["default"].createElement("div",{className:"fb_componentBorder"}),this.renderTitle(t),l["default"].createElement("hr",{className:"fbc_separatorHr "+n[t.borderType],style:i}),this.renderSubtitle(t))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(9),d=a(55),u=n(d),c=a(52),f=n(c),h=a(46),p=n(h);t["default"]=l["default"].createClass({displayName:"Component(AuthCode)",mixins:[p["default"],u["default"]],handleChange:function(e){formStore.dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){formStore.dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=this.formStyle(),d=r.tipsStyle,u=r.inputStyle;return l["default"].createElement("div",{className:(0,o["default"])("fb_component",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentBorder"}),this.renderTitle(t),this.renderSubtitle(t),l["default"].createElement("p",{className:"fbc_tips",style:d},s.lang.cAuthCodeTips),l["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:10*(t.cpWidth||8)+"%"}},l["default"].createElement(f["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:n&&n.length>0}),ref:"input",type:"text",spellCheck:!1,style:u,onChange:this.handleChange,onBlur:this.handleBlur,value:a||""}),l["default"].createElement("span",{className:"fbc_acImg"})))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(55),d=n(s),u=a(32),c=n(u),f=a(120),h=n(f),p=a(46),m=n(p);t["default"]=l["default"].createClass({displayName:"Component(Video)",mixins:[m["default"],d["default"]],renderIframe:function(e,t){if(!e)return null;var a=(0,h["default"])(e);if(!a)return null;var n=null;switch(a.type){case"youtube":n="https://www.youtube.com/embed/"+a.id;break;case"vimeo":n="https://player.vimeo.com/video/"+a.id;break;case"youku":n="//player.youku.com/embed/"+a.id;break;case"tudou":if(3===a.playType)n="//player.youku.com/embed/"+a.id;else{var i="";a.playType&&(i="type="+a.playType+"&lcode="+a.lid+"&"),n="//www.tudou.com/programs/view/html5embed.action?"+i+"code="+a.id+"&autoPlay=false&playType=AUTO"}break;case"qq":n=t&&t.vid?"//v.qq.com/iframe/player.html?vid="+t.vid+"&tiny=0&auto=0":"//v.qq.com/iframe/player.html?vid="+a.vid+"&tiny=0&auto=0";break;case"iqiyi":t&&t.vid&&t.tvid&&(n="//open.iqiyi.com/developer/player_js/coopPlayerIndex.html?vid="+t.vid+"&tvId="+t.tvid+"&accessToken=2.f22860a2479ad60d8da7697274de9346&appKey=3955c3425820435e86d0f4cdfe56f5e7&appId=1368&height=100%&width=100%");break;case"bilibili":t&&t.aid&&t.cid&&(n="//player.bilibili.com/player.html?aid="+t.aid+"&cid="+t.cid+"&page=1")}var r=this.props,o=r.fw,s=r.itemNum,d=r.isMobile,u=400;return u=!s||d?Math.ceil(9*(o-60)/16+30):Math.ceil((o-60*s)/s*9/16+18),null===n?(c["default"].log(a),"letv"===a.type?l["default"].createElement("div",{dangerouslySetInnerHTML:{__html:'<object width="100%" height="'+u+"\">\n\t\t\t\t\t\t\t<param name='allowFullScreen' value='true'>\n\t\t\t\t\t\t\t\t<param name='movie' value=\"//img1.c0.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id="+a.id+"\"/>\n\t\t\t\t\t\t\t\t<embed allowFullScreen='true' type='application/x-shockwave-flash'\n\t\t\t\t\t\t\t\t       src=\"//img1.c0.letv.com/ptv/player/swfPlayer.swf?autoPlay=0&id="+a.id+'"\n\t\t\t\t\t\t\t\t       width="100%" height="'+u+'" />\n\t\t\t\t\t\t\t</param>\n\t\t\t\t\t\t</object>'}}):"taobao"===a.type?l["default"].createElement("video",{style:{width:"100%",height:u},controls:!0,autoPlay:!1},l["default"].createElement("source",{type:"video/mp4",src:"//cloud.video.taobao.com//play"+a.data})):null):l["default"].createElement("iframe",{width:"100%",height:u,src:n,frameBorder:"0",allowFullScreen:!0,webkitAllowFullScreen:!0,MozAllowFullscreen:!0,scrolling:"no"})},render:function(){var e=this.props,t=e.data,a=e.componentStyle;return l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_staticComponent",t.type),id:t.id,style:a},this.renderIframe(t.staticVideoUrl,t.videoInfo))}}),e.exports=t["default"]},function(e,t){"use strict";function a(e){return l.isMatch(e)?l.getInfo(e):r.isMatch(e)?r.getInfo(e):n.isMatch(e)?n.getInfo(e):i.isMatch(e)?i.getInfo(e):o.isMatch(e)?o.getInfo(e):s.isMatch(e)?s.getInfo(e):d.isMatch(e)?d.getInfo(e):u.isMatch(e)?u.getInfo(e):c.isMatch(e)?c.getInfo(e):f.isMatch(e)?f.getInfo(e):null}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=/^(https?:\/{2})?(w{3}\.)?youtube|youtu\.be/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=null;return t=e.match("embed")?e.split(/embed\//)[1].split('"')[0]:e.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],{type:"youtube",id:t.split("#")[0]}}}}(),i=function(){var e=/^(https?:\/{2})?(w{3}\.)?vimeo\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.split("/"),a=t[t.length-1];return{type:"vimeo",id:a}}}}(),l=function(){var e=/^(https?:\/{2})?((w{3}|v)\.)?youku\.com/,t=/id_(\w+)/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var a=t.exec(e),n=a[1];return{type:"youku",id:n}}}}(),r=function(){var e=/^(https?:\/{2})?((w{3}|video)\.)?tudou\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.split("?")[0],a=e.split("?")[0].split("/").filter(function(e){return e}),n=t.match(/\/listplay\//),i=t.match(/\/albumplay\//),l=t.match(/\/v\//),r=a[a.length-1],o=null,s=null;return n||i||!l?(n||i)&&(r=r.split(".")[0],o=a[a.length-2],s=i?2:n?1:null):(r=r.replace(".html",""),s=3),{type:"tudou",id:r,lid:o,playType:s}}}}(),o=function(){var e=/^(https?:\/{2})?v\.qq\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.indexOf("?vid=")===-1,a=null,n=null;if(t){var i=e.split("/");a=i[i.length-1],a=a.split(".")[0]}else{var l=e.split("vid=");n=l[l.length-1]}return{type:"qq",id:n?n.split(/&|#/)[0]:null,vid:a,"static":t}}}}(),s=function(){var e=/^(https?:\/{2})?(w{3}\.)?bilibili\.(com|tv)/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.split("/"),a=null;return t.forEach(function(e){if(e.match(/^av(\d)+$/))return a=e.replace("av",""),!1}),{type:"bilibili",id:a}}}}(),d=function(){var e=/^(https?:\/{2})?(w{3}\.)?le\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.split(/[\/\?]/g),a=null;return t.forEach(function(e){if(e.match(/^(\d+)\.html$/))return a=e.replace(".html",""),!1}),{type:"letv",id:a}}}}(),u=function(){var e=/^(https?:\/{2})?(w{3}\.)?iqiyi\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){return{type:"iqiyi",tvid:null,vid:null}}}}(),c=function(){var e=/open\.iqiyi\.com/;return{isMatch:function(t){return t.match(e)},getInfo:function(e){var t=e.match(/vid=((.*?)&)/),a=e.match(/tvId=((.*?)&)/);return{type:"iqiyi",tvid:a[2],vid:t[2],"static":a&&t}}}}(),f=function(){var e=/^(https?:\/{2})?cloud\.video\.taobao\.com\/(\/)?play/;return{isMatch:function(t){return t.match(e)&&t.match(/\.mp4$/)},getInfo:function(t){var a=t.replace(e,"");return a=a.match(/[a-zA-z0-9\/\.]+/)[0],{type:"taobao",data:a}}}}();t["default"]=a,e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(9),d=a(8),u=n(d),c=a(55),f=n(c),h=a(42),p=n(h),m=a(52),g=n(m),v=a(35),y=a(46),b=n(y),C=(0,v.FORM_COMPONENTS_NAME_DETAILS)({np:s.lang.cnamePrefix,nf:s.lang.cnameFirst,nm:s.lang.cnameMiddle,nl:s.lang.cnameLast,ns:s.lang.cnameSuffix,nn:s.lang.cnameNick});t["default"]=l["default"].createClass({displayName:"Component(Name)",mixins:[b["default"],f["default"]],handleChange:function(e){var t={};t[e.target.name]=e.target.value,p["default"].dispatch({type:"setValue",id:this.props.data.id,value:t})},handleBlur:function(e){var t={};t[e.target.name]=e.target.value,p["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:t})},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=t.valid,r=t.componentStyle,d=t.isMobile,c=t.style,f=t.itemNum;n=n||{};var h=this.formStyle(),p=h.inputStyle,m=h.inputWithIconStyle,v=h.inputIconStyle,y=[];y=i&&i.length>0?["err"+a.id,"title"+a.id,"subtitle"+a.id,"placehoder"+a.id]:["title"+a.id,"subtitle"+a.id,"placehoder"+a.id];var b=l["default"].createElement(g["default"],{component:"input",key:"name",name:"n",className:(0,o["default"])("fbc_input",{error:i&&i.length>0}),type:"text",spellCheck:!1,tabIndex:1,"aria-labelledby":y.join(" "),icon:String.fromCharCode(59073),themeColor:c.themeColor,style:m,iconStyle:v,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:a.placeholder||"",value:n.n||""}),S=a.detailsItem||[2,4];a.isOpenDetails&&!u["default"].isEmpty(S)&&!function(){var t=101/S.length-1,r=!1;d&&(2===S.length?(r=!0,t=50):t=100);var c=!0;b=[];var f=[];u["default"].forEach(C,function(d){var h=d.id,m=d.name,v=d.title;if(u["default"].indexOf(S,h)!==-1){var C=!1;i&&i.indexOf("required")>-1&&(C=!n[m]);var _=c?y:[];c&&(f.push(l["default"].createElement("span",{className:"aria-name-struct-des",id:"nameStruct"+a.id,"aria-label":s.lang.ariaNameStruct+"."})),_.push("nameStruct"+a.id),c=!1),_.push("nameStruct"+m+a.id),f.push(l["default"].createElement("span",{className:"aria-name-struct-hint",id:"nameStruct"+m+a.id,"aria-label":v+"."})),b.push(l["default"].createElement(g["default"],{component:"input",key:"name"+h,name:m,type:"text",spellCheck:!1,className:(0,o["default"])("fbc_input nameItem",{name_singleLine:r,error:C}),tabIndex:1,"aria-labelledby":_.join(" "),style:u["default"].assign({width:t+"%"},p),onChange:e.handleChange,onBlur:e.handleBlur,placeholder:v,value:n[m]||""}))}}),b=b.concat(f)}();var _=10*(d?10:a.cpWidth||8),E={},w={};return d||2!==+a.cpLayout||(E={"float":"left",paddingTop:6,width:((c.bodyStyle||{}).cpTitleWidth||20)+"%"},w={"float":"left",width:100-((c.bodyStyle||{}).cpTitleWidth||20)+"%"},f&&f>1&&(E.width="auto",E.maxWidth=105-_+"%",w.width=_-5+"%",_=100)),l["default"].createElement("div",{className:"fb_component name",id:a.id,style:r},l["default"].createElement("div",{className:"fb_componentText",style:E},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),l["default"].createElement("div",{className:"fb_componentBody",style:w},l["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:_+"%"}},l["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+a.id,"aria-label":(a.placeholder||"")+"."}),b,l["default"].createElement("div",{className:"clearB"}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(30),c=a(34),f=n(c),h=a(33),p=n(h),m=a(29),g=a(55),v=n(g),y=a(9),b=a(42),C=n(b),S=a(52),_=n(S),E=a(46),w=n(E),N=30;t["default"]=l["default"].createClass({displayName:"Component(MobileVerification)",mixins:[w["default"],v["default"]],getInitialState:function(){return this.validMobile=!1,this.getVerificationCode=!1,{isLock:!1,timer:N,codeValid:null}},componentWillUpdate:function(e,t){var a=this;!this.state.isLock&&t.isLock&&!function(){var e=function l(){var e=(0,f["default"])().time();n>=e?(t.setState({timer:Math.floor((n-e)/1e3),isLock:!0}),i=p["default"].rAF(l)):(t.setState({timer:0,isLock:!1}),p["default"].cAF(i))},t=a,n=(0,f["default"])().time()+1e3*N,i=void 0;e()}()},componentWillReceiveProps:function(e){var t=this;!this.validMobile||e.valid&&!d["default"].isEmpty(e.valid)||(this.getVerificationCode=!0,this.validMobile=!1,this.setState({isLock:!0}),C["default"].getPhoneVerificationCode(this.props.data.id).done(function(e){0===e.r?t.setState({isLock:!0}):(t.validMobile=!0,t.setState({isLock:!0,codeValid:!1,lockValidCode:!1}))}).always(function(){t.getVerificationCode=!1}))},handleGetPhoneVerificationCode:function(){var e=this.props,t=e.fill,a=e.data;t&&t.mobile&&!this.state.isLock&&!this.validMobile&&(t.verificationToken&&!t.verificationMobileToken||(this._clearValidState(),this.validMobile=!0,C["default"].dispatch({type:"validMobile",id:a.id})))},_clearValidState:function(){this.setState({codeValid:null,lockValidCode:!1})},handleVerificationCodeChange:function(e){this.state.lockValidCode||(C["default"].dispatch({type:"setVerificationCode",id:this.props.data.id,value:e.target.value}),this.setState({codeValid:null}),4===e.target.value.length&&(this.setState({lockValidCode:!0}),C["default"].validVerificationCode(this.props.data.id,this.handleValidVerificationCode)))},handleValidVerificationCode:function(e){this.validVerificationCode=!1,this.setState({codeValid:e,lockValidCode:!1})},handleMobileChange:function(e){this.getVerificationCode=!1,this.validMobile=!1,this._clearValidState(),C["default"].dispatch({type:"setMobileValue",id:this.props.data.id,value:e.target.value})},render:function(){var e=this.state,t=e.isLock,a=e.timer,n=e.codeValid,i=this.props,r=i.data,s=i.fill,c=i.valid,f=i.componentStyle,h=i.isMobile,p=i.style,g=i.itemNum,v=this.formStyle(),b=v.inputStyle,C=v.inputBtnStyle,S=v.inputWithIconStyle,E=v.inputIconStyle,w=(0,m.getWidth)(y.lang.cMobileGetCode,(C.fontSize||14)+"px/1 "+u._FONT)+30,N=d["default"].assign(C,{width:w}),k=!1;!t&&s&&s.mobile&&!this.validMobile&&(s.verificationToken&&!s.verificationMobileToken||(k=!0)),k?N.borderColor=N.backgroundColor:(N.cursor="default",N.color="#999999",N.backgroundColor="#F9FAFB",N.borderColor="#D9D9D9");var I=l["default"].createElement("a",{className:"fbc_sendMsgAuth",style:N,onClick:this.handleGetPhoneVerificationCode},t?y.lang.cMobileHasSendCode({timer:a}):y.lang.cMobileGetCode),T=null;s&&s.verificationToken&&!s.verificationMobileToken&&(T=l["default"].createElement("p",{className:"fbc_noQuotaTips"},y.lang.cMobileNoQuotaTips),I=l["default"].createElement("a",{className:"fbc_sendMsgAuth",style:N},l["default"].createElement("i",{className:"iconfont"},String.fromCharCode(59173)),y.lang.cMobileCodeSucceed));var M=null;if(s&&s.verificationToken&&s.verificationMobileToken){var x=c&&(c.indexOf("errMobileVCRequired")>-1||c.indexOf("errMobileVCError")>-1),D=(0,m.getWidth)(y.lang.cMobileCodeInput+"*",(C.fontSize||14)+"px/1 "+u._FONT)+30;M=l["default"].createElement("div",{className:"fbc_authInput"},l["default"].createElement("p",{className:"fbc_aiTitle",style:{width:D,lineHeight:b.lineHeight,fontSize:b.fontSize}},y.lang.cMobileCodeInput,l["default"].createElement("span",{className:"fbc_required"},"*")),l["default"].createElement(_["default"],{component:"input",type:"text",className:(0,o["default"])("fbc_input",{error:x}),style:d["default"].assign({},b,{paddingLeft:D+6}),value:s.verificationCode||"",disabled:!!this.validVerificationCode&&"disabled",onChange:this.handleVerificationCodeChange}),l["default"].createElement("span",{className:(0,o["default"])("iconfont fbc_aiStatus",{isLoading:this.validVerificationCode,isTrue:n===!0,isFalse:n===!1}),style:{lineHeight:b.height-2+"px"}},null===n?"":n?String.fromCharCode(58988):String.fromCharCode(58938)))}var P=c&&(c.indexOf("mobileRequired")>-1||c.indexOf("errMobileExtResourceUnavailable")>-1||c.indexOf("errMobileAreaUnavailable")>-1||c.indexOf("required")>-1),O=10*(h?10:r.cpWidth||8),L={},F={};return h||2!==+r.cpLayout||(L={"float":"left",paddingTop:6,width:((p.bodyStyle||{}).cpTitleWidth||20)+"%"},F={"float":"left",width:100-((p.bodyStyle||{}).cpTitleWidth||20)+"%"},g&&g>1&&(L.width="auto",L.maxWidth=105-O+"%",F.width=O-5+"%",O=100)),l["default"].createElement("div",{className:"fb_component contactMobile",id:r.id,style:f},l["default"].createElement("div",{className:"fb_componentText",style:L},this.renderTitle(r),this.renderSubtitle(r),this.renderError(c)),l["default"].createElement("div",{className:"fb_componentBody",style:F},l["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:O+"%"}},l["default"].createElement("div",{className:"fbc_imItem isSendMsgAuth",style:{marginRight:w?w+7:null}},l["default"].createElement(_["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:P}),type:h?"tel":"text",spellCheck:!1,autoComplete:"off",icon:String.fromCharCode(59074),themeColor:p.themeColor,style:S,iconStyle:E,disabled:!!t&&"disabled",onChange:this.handleMobileChange,placeholder:r.placeholder||"",value:s?s.mobile||"":""}),I),T,M)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(38),o=n(r),s=a(9),d=a(14),u=n(d),c=a(55),f=n(c),h=a(42),p=n(h),m=a(52),g=n(m),v=a(57),y=a(46),b=n(y),C=u["default"].createClass({displayName:"MultiItem",mixins:[b["default"],f["default"]],handleChange:function(e){p["default"].dispatch({type:"setMultiValue",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleBlur:function(e){p["default"].dispatch({type:"inputMultiBlur",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleAdd:function(){p["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},handleRemove:function(){p["default"].dispatch({type:"inputMultiRemove",id:this.props.data.id,idx:this.props.idx})},render:function(){var e=this.props,t=e.isMobile,a=e.length,n=e.idx,i=e.fill,l=e.data,r=e.inputStyle,d=e.themeColor,c=e.inputWithIconStyle,f=e.inputIconStyle,h=e.componentStyle,p=e.inputType,m=e.valid,y=e.mode,b=e.ariaLabelledBy,C=null;if(l.isAcceptMulti){var S=null,_=null;t||n!==a-1||(_=u["default"].createElement("a",{className:"iconfont fbc_addIcon",title:s.lang.cMultiInputInsert,style:r,onClick:this.handleAdd},String.fromCharCode(58979))),1!==a&&(S=u["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:s.lang.cMultiInputRemove,style:r,onClick:this.handleRemove},String.fromCharCode(58980))),C=u["default"].createElement("div",{className:"fbc_imOperate"},S,_)}return u["default"].createElement("div",{className:(0,o["default"])("fbc_imItem",{"is-multi":l.isAcceptMulti}),style:h},u["default"].createElement(g["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:m}),type:t&&1===y?s.INPUT_TYPING_TYPE[p]||"text":"text",spellCheck:!1,autoComplete:"off",tabIndex:1,"aria-labelledby":b,icon:v.FIELD_INFO_MAPPING[p].icon,themeColor:d,style:c,iconStyle:f,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:l.placeholder||"",value:i||""}),C)}});t["default"]=u["default"].createClass({displayName:"Component(InputMulti)",mixins:[b["default"],f["default"]],render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,o=e.type,d=e.style,c=e.mode,f=e.itemNum,h=this.formStyle(),p=h.inputStyle,m=h.inputWithIconStyle,g=h.inputIconStyle,v=(a||[""]).length,y=[];y=n&&n.length>0?["err"+t.id,"title"+t.id,"subtitle"+t.id,"hint"+t.id,"placehoder"+t.id]:["title"+t.id,"subtitle"+t.id,"hint"+t.id,"placehoder"+t.id];var b=l["default"].map(a||[""],function(e,a){var i=!1;return n&&n.indexOf("required")>-1&&(i=!e),u["default"].createElement(C,{key:"im"+a,isMobile:r,valid:i,length:v,idx:a,mode:c,fill:e,data:t,inputType:o,themeColor:d.themeColor,inputStyle:p,ariaLabelledBy:y.join(" "),inputWithIconStyle:m,inputIconStyle:g})}),S=10*(r?10:t.cpWidth||8),_={},E={};return r||2!==+t.cpLayout||(_={"float":"left",paddingTop:6,width:((d.bodyStyle||{}).cpTitleWidth||20)+"%"},E={"float":"left",width:100-((d.bodyStyle||{}).cpTitleWidth||20)+"%"},f&&f>1&&(_.width="auto",_.maxWidth=105-S+"%",E.width=S-5+"%",S=100)),u["default"].createElement("div",{className:"fb_component inputMulti",id:t.id,style:i},u["default"].createElement("div",{className:"fb_componentText",style:_},this.renderTitle(t,r&&t.isAcceptMulti&&(!t.subtitle||0===t.subtitle.length)),this.renderSubtitle(t,r&&t.isAcceptMulti),this.renderError(n)),u["default"].createElement("div",{className:"fb_componentBody",style:E},u["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:S+"%"}},u["default"].createElement("span",{className:"aria-placeholder",id:"placehoder"+t.id,"aria-label":(t.placeholder||"")+"."}),t.isAcceptMulti?u["default"].createElement("span",{className:"aria-placeholder",id:"hint"+t.id,"aria-label":s.lang.ariaAcceptMultiItem+"."}):null,b)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(55),d=n(s),u=a(8),c=n(u),f=a(33),h=a(30),p=a(52),m=n(p),g=a(29),v=a(9),y=a(42),b=n(y),C=a(46),S=n(C),_=l["default"].createClass({displayName:"MultiWxItem",getInitialState:function(){return{succeedAuth:!1}},componentDidUpdate:function(){var e=this;window.clearTimeout(this.resetTimer),this.state.succeedAuth&&(this.resetTimer=window.setTimeout(function(){e.setState({succeedAuth:!1})},2e3))},componentWillUnmount:function(){window.clearTimeout(this.resetTimer)},handleChange:function(e){b["default"].dispatch({type:"setMultiValue",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleBlur:function(e){b["default"].dispatch({type:"inputMultiBlur",id:this.props.data.id,idx:this.props.idx,value:e.target.value})},handleAdd:function(){b["default"].dispatch({type:"inputMultiAdd",id:this.props.data.id})},handleRemove:function(){b["default"].dispatch({type:"inputMultiRemove",id:this.props.data.id,idx:this.props.idx})},handleGetWxInfo:function(e){var t=this;e.preventDefault(),e.stopPropagation(),b["default"].wxAuth().done(function(e){t.setState({succeedAuth:!0})})},render:function(){var e=this.props,t=e.isMobile,a=e.length,n=e.idx,i=e.fill,r=e.data,s=e.inputStyle,d=e.inputWithIconStyle,u=e.inputIconStyle,p=e.componentStyle,y=e.inputButtonStyle,b=e.themeColor,C=null;if(r.isAcceptMulti){var S=null,_=null;t||n!==a-1||(_=l["default"].createElement("a",{className:"iconfont fbc_addIcon",title:v.lang.cMultiInputInsert,style:s,onClick:this.handleAdd},String.fromCharCode(58979))),1!==a&&(S=l["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:v.lang.cMultiInputRemove,style:s,onClick:this.handleRemove},String.fromCharCode(58980))),C=l["default"].createElement("div",{className:"fbc_imOperate"},S,_)}var E=null,w=0;if(0===n&&!(0,f.inIframe)()){var N=(0,h.isAuthorizedWx)()?v.lang.cRefreshWxAuth:v.lang.cWxAuth;w=(0,g.getWidth)(N,y.fontSize+"px/1 "+h._FONT)+30;var k=c["default"].assign(y,{width:w});E=l["default"].createElement("a",{className:"fbc_sendMsgAuth",style:k,onClick:this.handleGetWxInfo},this.state.succeedAuth?l["default"].createElement("i",{className:"iconfont"},String.fromCharCode(58988)):N)}return l["default"].createElement("div",{className:(0,o["default"])({fbc_imItem:!0,hasAuthBtn:E,"is-multi":r.isAcceptMulti}),style:c["default"].assign({},p,{marginRight:w?w+5:null})},l["default"].createElement(m["default"],{component:"input",className:"fbc_input",type:"text",spellCheck:!1,icon:String.fromCharCode(59094),themeColor:b,style:d,iconStyle:u,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:r.placeholder||"",value:i||""}),E,C)}});t["default"]=l["default"].createClass({displayName:"Component(WxMulti)",mixins:[S["default"],d["default"]],render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,o=e.style,s=this.formStyle(),d=s.inputStyle,u=s.inputWithIconStyle,c=s.inputIconStyle,f=s.inputBtnStyle,h=(a||[""]).map(function(e,n){return l["default"].createElement(_,{key:"im"+n,isMobile:r,length:(a||[""]).length,idx:n,fill:e,data:t,themeColor:o.themeColor,inputStyle:d,inputWithIconStyle:u,inputIconStyle:c,inputButtonStyle:f})}),p=r?10:t.cpWidth||8;return l["default"].createElement("div",{className:"fb_component inputMulti",id:t.id,style:i},this.renderTitle(t,!(!r||!t.isAcceptMulti||t.subtitle&&0!==t.subtitle.length)),this.renderSubtitle(t,!(!r||!t.isAcceptMulti)),this.renderError(n),l["default"].createElement("div",{className:"fbc_content fbc_widthCp",style:{width:10*p+"%"}},h))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(30),h=a(42),p=n(h),m=a(9),g=a(61),v=n(g),y=a(52),b=n(y),C=a(46),S=n(C),_=[{id:36,value:m.lang.cWechat},{id:35,value:m.lang.cQQ},{id:41,value:m.lang.cSkype},{id:38,value:m.lang.cWhatsApp},{id:39,value:m.lang.cMessenger},{id:42,value:m.lang.cViber},{id:37,value:m.lang.cLine},{id:40,value:m.lang.cTelegram},{id:49,value:m.lang.cWeibo},{id:47,value:m.lang.cLinkedIn},{id:48,value:m.lang.cTwitter},{id:44,value:m.lang.cFacebook},{id:46,value:m.lang.cInstagram},{id:45,value:m.lang.cGooglePlus}];t["default"]=l["default"].createClass({displayName:"Component(IMSNSGroup)",mixins:[S["default"],c["default"]],getInitialState:function(){this.props.data.infoTypes||[];return null},handleMouseDownType:function(e,t,a){f.isIE8&&(a.preventDefault(),a.stopPropagation(),this.handleChangeType(e,t,a))},handleChangeType:function(e,t){p["default"].dispatch({type:"setGroupType",id:this.props.data.id,value:t,index:e})},handleDropChangeType:function(e,t){var a=+t.target.value;p["default"].dispatch({type:"setGroupType",id:this.props.data.id,value:a,index:e})},handleChangeContent:function(e,t,a){p["default"].dispatch({type:"setGroupInfo",id:this.props.data.id,index:e,value:a.target.value,contentType:t})},handleBlur:function(e){},handleAdd:function(){p["default"].dispatch({type:"addContactInfoGroup",id:this.props.data.id})},handleRemove:function(e){p["default"].dispatch({type:"removeContactInfoGroup",id:this.props.data.id,index:e})},renderOptions:function(e,t){for(var a=this.props,n=a.isMobile,i=a.data,r=i.infoTypes||[],s=[],u=0,c=r.length;u<c;u++){var f=d["default"].find(_,{id:r[u]});f&&(n?s.push(l["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+f.id,value:f.id},f.value)):s.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:e===f.id}),key:"infoType"+f.id,onMouseDown:this.handleMouseDownType.bind(this,t,f.id),onClick:this.handleChangeType.bind(this,t,f.id)},f.value)))}return s},renderItem:function(e,t,a){var n=this.props,i=n.isMobile,r=n.data,s=this.formStyle(),u=s.inputStyle,c=s.selectStyle,f=s.selectPlaceholderStyle,h=s.selectArrowStyle,p=r.infoTypes;if(!p||d["default"].isEmpty(p))return null;var g=+(e.type||p[0]),y=e.info||"",C=(d["default"].find(_,{id:g})||{}).value,S=[],E=null,w=null;if(!("isAcceptMulti"in r)||r.isAcceptMulti){E=(u.fontSize+4)*(i?1:2)+2;var N=null,k=null;i||t!==a.len-1||(k=l["default"].createElement("a",{className:"iconfont fbc_addIcon",title:m.lang.cMultiInputInsert,style:u,onClick:this.handleAdd},String.fromCharCode(58979))),1!==a.len&&(N=l["default"].createElement("a",{className:"iconfont fbc_removeIcon",title:m.lang.cMultiInputRemove,style:u,onClick:this.handleRemove.bind(this,t)},String.fromCharCode(58980))),w=l["default"].createElement("div",{className:"fbc_imOperate"},N,k)}if(1===p.length)S.push(l["default"].createElement(b["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:a.valid}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"contentInput",placeholder:C,value:y,style:d["default"].assign({},u,{paddingRight:E?E:5}),onChange:this.handleChangeContent.bind(this,t,g)}));else{var I=null;I=i?l["default"].createElement("div",{className:(0,o["default"])("fbc_select","combineItem",{hasValue:C}),ref:"dropdown",key:"typeSelect"},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:u.height+"px"}},String.fromCharCode(58983)),l["default"].createElement("select",{className:(0,o["default"])("fbc_innerSelect"),value:g,style:u,onChange:this.handleDropChangeType.bind(this,t)},this.renderOptions(g,t))):l["default"].createElement(v["default"],{className:(0,o["default"])("fbc_select","combineItem",{hasValue:C}),display:C,ref:"dropdown",key:"typeSelect",selectArrowStyle:h,style:C?c:f},this.renderOptions(g,t)),S=S.concat([I,l["default"].createElement(b["default"],{component:"input",className:(0,o["default"])("fbc_input combineItem",{error:a.valid}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"contentInput",style:d["default"].assign({},u,{paddingRight:E?E:5}),onChange:this.handleChangeContent.bind(this,t,g),value:y})])}return l["default"].createElement("div",{className:(0,o["default"])({fbc_imItem:!0,"is-multi":r.isAcceptMulti}),key:"infoGroup"+t},S,l["default"].createElement("div",{className:"clearB"}),w)},render:function(){var e=this,t=this.props,a=t.data,n=t.fill,i=t.valid,r=t.componentStyle,s=t.isMobile,u=t.style,c=t.itemNum,f=[],h=(n||[{}]).length;d["default"].forEach(n||[{}],function(t,a){var n={len:h};i&&i.indexOf("required")>-1&&(n.valid=!t.info),f.push(e.renderItem(t,a,n))});var p=10*(s?10:a.cpWidth||8),m={},g={};return s||2!==+a.cpLayout||(m={"float":"left",paddingTop:6,width:((u.bodyStyle||{}).cpTitleWidth||20)+"%"},g={"float":"left",width:100-((u.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(m.width="auto",m.maxWidth=105-p+"%",g.width=p-5+"%",p=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component",a.type),id:a.id,style:r},l["default"].createElement("div",{className:"fb_componentText",style:m},this.renderTitle(a,!(!s||!a.isAcceptMulti||a.subtitle&&0!==a.subtitle.length)),this.renderSubtitle(a,!(!s||!a.isAcceptMulti)),this.renderError(i)),l["default"].createElement("div",{className:"fb_componentBody",style:g},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp",{fbc_combineComponent:a.infoTypes.length>1}),style:{width:p+"%"}},f)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(9),m=a(29),g=a(61),v=n(g),y=a(52),b=n(y),C=a(30),S=a(46),_=n(S);t["default"]=l["default"].createClass({displayName:"Component(Input)",mixins:[_["default"],c["default"]],handleChangeSymbol:function(e){h["default"].dispatch({type:"setCurrencySymbol",id:this.props.data.id,value:e})},handleMouseDownSymbol:function(e,t){C.isIE8&&(t.preventDefault(),t.stopPropagation(),this.handleChangeSymbol(e,t))},handleDropChangeSymbol:function(e){var t=+e.target.value;h["default"].dispatch({type:"setCurrencySymbol",id:this.props.data.id,value:t})},handleChangeContent:function(e){h["default"].dispatch({type:"setCurrencyVal",id:this.props.data.id,value:e.target.value})},handleBlurContent:function(e){h["default"].dispatch({type:"blurCurrencyVal",id:this.props.data.id,value:e.target.value})},renderOptions:function(e){var t=this,a=this.props.isMobile,n=[];return d["default"].forEach(p.lang.cCurrencySymbolArray,function(i,r){a?n.push(l["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+r,value:r+1},i)):n.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:e===r+1}),key:"infoType"+r,onMouseDown:t.handleMouseDownSymbol.bind(t,r+1),onClick:t.handleChangeSymbol.bind(t,r+1)},i))}),n},render:function(){var e=this.props,t=e.fw,a=e.data,n=e.fill,i=e.valid,r=e.componentStyle,s=e.isMobile,u=e.style,c=e.itemNum,f=this.formStyle(),h=f.inputStyle,g=f.inputUnitStyle,y=f.selectStyle,S=f.selectPlaceholderStyle,_=f.selectArrowStyle,E=10*(s?10:a.cpWidth||8),w={},N={};
s||2!==+a.cpLayout||(w={"float":"left",paddingTop:6,width:((u.bodyStyle||{}).cpTitleWidth||20)+"%"},N={"float":"left",width:100-((u.bodyStyle||{}).cpTitleWidth||20)+"%"},c&&c>1&&(w.width="auto",w.maxWidth=105-E+"%",N.width=E-5+"%",E=100));var k=n?n[0]||a.cfDefaultSymbol:a.cfDefaultSymbol,I=(n?n[1]:null)||"",T=p.lang.cCurrencySymbolArray[k-1];k=k?+k:0;var M=null;M=s?l["default"].createElement("div",{className:(0,o["default"])("fbc_select fbc_cfCurrencySymbol",{hasValue:T}),ref:"dropdown",key:"symbol"},l["default"].createElement("i",{className:"iconfont fbc_selectArrow",style:{lineHeight:h.height+"px"}},String.fromCharCode(58983)),l["default"].createElement("select",{className:(0,o["default"])("fbc_innerSelect"),value:k,style:h,onChange:this.handleDropChangeSymbol},this.renderOptions(k))):l["default"].createElement(v["default"],{className:(0,o["default"])("fbc_select vpType",{hasValue:T}),display:T,ref:"dropdown",key:"symbol",selectArrowStyle:_,style:d["default"].assign({},T?y:S)},this.renderOptions(k));var x=null;return a.unit&&(x=Math.ceil(Math.min((0,m.getWidth)(a.unit,g.fontSize+"px/1 "+C._FONT),((t/(c||1)-60)*(E/10)-(s?10:25))/50))),l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_cfCurrency",a.type),id:a.id,style:r},l["default"].createElement("div",{className:"fb_componentText",style:w},this.renderTitle(a),this.renderSubtitle(a),this.renderError(i)),l["default"].createElement("div",{className:"fb_componentBody",style:N},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp"),style:{width:E+"%",height:h.height}},M,l["default"].createElement("div",{className:"fbc_cfCurrencyVal"},l["default"].createElement(b["default"],{component:"input",className:(0,o["default"])("fbc_input",{error:i&&i.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",style:d["default"].assign({},h,{paddingRight:x?x+8:null}),key:"value",onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:I})),a.unit?l["default"].createElement("span",{className:(0,o["default"])("fbc_unit"),style:g},a.unit):null)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(55),d=n(s),u=a(42),c=n(u),f=a(52),h=n(f),p=a(46),m=n(p);t["default"]=l["default"].createClass({displayName:"Component(Input)",mixins:[m["default"],d["default"]],handleChange:function(e){c["default"].dispatch({type:"setValue",id:this.props.data.id,value:e.target.value})},handleBlur:function(e){c["default"].dispatch({type:"inputBlur",id:this.props.data.id,value:e.target.value})},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.style,d=e.itemNum,u=10*(r?10:t.cpWidth||8),c={},f={};return r||2!==+t.cpLayout||(c={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},f={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},d&&d>1&&(c.width="auto",c.maxWidth=105-u+"%",f.width=u-5+"%",u=100)),l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_cfCnId",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:c},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:f},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp")},l["default"].createElement(h["default"],{component:"input",style:{},className:(0,o["default"])("fbc_input",{error:n&&n.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",themeColor:s.themeColor,onChange:this.handleChange,onBlur:this.handleBlur,value:a||""}))))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(8),d=n(s),u=a(55),c=n(u),f=a(42),h=n(f),p=a(61),m=n(p),g=a(52),v=n(g),y=a(30),b=a(46),C=n(b);t["default"]=l["default"].createClass({displayName:"Component(Input)",mixins:[C["default"],c["default"]],handleChangeType:function(e){h["default"].dispatch({type:"setVehicleType",id:this.props.data.id,value:e})},handleMouseDownType:function(e,t){y.isIE8&&(t.preventDefault(),t.stopPropagation(),this.handleChangeType(e,t))},handleDropChangeType:function(e){var t=+e.target.value;h["default"].dispatch({type:"setVehicleType",id:this.props.data.id,value:t})},handleChangeContent:function(e){h["default"].dispatch({type:"setVehicleVal",id:this.props.data.id,value:e.target.value})},handleBlurContent:function(e){h["default"].dispatch({type:"blurVehicleVal",id:this.props.data.id,value:e.target.value})},renderOptions:function(e){var t=this,a=this.props.isMobile,n=[];return d["default"].forEach(y.FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,function(i){a?n.push(l["default"].createElement("option",{className:"fbc_selectLi",key:"infoType"+i.id,value:i.id},i.title)):n.push(l["default"].createElement("li",{className:(0,o["default"])("fbc_selectLi",{fbc_currentSelected:e===i.id}),key:"infoType"+i.id,onMouseDown:t.handleMouseDownType.bind(t,i.id),onClick:t.handleChangeType.bind(t,i.id)},i.title))}),n},render:function(){var e=this.props,t=e.data,a=e.fill,n=e.valid,i=e.componentStyle,r=e.isMobile,s=e.style,u=e.itemNum,c=10*(r?10:t.cpWidth||8),f={},h={};r||2!==+t.cpLayout||(f={"float":"left",paddingTop:6,width:((s.bodyStyle||{}).cpTitleWidth||20)+"%"},h={"float":"left",width:100-((s.bodyStyle||{}).cpTitleWidth||20)+"%"},u&&u>1&&(f.width="auto",f.maxWidth=105-c+"%",h.width=c-5+"%",c=100));var p=+((a||{}).vpType||t.defaultVpLocation||1),g=(a||{}).vpVal||"",b=(d["default"].find(y.FORM_SETTINGS_CF_VEHICLE_TYPE_SELECT,{id:p})||{}).title,C=null;C=r?l["default"].createElement("div",{className:(0,o["default"])("fbc_mlItem fbc_select vpType",{hasValue:b}),ref:"dropdown",key:"vpType"},l["default"].createElement("i",{className:"iconfont fbc_selectArrow"},String.fromCharCode(58983)),l["default"].createElement("select",{className:(0,o["default"])("fbc_innerSelect"),value:p,onChange:this.handleDropChangeType},this.renderOptions(p))):l["default"].createElement(m["default"],{className:(0,o["default"])("fbc_mlItem fbc_select vpType",{hasValue:b}),display:b,ref:"dropdown",key:"vpType"},this.renderOptions(p));var S=6;"F"!==g.charAt(1).toUpperCase()&&"D"!==g.charAt(1).toUpperCase()&&(7!==g.length||"F"!==g.charAt(6).toUpperCase()&&"D"!==g.charAt(6).toUpperCase())||(S=7);var _=[C,l["default"].createElement(v["default"],{component:"input",className:(0,o["default"])("fbc_mlItem fbc_input vpNo vpExt","length"+S,{error:n&&n.length>0}),ref:"input",type:"text",spellCheck:!1,autoComplete:"off",key:"vpNo",style:{},onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:g}),l["default"].createElement("div",{key:"clear",className:"clearB"})];if(2===t.componentType){var E=d["default"].trim(g).match(/^WJ['京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新']/);g&&g.match(/^[京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新]/)&&("F"===g.charAt(2).toUpperCase()||"D"===g.charAt(2).toUpperCase()||8===g.length&&("F"===g.charAt(7).toUpperCase()||"D"===g.charAt(7).toUpperCase()))&&(E=!0),_=l["default"].createElement(v["default"],{key:"vpNo",component:"input",className:(0,o["default"])("fbc_input vpNo",{length7:!E,length8:E,error:n&&n.length>0}),style:{},ref:"input",type:"text",spellCheck:!1,autoComplete:"off",themeColor:s.themeColor,onChange:this.handleChangeContent,onBlur:this.handleBlurContent,value:g||""})}return l["default"].createElement("div",{className:(0,o["default"])("fb_component","fb_cfCnVehiclePlate",t.type),id:t.id,style:i},l["default"].createElement("div",{className:"fb_componentText",style:f},this.renderTitle(t),this.renderSubtitle(t),this.renderError(n)),l["default"].createElement("div",{className:"fb_componentBody",style:h},l["default"].createElement("div",{className:(0,o["default"])("fbc_content","fbc_widthCp")},_)))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){w=e.isMobile,k=e.getCurrentWidth,I=e.getMode}function l(e,t){N=t;var a=0!==m["default"].getSettings().isShowShare?100:20;E=w()?0:a,h["default"].render(c["default"].createElement(T,null),e[0])}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),o=n(r),s=a(38),d=n(s),u=a(14),c=n(u),f=a(23),h=n(f),p=a(30),m=n(p),g=a(40),v=n(g),y=a(42),b=n(y),C=a(9),S=a(46),_=n(S),E=20,w=void 0,N=!1,k=void 0,I=void 0,T=c["default"].createClass({displayName:"Copyright",mixins:[_["default"]],getInitialState:function(){var e=Math.min(k()-E,m["default"].getFormWidth());return o["default"].assign({formWidth:e,updateCounter:0},b["default"].getState())},componentDidMount:function(){this.unsubscribe=b["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(e){if("$$resize"===e.type){var t=Math.min(k()-E,m["default"].getFormWidth()),a={updateCounter:(this.state.updateCounter+1)%100};t!==this.state.formWidth&&(a.formWidth=t),this.setState(a)}},render:function(){var e=this.state.formWidth,t=m["default"].getTail()||{},a=m["default"].getOrgName(),n=v["default"].getExt("nologo"),i=v["default"].getExt("copyrightLogo"),l=C.lang.gPoweredBy;2===t.copyrightType&&a&&(l=C.lang.gPoweredByWithCompanyFunc({company:a||""}));var r=c["default"].createElement("a",{className:"poweredBy",target:"_blank",href:"http://www.mikecrm.com/indexForm.php?ref=form"},c["default"].createElement("span",{className:(0,d["default"])("poweredBy_logo",{poweredBy_light:N})}),c["default"].createElement("span",{className:"poweredBy_title",style:{maxWidth:e-100,color:N?"#fff":null}},l)),o=null;if(i&&3===t.copyrightType){var s={};w()||(s={width:e}),o=c["default"].createElement("div",{className:"pb_hasSelfLogo",style:s},c["default"].createElement("div",{key:"company",className:"pb_companyInfo"},t.companyLogo?c["default"].createElement("a",{className:"pb_companyLogoWrapper",target:"_blank",href:t.companyLink},c["default"].createElement("img",{className:"pb_companyLogo",src:t.companyLogo})):null,t.companyName?c["default"].createElement("p",{className:"pb_companyName"},c["default"].createElement("a",{className:"pb_caLink",target:"_blank",href:t.companyLink,style:{color:N?"#fff":null}},t.companyName||"")):null),n?null:w()?r:c["default"].createElement("a",{key:"mike",className:"pb_mikeLogo",target:"_blank",href:"http://www.mikecrm.com/indexForm.php?ref=form"}))}else n||(o=r);return c["default"].createElement("div",{className:(0,d["default"])("c_main",{"is-noLogo":n})},o)}});t["default"]={inject:i,render:l},e.exports=t["default"]},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){var e=+window._VT;return isNaN(e)?1:e<0||e>5?1:e||1}function l(e){return R=e,L=(0,v["default"])(window),I=(0,v["default"])(".main"),T=I.find(".body"),M=I.find(".submitWrapper"),x=(0,v["default"])(".copyright"),D=(0,v["default"])("body"),P=(0,v["default"])(".wrapper"),O=(0,v["default"])("html, body, .handleForm"),F=(0,v["default"])(".handleForm"),{$form:I,$body:T,$submit:M,$copyright:x,$wrapper:D,$container:P,$scrollContainer:O,$submitForm:F,$window:L}}function r(){return{raw:W,vst:B,JHR:U,token:H,OQ:V}}function o(){var e=window.SOUL&&window.SOUL._m?window.SOUL._m.T:null;W=window.SOUL,B=window.VST,U=window.JHR,H=window._T||e,V=window.OQ}function s(){return b["default"].deviceCheck.isMobile}function d(){return b["default"].getWindowSize().width}function u(e){return w["default"].isUrl(e)?e:"cn"===window._SLD&&"./images/form/wechat_default.jpg"===e?location.protocol+k["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/wechat_default.jpg":null!=window._LFP&&!window._CDN&&window._LFP<.5?location.protocol+"//pcdn.mikecrm.com/"+e.replace(/^(\.)?\//g,""):location.protocol+"//"+location.host+"/"+e.replace(/^(\.)?\//g,"")}function c(){var e=b["default"].parseURL(location.href);if(e.params&&e.params.WCT){var t=e.params.WCT,a=new Date;a.setTime(a.getTime()+3456e7);var n="expires="+a.toGMTString();document.cookie="WCT="+t+"; path=/; "+n+"; domain="+location.host.replace(/^(cn|hk|sv|va|sg|jp)\./,"")+";",document.cookie="WCT="+t+"; path=/; "+n+"; domain="+location.host+";"}if(!window.IN_WECHAT||!window.WC_JSAPI_PARAMS)return!1;var i=["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","openLocation","getLocation","showOptionMenu","scanQRCode"],l={debug:!1,appId:WC_JSAPI_PARAMS.appId,timestamp:WC_JSAPI_PARAMS.timestamp,nonceStr:WC_JSAPI_PARAMS.nonceStr,signature:WC_JSAPI_PARAMS.signature,jsApiList:i};S["default"].config(l);var r=R.getSettings(),o=r.weChatTitle,s=r.weChatImage,d=r.weChatDescribe,c=R.getHeader(),f=c.headline,h=c.description;f=(f||[""]).join(""),h=(h||[""]).join("");var p={title:void 0===o?f||_.lang.gWeChatSetHeadlineDefault:o||"",desc:void 0===d?h:d||"",link:location.origin+"/"+R.token(),imgUrl:u(s||"./images/form/wechat_default.jpg")};S["default"].ready(function(){S["default"].checkJsApi({jsApiList:i,success:function(e){"checkJsApi:ok"===e.errMsg&&(S["default"].onMenuShareTimeline(p),S["default"].onMenuShareAppMessage(p),S["default"].onMenuShareQQ(p),S["default"].onMenuShareWeibo(p),S["default"].showOptionMenu())}})})}function f(e){b["default"].inIframe()&&window.addEventListener&&window.addEventListener("message",function(t){if(t.data){var a={};try{a=JSON.parse(t.data)}catch(n){}a.cif&&(j={},j.opacityBg=a.atp,j.topFrameLocationHref=a.tl,R.setInjectState(a.cif),D.addClass("inframe"),R.postMessage({height:P.outerHeight(!0)+30}),e&&e(t,a))}})}function h(){return j||{}}function p(){}Object.defineProperty(t,"__esModule",{value:!0});var m=a(8),g=(n(m),a(22)),v=n(g),y=a(33),b=n(y),C=a(135),S=n(C),_=a(9),E=a(29),w=n(E),N=a(6),k=n(N),I=void 0,T=void 0,M=void 0,x=void 0,D=void 0,P=void 0,O=void 0,L=void 0,F=void 0,R=null,A=window.SOUL&&window.SOUL._m?window.SOUL._m.T:null,W=window.SOUL,B=window.VST,U=window.JHR,H=window._T||A,V=window.OQ,j={};t["default"]={isMobile:s,setPageMode:i,setRawInfo:r,updateRawInfo:o,contentBinder:l,setWechat:c,getStaticPath:u,setMessageIframe:f,getPostSettings:h,getCurrentWidth:d,eventBind:p},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=a(27),r=n(l);!function(t,a){r["default"].browserCheck.msie&&parseInt(r["default"].browserCheck.version)<=11||document.documentMode&&document.documentMode<9?e.exports={}:e.exports=a(t,!0)}(window,function(e,t){function a(t,a,n){e.WeixinJSBridge?WeixinJSBridge.invoke(t,l(a),function(e){s(t,e,n)}):c(t,n)}function n(t,a,n){e.WeixinJSBridge?WeixinJSBridge.on(t,function(e){n&&n.trigger&&n.trigger(e),s(t,e,a)}):n?c(t,n):c(t,a)}function l(e){return e=e||{},e.appId=D.appId,e.verifyAppId=D.appId,e.verifySignType="sha1",e.verifyTimestamp=D.timestamp+"",e.verifyNonceStr=D.nonceStr,e.verifySignature=D.signature,e}function r(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,"package":e["package"],paySign:e.paySign,signType:e.signType||"SHA1"}}function o(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}function s(e,t,a){"openEnterpriseChat"==e&&(t.errCode=t.err_code),delete t.err_code,delete t.err_desc,delete t.err_detail;var n=t.errMsg;n||(n=t.err_msg,delete t.err_msg,n=d(e,n),t.errMsg=n),a=a||{},a._complete&&(a._complete(t),delete a._complete),n=t.errMsg||"",D.debug&&!a.isInnerInvoke&&alert(JSON.stringify(t));var i=n.indexOf(":"),l=n.substring(i+1);switch(l){case"ok":a.success&&a.success(t);break;case"cancel":a.cancel&&a.cancel(t);break;default:a.fail&&a.fail(t)}a.complete&&a.complete(t)}function d(e,t){var a=e,n=y[a];n&&(a=n);var i="ok";if(t){var l=t.indexOf(":");i=t.substring(l+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==a&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")}return t=a+":"+i}function u(e){if(e){for(var t=0,a=e.length;a>t;++t){var n=e[t],i=v[n];i&&(e[t]=i)}return e}}function c(e,t){if(!(!D.debug||t&&t.isInnerInvoke)){var a=y[e];a&&(e=a),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function f(e){if(!(E||w||D.debug||"6.0.2">T||x.systemType<0)){var t=new Image;x.appId=D.appId,x.initTime=M.initEndTime-M.initStartTime,x.preVerifyTime=M.preVerifyEndTime-M.preVerifyStartTime,R.getNetworkType({isInnerInvoke:!0,success:function(e){x.networkType=e.networkType;var a="https://open.weixin.qq.com/sdk/report?v="+x.version+"&o="+x.isPreVerifyOk+"&s="+x.systemType+"&c="+x.clientVersion+"&a="+x.appId+"&n="+x.networkType+"&i="+x.initTime+"&p="+x.preVerifyTime+"&u="+x.url;t.src=a}})}}function h(){return(new Date).getTime()}function p(t){N&&(e.WeixinJSBridge?t():b.addEventListener&&b.addEventListener("WeixinJSBridgeReady",t,!1))}function m(){R.invoke||(R.invoke=function(t,a,n){e.WeixinJSBridge&&WeixinJSBridge.invoke(t,l(a),n)},R.on=function(t,a){e.WeixinJSBridge&&WeixinJSBridge.on(t,a)})}if(!e.jWeixin){var g,v={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},y=function(){var e={};for(var t in v)e[v[t]]=t;return e}(),b=e.document,C=b.title,S=navigator.userAgent.toLowerCase(),_=navigator.platform.toLowerCase(),E=!(!_.match("mac")&&!_.match("win")),w=-1!=S.indexOf("wxdebugger"),N=-1!=S.indexOf("micromessenger"),k=-1!=S.indexOf("android"),I=-1!=S.indexOf("iphone")||-1!=S.indexOf("ipad"),T=function(){var e=S.match(/micromessenger\/(\d+\.\d+\.\d+)/)||S.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),M={initStartTime:h(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},x={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:I?1:k?2:-1,clientVersion:T,url:encodeURIComponent(location.href)},D={},P={_completes:[]},O={state:0,data:{}};p(function(){M.initEndTime=h()});var L=!1,F=[],R=(g={config:function(e){D=e,c("config",e);var t=D.check!==!1;p(function(){if(t)a(v.config,{verifyJsApiList:u(D.jsApiList)},function(){P._complete=function(e){M.preVerifyEndTime=h(),O.state=1,O.data=e},P.success=function(e){x.isPreVerifyOk=0},P.fail=function(e){P._fail?P._fail(e):O.state=-1};var e=P._completes;return e.push(function(){f()}),P.complete=function(t){for(var a=0,n=e.length;n>a;++a)e[a]();P._completes=[]},P}()),M.preVerifyStartTime=h();else{O.state=1;for(var e=P._completes,n=0,i=e.length;i>n;++n)e[n]();P._completes=[]}}),D.beta&&m()},ready:function(e){0!=O.state?e():(P._completes.push(e),!N&&D.debug&&e())},error:function(e){"6.0.2">T||(-1==O.state?e(O.data):P._fail=e)},checkJsApi:function(e){var t=function n(e){var n=e.checkResult;for(var t in n){var a=y[t];a&&(n[a]=n[t],delete n[t])}return e};a("checkJsApi",{jsApiList:u(e.jsApiList)},function(){return e._complete=function(e){if(k){var a=e.checkResult;a&&(e.checkResult=JSON.parse(a))}e=t(e)},e}())},onMenuShareTimeline:function(e){n(v.onMenuShareTimeline,{complete:function(){a("shareTimeline",{title:e.title||C,desc:e.title||C,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){n(v.onMenuShareAppMessage,{complete:function(){a("sendAppMessage",{title:e.title||C,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){n(v.onMenuShareQQ,{complete:function(){a("shareQQ",{title:e.title||C,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){n(v.onMenuShareWeibo,{complete:function(){a("shareWeiboApp",{title:e.title||C,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){n(v.onMenuShareQZone,{complete:function(){a("shareQZone",{title:e.title||C,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){a("startRecord",{},e)},stopRecord:function(e){a("stopRecord",{},e)},onVoiceRecordEnd:function(e){n("onVoiceRecordEnd",e)},playVoice:function(e){a("playVoice",{localId:e.localId},e)},pauseVoice:function(e){a("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){a("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){n("onVoicePlayEnd",e)},uploadVoice:function(e){a("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){a("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){a("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){a("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(k){var t=e.localIds;t&&(e.localIds=JSON.parse(t))}},e}())},getLocation:function(e){},previewImage:function(e){a(v.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){a("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){a("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){L===!1?(L=!0,a("getLocalImgData",{localId:e.localId},function(){return e._complete=function(e){if(L=!1,F.length>0){var t=F.shift();wx.getLocalImgData(t)}},e}())):F.push(e)},getNetworkType:function(e){var t=function n(e){var n=e.errMsg;e.errMsg="getNetworkType:ok";var t=e.subtype;if(delete e.subtype,t)e.networkType=t;else{var a=n.indexOf(":"),i=n.substring(a+1);switch(i){case"wifi":case"edge":case"wwan":e.networkType=i;break;default:e.errMsg="getNetworkType:fail"}}return e};a("getNetworkType",{},function(){return e._complete=function(e){e=t(e)},e}())},openLocation:function(e){a("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)}},i(g,"getLocation",function(e){e=e||{},a(v.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())}),i(g,"hideOptionMenu",function(e){a("hideOptionMenu",{},e)}),i(g,"showOptionMenu",function(e){a("showOptionMenu",{},e)}),i(g,"closeWindow",function(e){e=e||{},a("closeWindow",{},e)}),i(g,"hideMenuItems",function(e){a("hideMenuItems",{menuList:e.menuList},e)}),i(g,"showMenuItems",function(e){a("showMenuItems",{menuList:e.menuList},e)}),i(g,"hideAllNonBaseMenuItem",function(e){a("hideAllNonBaseMenuItem",{},e)}),i(g,"showAllNonBaseMenuItem",function(e){a("showAllNonBaseMenuItem",{},e)}),i(g,"scanQRCode",function(e){e=e||{},a("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){if(I){var t=e.resultStr;if(t){var a=JSON.parse(t);e.resultStr=a&&a.scan_code&&a.scan_code.scan_result}}},e}())}),i(g,"openAddress",function(e){a(v.openAddress,{},function(){return e._complete=function(e){e=o(e)},e}())}),i(g,"openProductSpecificView",function(e){a(v.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)}),i(g,"addCard",function(e){for(var t=e.cardList,n=[],i=0,l=t.length;l>i;++i){var r=t[i],o={card_id:r.cardId,card_ext:r.cardExt};n.push(o)}a(v.addCard,{card_list:n},function(){return e._complete=function(e){var t=e.card_list;if(t){t=JSON.parse(t);for(var a=0,n=t.length;n>a;++a){var i=t[a];i.cardId=i.card_id,i.cardExt=i.card_ext,i.isSuccess=!!i.is_succ,delete i.card_id,delete i.card_ext,delete i.is_succ}e.cardList=t,delete e.card_list}},e}())}),i(g,"chooseCard",function(e){a("chooseCard",{app_id:D.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())}),i(g,"openCard",function(e){for(var t=e.cardList,n=[],i=0,l=t.length;l>i;++i){var r=t[i],o={card_id:r.cardId,code:r.code};n.push(o)}a(v.openCard,{card_list:n},e)}),i(g,"consumeAndShareCard",function(e){a(v.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)}),i(g,"chooseWXPay",function(e){a(v.chooseWXPay,r(e),e)}),i(g,"openEnterpriseRedPacket",function(e){a(v.openEnterpriseRedPacket,r(e),e)}),i(g,"startSearchBeacons",function(e){a(v.startSearchBeacons,{ticket:e.ticket},e)}),i(g,"stopSearchBeacons",function(e){a(v.stopSearchBeacons,{},e)}),i(g,"onSearchBeacons",function(e){n(v.onSearchBeacons,e)}),i(g,"openEnterpriseChat",function(e){a("openEnterpriseChat",{useridlist:e.userIds,chatname:e.groupName},e)}),g),A=1,W={};return b.addEventListener("error",function(e){if(!k){var t=e.target,a=t.tagName,n=t.src;if("IMG"==a||"VIDEO"==a||"AUDIO"==a||"SOURCE"==a){var i=-1!=n.indexOf("wxlocalresource://");if(i){e.preventDefault(),e.stopPropagation();var l=t["wx-id"];if(l||(l=A++,t["wx-id"]=l),W[l])return;W[l]=!0,wx.ready(function(){wx.getLocalImgData({localId:n,success:function(e){t.src=e.localData}})})}}}},!0),b.addEventListener("load",function(e){if(!k){var t=e.target,a=t.tagName;if(t.src,"IMG"==a||"VIDEO"==a||"AUDIO"==a||"SOURCE"==a){var n=t["wx-id"];n&&(W[n]=!1)}}},!0),t&&(e.wx=e.jWeixin=R),R}})},function(e,t,a){(function($){a(2),a(4),a(5),a(22);var t=a(137),n=a(6);window.rootPath=function(e){return e?e.match(/^http/)||e.match(/^\/\//)||e.match(/^data\:/)?e:(e=e.replace(/^(\.)*\//,""),"cn"===window._SLD&&e.match(/^images\//)&&!e.match(/^images\/formTemplate\//)?location.protocol+n.CDN_PATH_WITHOUT_PROTOCOL+e:"./"+e):null},a(138);var i=a(149)(a(134)),l=i.dmwCheck,r=i.isMobile,o="form/css/form.css";r&&(o="form/css/formMobile.css");var s=!1;t.loadCSS(o+"?v="+(window._VER||""),function(){$(function(){s||(s=!0,i.init())})}),e.exports={isMobile:r,dmwCheck:l,__PRI_MK_GET_DT:i.__PRI_MK_GET_DT}}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return l.body?e():void setTimeout(function(){t(e)})}function a(){r.addEventListener&&r.removeEventListener("load",a),i&&i(),r.media=n||"all"}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",i=arguments[2],l=window.document,r=l.createElement("link"),o=l.getElementsByTagName("head")[0].childNodes,s=o[o.length-1],d=l.styleSheets;r.rel="stylesheet",r.type="text/css",r.href=e,r.media="only x",t(function(){s.parentNode.insertBefore(r,s.nextSibling)});var u=function c(e){for(var t=r.href,a=d.length;a--;)if(d[a].href===t)return e();setTimeout(function(){c(e)})};return r.addEventListener&&r.addEventListener("load",a),r.onloadcssdefined=u,u(a),r}Object.defineProperty(t,"__esModule",{value:!0});var l=a(22),r=n(l);t["default"]={loadCSS:function(e,t){for(var a=[].concat(e),n=0,l=a.length;n<l;n++)i(a[n],"all",t)},loadJS:function(e,t){for(var a=[].concat(e),n=0,i=a.length;n<i;n++)a[n]&&r["default"].getScript(a[n],t)}},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(9),l=n(i),r=a(30),o=n(r),s=a(40),d=n(s),u=a(139),c=n(u),f=a(140),h=n(f),p=a(144),m=n(p),g=a(129),v=n(g),y=a(147),b=n(y),C=a(148),S=n(C),_=a(130),E=n(_),w=a(42),N=n(w);t["default"]={currentLang:l["default"].currentLang,lang:l["default"].lang,changeFormLang:l["default"].changeFormLang,utils:o["default"],formExtends:d["default"],header:c["default"],body:h["default"],submit:m["default"],copyright:v["default"],Succeed:b["default"],ErrorHandler:S["default"],HugeErrorHandler:E["default"],formStore:N["default"]},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(){this._q=[],this.add=function(e,t,a){var n=e;t&&(n=n.done(t)),a&&(n=n.fail(a)),this._q.push(n)},this.allDone=function(){return k["default"].when.apply(k["default"],this._q)},this.clear=function(){this._q=[]}}function l(e){R=null,A={},W=null,O=!0,B=1,U=1,H=e.isMobile,V=e.getCurrentWidth,j=e.getMode}function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_["default"].log("re-calculate ...>",e);var t=m["default"].getHeader(),a=H(),n=t.logoHeight,i=t.logoWidth,l=L/3;i>=l&&(i=Math.round(l),n=Math.ceil(l/t.logoWidth*n)),t.logo&&a&&L-t.logoWidth<160&&(U=(L-160)/t.logoWidth,n=Math.ceil(U*t.logoHeight),i=Math.ceil(U*t.logoWidth));var r=m["default"].getStyle("headerStyle"),o=P.find(".header").css({height:"auto",minHeight:"auto"}),s=P.find(".h_logo"),d=o.find(".h_headline"),u=o.find(".h_description"),c=o.find(".h_TDWrapper"),f=Math.floor((n||0)*U)-(2===t.logoDisplay?x:0),h=Math.floor((i||0)*U)-(2===t.logoDisplay?D/2:0);3===t.logoDisplay&&(f=Math.round(Math.floor((n||0)*U/2)-x/2)),!t.logoBorder||4!==t.logoBorder&&5!==t.logoBorder||(f+=4,h+=4),z.allDone().then(function(){e&&(P.width(L),2===W?c.width(L-h-D-10):3===W&&d.width(L-h-D-10));var n=o.outerHeight(!0)-x,i=c.height()||0,l=d.outerHeight(!0),p=u.height()+(u.length>0?10:0),g=0;switch(R&&(4!==r.bgLayoutHorizontal?g=R.height:(g=Math.floor(R.height/R.width*L),B=a?L/m["default"].getFormWidth()*.85:L/m["default"].getFormWidth())),W){case 2:o.css({"min-height":Math.max(f,i,g-x)}),3!==t.logoDisplay&&(f>i?c.css("margin-top",Math.floor((f-i)/2)):1===t.logoDisplay&&s.css("margin-top",Math.floor((i-f)/2)));break;case 3:o.css({"min-height":Math.max(Math.max(f,l)+p,g-x)}),3!==t.logoDisplay&&(f>l?d.css("margin-top",Math.floor((f-l)/2)):1===t.logoDisplay&&s.css("margin-top",Math.floor((l-f)/2)));break;case 1:default:o.css({"min-height":Math.max(Math.min(n,f+l+p),g-x)})}if(_["default"].log(t),3===t.logoDisplay&&(o.css("margin-top",Math.floor(f+x/2)),s.css("margin-top",-Math.floor(f+x))),2===t.logoDisplay){var v={"margin-top":-x/2},y=t.layoutStr.charAt(2);"L"===y?v["margin-left"]=-D/2:"R"===y&&(v["margin-right"]=-D/2),s.css(v)}if(O&&(_["default"].log("in>>>>"),r&&r.background&&o.css(w["default"].assign({"background-image":"url("+r.background+")","background-position":"center center","background-repeat":"no-repeat"},A)),r&&r.headerContentOffsetY&&o.find(".fb_headerInfo").css({paddingTop:Math.ceil((r.headerContentOffsetY||0)*B)+"px"}),a&&r&&4===r.bgLayoutHorizontal&&o.outerHeight(!0)>g&&4!==r.bgLayoutVertical&&9!==r.bgLayoutVertical)){var b="center";if(t.headline)switch(t.layoutStr.charAt(0)){case"R":b="right";break;case"C":break;case"L":default:b="left"}else if(t.description)switch(t.layoutStr.charAt(1)){case"R":b="right";break;case"C":break;case"L":default:b="left"}o.css({"background-position":"center "+b,"background-size":"auto "+o.outerHeight(!0)+"px"})}_["default"].log("finish set false"),O=!1})}function o(){P.off("$$resize").on("$$resize",function(){L=Math.min(V()-M,m["default"].getFormWidth()),r(!0)})}function s(e,t){return(0,k["default"])(v["default"].renderToStaticMarkup(v["default"].createElement("div",null,T.render(e||"",t||null))))[0].innerHTML}function d(e){var t=!1;return w["default"].isArray(e)?e.join("\n").length>0&&(t=!0):e&&(t=!0),t}function u(e,t){return W=1,_["default"].log("headerRenderType",W),(e.logo?'<div class="h_logo" style="'+t.style.logo+'"><img class="logo style'+(t.logoBorder||0)+'" style="'+t.style.logoImage+'" src="'+e.logo+'"></div>':"")+"\n\t\t"+(d(e.headline)?'<div class="h_headline" style="'+t.style.headline+'">'+s(e.headline,e.headline_style)+"</div>":"")+"\n\t\t"+(d(e.description)?'<div class="h_description" style="'+t.style.description+'">'+s(e.description,e.description_style)+"</div>":"")+'\n\t\t<div class="clearB"></div>';
}function c(e,t){return W=2,(e.logo?'<div class="h_logo" style="'+t.style.logo+'"><img class="logo style'+(t.logoBorder||0)+'" style="'+t.style.logoImage+'" src="'+e.logo+'"></div>':"")+'\n\t\t<div class="h_TDWrapper" style="'+t.style.wrapper+'">\n\t\t\t'+(d(e.headline)?'<div class="h_headline" style="'+t.style.headline+'">'+s(e.headline,e.headline_style)+"</div>":"")+"\n\t\t\t"+(d(e.description)?'<div class="h_description" style="'+t.style.description+'">'+s(e.description,e.description_style)+"</div>":"")+'\n\t\t</div><div class="clearB"></div>'}function f(e,t){return W=3,'<div class="h_TLWrapper">\n\t\t\t'+(e.logo?'<div class="h_logo" style="'+t.style.logo+'"><img class="logo style'+(t.logoBorder||0)+'" style="'+t.style.logoImage+'" src="'+e.logo+'"></div>':"")+"\n\t\t\t"+(d(e.headline)?'<div class="h_headline" style="'+t.style.headline+'">'+s(e.headline,e.headline_style)+"</div>":"")+'\n\t\t\t<div class="clearB"></div>\n\t\t</div>\n\t\t'+(d(e.description)?'<div class="h_description" style="'+t.style.description+'">'+s(e.description,e.description_style)+"</div>":"")}function h(e){var t=H(),a=0!==m["default"].getSettings().isShowShare?100:20;M=t?0:a,x=30,D=t?20:40,O=!0,B=1,U=1,P=e,P.off("$$resize"),L=Math.min(V()-M,m["default"].getFormWidth()),P.width(L);var n=m["default"].getStyle("headerStyle")||{},i=m["default"].getHeader();if(i){var l="",s={};if(s.style={},F=i.layoutStr){if(t&&"N"!==F.charAt(2)){var d=F.split("");d[2]="C",d[3]="",i.logo&&(d[0]="C"),F=d.join("")}for(var h=s.style,p=["headline","description","logo","stayNewLine"],g=null,v=0;v<4;v++)if(g=p[v],"stayNewLine"===g)s.newLine="Y"===F.charAt(v);else switch(F.charAt(v)){case"L":h[g]="text-align:left;";break;case"R":h[g]="text-align:right;";break;case"C":h[g]="text-align:center;";break;case"N":default:h[g]=""}}if(n&&n.background)if(z.add(b["default"].getImageSize(n.background,3===j()),function(e){4!==n.bgLayoutVertical&&(R=e)}),A={},n.bgLayoutHorizontal!==n.bgLayoutVertical||3!==n.bgLayoutHorizontal&&4!==n.bgLayoutHorizontal){switch(n.bgLayoutHorizontal){case 3:A["background-repeat"]="repeat-x";break;case 4:A["background-size"]="100% auto";break;case 5:A["background-position-x"]="left";break;case 7:A["background-position-x"]="right";break;case 6:default:A["background-position-x"]="center"}switch(n.bgLayoutVertical){case 3:A["background-repeat"]="repeat-y";break;case 4:A["background-size"]="auto 100%",A["background-position"]="initial";break;case 8:A["background-position-y"]="top";break;case 9:A["background-position-y"]="bottom";break;case 6:default:A["background-position-y"]="center"}}else 3===n.bgLayoutHorizontal&&(A["background-repeat"]="repeat"),4===n.bgLayoutHorizontal&&(A["background-size"]="cover");var y=F?F.charAt(2):null,S=!0;!i.logo||null!=i.logoHeight&&null!=i.logoWidth||(S=new Promise(function(e,t){b["default"].getImageSize(i.logo).done(function(t){if(i.logoHeight=t.height||0,i.logoWidth=t.width||0,i.logoWidth>1/3*L){var a=Math.ceil(i.logoHeight*Math.ceil(1/3*L)/i.logoWidth);i.logoWidth=Math.ceil(1/3*L),i.logoHeight=a}e(!0)}).fail(function(){i.logoHeight=0,i.logoWidth=0,e(!0)})})),Promise.resolve(S).then(function(){_["default"].log("process...>");var e=void 0,a=void 0;if(i.logo&&("L"===y?s.style.logo+="float:left;":"R"===y?s.style.logo+="float:right;":"N"===y&&(s.style.logo+="float:left;"),e=i.logoHeight,a=i.logoWidth,t&&L-i.logoWidth<160&&(U=(L-160)/i.logoWidth,e=Math.ceil(U*i.logoHeight),a=Math.ceil(U*i.logoWidth)),(t||"C"===y)&&(s.style.headline+="margin-top:5px;"),s.style.logoImage="width:"+a+"px;height:"+e+"px;",s.logoBorder=i.logoBorder),s.style.headline+=n.headlineFontSize?"font-size:"+n.headlineFontSize+"px;":"",s.style.headline+=n.headlineColor?"color:"+n.headlineColor+";":"",s.style.headline+=0===n.headlineFontWeight?"font-weight:normal;":"",s.style.description+=n.subheadFontSize?"font-size:"+n.subheadFontSize+"px;":"",s.style.description+=n.subheadColor?"color:"+n.subheadColor+";":"",s.style.description+=n.subheadFontWeight?"font-weight:bold;":"",O=!0,i.logo&&"L"!==i.hasValue&&"C"!==y){if(i.logo){"L"!==y&&"R"!==y&&(y="L");var d=("L"===y?"float:right;":"float:left;")+"width:"+(L-(a-(2===i.logoDisplay?D/2:0)+(!i.logoBorder||4!==i.logoBorder&&5!==i.logoBorder?0:4))-D-10)+"px;";s.newLine?(s.style.headline+=d,l=f(i,s)):(s.style.wrapper=d,l=c(i,s))}}else l=u(i,s);var h={};if(!w["default"].isEmpty(n)&&(n.bgColor||null!=n.bgOpacityValue&&1!==n.bgOpacityValue)&&(h={backgroundColor:n.bgColor},1!==n.bgOpacityValue)){var p=new C.OColor(n.bgColor||"#669acc");p.set("a",Math.min(n.bgOpacityValue,1)),h.backgroundColor=p.getRGBA(),h.zoom=1,m["default"].isIE8&&(_style.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+p.getIEFullHEX()+", endColorstr="+p.getIEFullHEX()+")",_style["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+p.getIEFullHEX()+"', endColorstr='"+p.getIEFullHEX()+"')",_style.backgroundColor="transparent")}P.find(".header").css(h).html('<div class="fb_headerInfo" style="padding-top:'+(n.headerContentOffsetY||0)*B+'px" tabindex="1">'+l+"</div>"),r(),o()})}}Object.defineProperty(t,"__esModule",{value:!0});var p=a(30),m=n(p),g=a(14),v=n(g),y=a(33),b=n(y),C=a(50),S=a(32),_=n(S),E=a(8),w=n(E),N=a(22),k=n(N),I=a(37),T=(0,I.crateTextRender)({entity:{}}),M=100,x=30,D=40,P=void 0,O=!0,L=void 0,F=void 0,R=null,A={},W=null,B=1,U=1,H=void 0,V=void 0,j=void 0,z=new i;t["default"]={render:h,inject:l},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){tt=e.isMobile,at=e.getCurrentWidth,nt=e.getMode,it=e.getContent}function l(e){var t=0!==m["default"].getSettings().isShowShare?100:20;lt=tt()?0:t,b["default"].render(v["default"].createElement(ot,{isMobile:tt()}),e[0])}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=a(22),d=n(s),u=a(8),c=n(u),f=a(38),h=n(f),p=a(30),m=n(p),g=a(14),v=n(g),y=a(23),b=n(y),C=a(32),S=n(C),_=a(42),E=n(_),w=a(54),N=n(w),k=a(58),I=n(k),T=a(60),M=n(T),x=a(62),D=n(x),P=a(63),O=n(P),L=a(65),F=n(L),R=a(66),A=n(R),W=a(67),B=n(W),U=a(72),H=n(U),V=a(75),j=n(V),z=a(81),G=n(z),q=a(83),Q=n(q),X=a(84),J=n(X),Y=a(85),K=n(Y),Z=a(97),ee=n(Z),te=a(98),ae=n(te),ne=a(99),ie=n(ne),le=a(101),re=n(le),oe=a(102),se=n(oe),de=a(103),ue=n(de),ce=a(104),fe=n(ce),he=a(141),pe=n(he),me=a(109),ge=n(me),ve=a(110),ye=n(ve),be=a(112),Ce=n(be),Se=a(80),_e=n(Se),Ee=a(113),we=n(Ee),Ne=a(115),ke=n(Ne),Ie=a(116),Te=n(Ie),Me=a(117),xe=n(Me),De=a(118),Pe=n(De),Oe=a(119),Le=n(Oe),Fe=a(121),Re=n(Fe),Ae=a(122),We=n(Ae),Be=a(123),Ue=n(Be),He=a(124),Ve=n(He),je=a(125),ze=n(je),Ge=a(126),qe=n(Ge),Qe=a(127),$e=n(Qe),Xe=a(128),Je=n(Xe),Ye=a(142),Ke=n(Ye),Ze=a(46),et=n(Ze),tt=void 0,at=void 0,nt=void 0,it=void 0,lt=20,rt=!1,ot=v["default"].createClass({displayName:"Body",mixins:[et["default"]],getInitialState:function(){E["default"].setDefaultFillingData(),this.Rank={};var e=Math.min(at()-lt,m["default"].getFormWidth());return c["default"].assign({formWidth:e,forceUpdateCount:0},E["default"].getState())},_postHeightChange:function(){var e=this;window.clearInterval(e.updateHeightLooper),1===nt()&&m["default"].canPostMessage()&&!function(){var t=5;e.updateHeightLooper=window.setInterval(function(){t--,t<=0&&window.clearInterval(e.updateHeightLooper);var a=it().$container.outerHeight(!0)+30;a!==e.containerHeight&&(e.containerHeight=a,m["default"].postMessage({height:e.containerHeight}))},1e3)}()},componentDidMount:function(){this.unsubscribe=E["default"].addChangeListener(this.handleStateChange),this._postHeightChange()},componentWillUpdate:function(){var e=Math.min(at()-lt,m["default"].getFormWidth());e!==this.state.formWidth&&this.setState({formWidth:e})},componentDidUpdate:function(){var e=this;this._postHeightChange();var t=!1,a=!1;1===nt()&&this.state.valid&&!c["default"].isEmpty(this.state.valid)&&this.scrollToErrorElement?!function(){e.aria&&(a=!0);var n=e.state.valid;c["default"].forEach(e.currentComponent,function(i){var l=!1;if("squeezeBox"===i.type?c["default"].forEach(i.children,function(e){if(n[e])return l=e,!1}):n[i.id]&&(l=i.id),l){var r=function(){var n=(0,d["default"])(document.getElementById(l)),i=0;return n&&n.length>0&&(i=Math.max(n.offset().top+it().$submitForm.prop("scrollTop")-20,0),a||(a=!0,setTimeout(function(){n.find(".aria-content").eq(0).focus()},30))),m["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"},{t:"scrollParent",v:"scrollTop",n:"scrollTop"}]).then(function(a){if(a&&a.innerState){var n=i+a.scrollTop+a.rect.top;m["default"].getParentInfo([{t:"window",v:"scrollTo",e:[0,n]}])}else it().$scrollContainer.animate({scrollTop:i},300),e.scrollToErrorElement=!1;t=!0}),{v:!1}}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}})}():this.scrollToErrorElement=!1,this.scrollToTop&&(this.scrollToTop=!1,setTimeout(function(){it().$scrollContainer.scrollTop(0)},30)),this.ariaPage&&!a&&(a=!0,this.ariaPage=!1,setTimeout(function(){(0,d["default"])(document.getElementById(e.currentComponent[0].id)).find(".aria-content").eq(0).focus()},30)),setTimeout(function(){it().$window.trigger("$$stickyUpdate"),e.scrollToErrorElement=!1},0)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(e){if(this.scrollToTop=!1,"$$resize"===e.type){var t={},a=Math.min(at()-lt,m["default"].getFormWidth());this.state.formWidth!==a&&(t.formWidth=a),1!==nt()&&(t.forceUpdateCount=((this.state.forceUpdateCount||0)+1)%100),c["default"].isEmpty(t)||this.setState(t)}else if("$$messenger"===e.type){var n={};n.forceUpdateCount=((this.state.forceUpdateCount||0)+1)%100,this.setState(n)}else"cashierInfo"===e.type?1===nt()&&b["default"].render(v["default"].createElement(Ke["default"],{isMobile:tt(),payment:this.state.payment}),document.getElementById("popwin")):["submitValid","duplicateDataError","page","MobileValidCodeError","MobileValidEmpty","commodityQuotaError","optionQuotaError"].indexOf(e.type)>-1&&(this.scrollToErrorElement=!0,this.aria=e.aria);"page"===e.type?(this.scrollToTop=!0,this.ariaPage=!!e.aria):this.ariaPage=!1,this.setState(E["default"].getState())},renderComponent:function(e,t,a,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=this.state.data,o=this.state.valid,s=this.state.formWidth,d=m["default"].getComponents(e);if(!d)return S["default"].log("JUMP...ERROR COMPONENT",e),null;var u=l[e],f=o?o[e]:null,h=tt(),p=c["default"].assign({key:"c"+e,data:d,fill:u,type:d.type,valid:f,style:a,isMobile:h,mode:nt(),componentStyle:n,forceUpdateCount:this.state.forceUpdateCount,fw:s},i);"commodity"===d.type&&(p.cartValid=o.cart);var g=null;1===t.showQuestionNo&&(m["default"].isFillingComponent(d.type)||d.isCustomField)&&(this._num++,p.num=this._num,p.showQuestionNo=!0,p.questionNoType=t.questionNoType||1);var y=null;if(d.isCustomField)switch(d.type){case 1:y=v["default"].createElement(N["default"],p);break;case 3:y=v["default"].createElement(A["default"],p);break;case 4:y=v["default"].createElement(G["default"],p);break;case 5:y=v["default"].createElement(qe["default"],p);break;case 6:y=2!==d.cfRadioType?v["default"].createElement(I["default"],p):h?v["default"].createElement(D["default"],p):v["default"].createElement(M["default"],p);break;case 7:y=v["default"].createElement(I["default"],p);break;case 8:y=h?v["default"].createElement(F["default"],p):v["default"].createElement(O["default"],p);break;case 9:y=h?v["default"].createElement(H["default"],p):v["default"].createElement(B["default"],p);break;case 11:y=v["default"].createElement($e["default"],p);break;case 12:y=v["default"].createElement(Je["default"],p);break;default:console.error("ERROR UNKNOW CTCF_COMPONENT",e,JSON.stringify(d))}else switch(d.type){case"input":y=v["default"].createElement(N["default"],p);break;case"checkbox":case"radio":y=v["default"].createElement(I["default"],p);break;case"dropDown":y=h?v["default"].createElement(D["default"],p):v["default"].createElement(M["default"],p);break;case"multiLevel":y=h?v["default"].createElement(F["default"],p):v["default"].createElement(O["default"],p);break;case"number":y=v["default"].createElement(A["default"],p);break;case"dateTime_both":case"dateTime_date":case"dateTime_time":y=h?v["default"].createElement(H["default"],p):v["default"].createElement(B["default"],p);break;case"birthDate":y=h?v["default"].createElement(H["default"],r({},p,{isBirthDate:!0})):v["default"].createElement(B["default"],r({},p,{isBirthDate:!0}));break;case"attachment":y=v["default"].createElement(j["default"],p);break;case"rate":y=v["default"].createElement(G["default"],p);break;case"tabular":y=h?v["default"].createElement(J["default"],p):v["default"].createElement(Q["default"],p);break;case"rank":h?y=v["default"].createElement(ee["default"],p):(this.Rank[e]||(this.Rank[e]=(0,K["default"])()),g=this.Rank[e],y=v["default"].createElement(g,p));break;case"currency":y=v["default"].createElement(ae["default"],p);break;case"city":case"location":y=h?v["default"].createElement(re["default"],p):v["default"].createElement(ie["default"],p);break;case"address":y=h?v["default"].createElement(ue["default"],p):v["default"].createElement(se["default"],p);break;case"commodity":y=v["default"].createElement(fe["default"],p);break;case"button":y=v["default"].createElement(pe["default"],r({},p,{onGetContent:it}));break;case"picRadio":case"picCheckbox":y=v["default"].createElement(Ce["default"],p);break;case"picAttachment":y=v["default"].createElement(_e["default"],p);break;case"staticPic":y=v["default"].createElement(we["default"],p);break;case"picCarousel":y=v["default"].createElement(ke["default"],p);break;case"staticText":y=v["default"].createElement(Te["default"],p);break;case"separator":y=v["default"].createElement(xe["default"],p);break;case"authCode":y=v["default"].createElement(Pe["default"],p);break;case"staticVideo":y=v["default"].createElement(Le["default"],p);break;case"staticMap":y=v["default"].createElement(ye["default"],p);break;case"name":y=v["default"].createElement(Re["default"],p);break;case"avatar":y=v["default"].createElement(_e["default"],r({},p,{isAcceptMultipleFile:!0}));break;case"gender":case"title":y=2===+d.componentType?h?v["default"].createElement(D["default"],p):v["default"].createElement(M["default"],p):v["default"].createElement(I["default"],p);break;case"company":case"department":case"position":y=2===+d.searchComponentType?v["default"].createElement(I["default"],p):3===+d.searchComponentType?h?v["default"].createElement(D["default"],p):v["default"].createElement(M["default"],p):v["default"].createElement(N["default"],p);break;case"IM":case"SNS":y=v["default"].createElement(ze["default"],p);break;case"mobile":!p.data.isSendMsgAuth||rt&&rt!==e?y=v["default"].createElement(Ue["default"],p):(rt=e,y=v["default"].createElement(We["default"],p));break;case"wechat":y=window.IN_WECHAT?v["default"].createElement(Ve["default"],p):v["default"].createElement(Ue["default"],p);break;case"email":case"website":case"tel":case"fax":case"qq":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":y=v["default"].createElement(Ue["default"],p);break;case"paging":y=null;break;default:console.error("ERROR UNKNOW COMPONENT",e,JSON.stringify(d))}return y},renderComponents:function(){var e=this,t=[],a=m["default"].getPage(this.state.page)||[];if(!a)return null;this.currentComponent=a;var n=[];this._num=m["default"].getPageStartOffset(this.state.page);var i=m["default"].getSettings(),l=m["default"].getStyle();return c["default"].forEach(a,function(a){"normal"===a.type?(n.push(a.id),t.push(e.renderComponent(a.id,i,l))):"squeezeBox"===a.type&&!function(){var r="sq"+a.children.join(""),o=Math.floor(1e3/a.layout.reduce(function(e,t){return e+t}))/10,s=a.children.length,d=!!tt()&&c["default"].reduce(a.children,function(e,t){var a=m["default"].getComponents(t);return a?e&&"button"===a.type:e&&!1},!0),u=c["default"].map(a.children,function(t,r){return n.push(t),e.renderComponent(t,i,l,{width:a.layout[r]*o+"% "+(d?"!important":"")},{itemNum:s,forceSqueeze:d})});t.push(v["default"].createElement("div",{className:"clearB",key:"sqbf"+r})),t.push(v["default"].createElement("div",{className:(0,h["default"])("fb_group",{fb_forceSqueeze:d}),key:r},u,v["default"].createElement("div",{className:"clearB"})))}()}),p.isOldIE&&(0,p.hasAttachmentComponent)()&&c["default"].forEach(m["default"].getLayout(),function(a){if("normal"===a.type){if(n.indexOf(a.id)>-1)return!0;t.push(e.renderComponent(a.id,i,l,{display:"none"}))}else if("squeezeBox"===a.type){var r=function(){var r="sq"+a.children.join(""),o=Math.floor(1e3/a.layout.reduce(function(e,t){return e+t}))/10,s=a.children.length,d=[];return c["default"].forEach(a.children,function(t,r){return n.indexOf(t)>-1||void d.push(e.renderComponent(t,i,l,{width:a.layout[r]*o+"%",display:"none"},{itemNum:s}))}),d.length>0?(t.push(v["default"].createElement("div",{className:"clearB",key:"sqbf"+r})),void t.push(v["default"].createElement("div",{className:"fb_group",key:r},d,v["default"].createElement("div",{className:"clearB"})))):{v:!0}}();if("object"===("undefined"==typeof r?"undefined":o(r)))return r.v}}),t},render:function(){var e=this.state.valid;return v["default"].createElement("div",null,v["default"].createElement("div",{className:"fb_componentWrapper"},this.renderComponents(),v["default"].createElement("div",{className:"clearB",key:"clearB"})),v["default"].createElement(ge["default"],{key:"cart",forceUpdateCount:this.state.forceUpdateCount,valid:e.cart}))}});t["default"]={inject:i,render:l},e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(8),r=n(l),o=a(14),s=n(o),d=a(38),u=n(d),c=a(9),f=a(55),h=n(f),p=a(33),m=a(46),g=n(m),v=a(57),y=a(42),b=n(y),C=a(30),S=n(C),_=s["default"].createClass({displayName:"ElemButton",mixins:[g["default"]],getInitialState:function(){return this.hasPage=S["default"].hasPage(),this.pageNum=S["default"].getPageNum(),{forceUpdateCount:0,page:b["default"].getState().page}},componentDidMount:function(){this.unsubscribe=b["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleStateChange:function(e){if([7,8].indexOf(+this.props.data.btnAction)!==-1){var t={};S["default"].hasPage()===this.hasPage&&S["default"].getPageNum()===this.pageNum||(this.hasPage=S["default"].hasPage(),this.pageNum=S["default"].getPageNum(),t.forceUpdateCount=(this.state.forceUpdateCount+1)%100),"page"===e.type?t.page=b["default"].getState().page:"$$resize"===e.type&&(t.forceUpdateCount=this.state.forceUpdateCount+1),r["default"].isEmpty(t)||this.setState(t)}},handleChangePage:function(e){e<0?e=0:e>this.props.pageNum-1&&(e=this.props.pageNum-1),b["default"].dispatch({type:"page",data:e})},handleBtnClick:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,a=t.isMobile,n=t.data,i=t.onGetContent,l=n.btnAction;switch(void 0===l&&(l=2),+l){case 1:i().$form.trigger("form-submit");break;case 2:n.btnJumpTo&&window.open((0,p.linkify)(n.btnJumpTo));break;case 5:n.btnQqTo&&(a?window.IN_WECHAT?window.open("https://wpa.qq.com/msgrd?v=3&uin="+n.btnQqTo+"&site=qq&menu=yes"):window.open("mqqwpa://im/chat?chat_type=wpa&uin="+n.btnQqTo+"&version=1&src_type=web&web_src=oicqzone.com"):location.href="tencent://message/?uin="+n.btnQqTo+"&Site=qq&Menu=yes");break;case 6:i().$scrollContainer.animate({scrollTop:0},300);break;case 7:this.hasPage&&this.handleChangePage(this.state.page-1);break;case 8:this.hasPage&&this.handleChangePage(this.state.page+1)}},render:function(){var e=this.props.data,t=null,a={height:e.btnHeight,lineHeight:(e.btnHeight?e.btnHeight:40)+"px",fontSize:e.btnFontSize,fontWeight:e.btnFontWeight?"bold":"normal",color:e.btnFontColor};2===e.btnWidthType?a.width="100%":3===e.btnWidthType&&e.btnWidth?a.width=e.btnWidth:[7,8].indexOf(e.btnStyle)===-1&&(a.paddingLeft="30px",a.paddingRight="30px"),[3,4].indexOf(e.btnStyle)===-1&&(a.backgroundColor=e.btnColor),[3,4].indexOf(e.btnStyle)>-1&&(a.borderColor=e.btnColor),[2,4,6,8,10,12].indexOf(e.btnStyle)>-1&&(a.borderRadius=(e.btnHeight||40)/2+"px");var n=[];e.isShowBtnIcon&&e.btnIcon&&n.push(s["default"].createElement("i",{key:"icon",className:"iconfont fbc_cpbIcon",style:{fontSize:(e.btnFontSize||14)+1}},r["default"].find(v.FORM_SETTINGS_BTN_ICON,{id:e.btnIcon}).icon)),!e.btnText&&"btnText"in e||n.push(s["default"].createElement("span",{key:"title",className:"fbc_cpbTitle"},"btnText"in e?e.btnText:c.lang.cBtnDefault));var l={};switch(3===+e.btnAction?l.href="tel:"+e.btnTelTo:4===+e.btnAction?l.href="sms:"+e.btnSmsTo+(e.btnSmsContent?"?&body="+encodeURIComponent(e.btnSmsContent):""):9===+e.btnAction?l.href="mailTo:"+e.btnMailTo:l.onClick=this.handleBtnClick,e.btnStyle){case 7:case 8:a.height=+(e.btnHeight||40)+5;var o={},d={backgroundColor:e.btnColor};e.btnWidthType&&1!==e.btnWidthType||(d.paddingLeft="30px",d.paddingRight="30px"),8===e.btnStyle&&(o.borderRadius=(e.btnHeight||40)/2+"px",d.borderRadius=(e.btnHeight||40)/2+"px"),t=s["default"].createElement("a",i({className:(0,u["default"])("fbc_cpButton","fbc_cpButtonStyle"+(e.btnStyle||1)),style:a},l),s["default"].createElement("i",{className:"fbc_cpBs7Mask",style:o}),s["default"].createElement("span",{className:"fbc_cpBs7Content",style:d},n));break;case 11:case 12:var f={};12===e.btnStyle&&(f.borderRadius=(e.btnHeight||40)/2+"px"),t=s["default"].createElement("a",i({className:(0,u["default"])("fbc_cpButton","fbc_cpButtonStyle"+(e.btnStyle||1)),style:a},l),s["default"].createElement("i",{className:"fbc_cpBs11Bor",style:f}),n);break;case 1:case 2:case 3:case 4:case 5:case 6:case 9:case 10:default:t=s["default"].createElement("a",i({className:(0,u["default"])("fbc_cpButton","fbc_cpButtonStyle"+(e.btnStyle||1)),style:a},l),n)}return t}});t["default"]=s["default"].createClass({displayName:"Component(Button)",mixins:[g["default"],h["default"]],render:function(){var e=this.props,t=e.isMobile,a=e.data,n=e.componentStyle,i=e.onGetContent;return s["default"].createElement("div",{className:(0,u["default"])("fb_component","fb_staticComponent",a.type),id:a.id,style:n},s["default"].createElement("div",{className:"fbc_cpButtonWrapper",style:{textAlign:["","left","center","right"][a.btnAlign]}},s["default"].createElement(_,{isMobile:t,data:a,onGetContent:i})))}}),e.exports=t["default"]},function(e,t,a){(function($){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(9),o=a(74),s=n(o),d=a(132),u=n(d),c=a(143),f=n(c),h=a(133),p=n(h),m=a(30),g=n(m),v=a(33),y=n(v),b=a(46),C=n(b);t["default"]=l["default"].createClass({displayName:"PopPay",mixins:[C["default"]],getInitialState:function(){var e=this;return g["default"].getParentInfo([{t:"self",v:"rect",e:1,n:"rect"}]).then(function(t){t&&t.innerState&&e.setState({rectTop:t.rect.top})}),{payState:1}},handleClose:function(e){e&&window.setTimeout(function(){$(".main").trigger("paymentSucceed")},200),this.refs.popwin.doClose()},handleStateChange:function(e){this.setState({payState:e})},render:function(){var e=this.state.payState,t=" ",a=l["default"].createElement(u["default"],{isMobile:y["default"].fuzzyDeviceCheck,onClose:this.handleClose,payType:this.handleStateChange});return 1===e?4===this.props.payment.type?(t=r.lang.cPayOfflineTitle,a=l["default"].createElement(f["default"],{onClose:this.handleClose})):t=r.lang.cPayOnlineTitle:2===e&&(a=l["default"].createElement(p["default"],{onClose:this.handleClose})),l["default"].createElement(s["default"],{className:"pop_pay",ref:"popwin",boxStyle:{marginTop:this.state.rectTop?Math.max(60-this.state.rectTop,60):null},isCantClose:!0,title:t},a)}}),e.exports=t["default"]}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(14),o=n(r),s=a(9),d=a(34),u=(n(d),a(30)),c=n(u),f=a(42),h=n(f),p=a(12),m=n(p),g=a(46),v=n(g);t["default"]=o["default"].createClass({displayName:"PopPayOnline",mixins:[v["default"]],getInitialState:function(){var e=h["default"].getState();return{info:e.payment,data:e.data}},componentDidMount:function(){this.unsubscribe=h["default"].addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe(),clearInterval(this.getDmwProgress)},handleStateChange:function(){var e=h["default"].getState();this.setState({info:e.payment,data:e.data})},handleClose:function(){this.props.onClose&&this.props.onClose(!0)},render:function(){var e=this.state.info,t=this.state.data,a=c["default"].getSettings(),n="￥";"0"==a.cartSymbol?n=a.cartSymbolDefined||"":a.cartSymbol&&(n=s.lang.cCurrencySymbolArray[a.cartSymbol-1]);var i=0,r=c["default"].processCart(t,function(e){return{price:e.price,num:e.num}});return r.length>0&&(i=Math.round(l["default"].reduce(r,function(e,t){return e+t.price*t.num},0))/100),o["default"].createElement("div",{className:"pay_offLine"},o["default"].createElement("p",{className:"pay_guide"},o["default"].createElement("i",{className:"iconfont pay_gIcon"},String.fromCharCode(58988)),o["default"].createElement("span",null,s.lang.cPayOfflineGuide)),o["default"].createElement("div",{className:"pay_tradeInfo"},o["default"].createElement("p",{className:"pay_orderNo"},o["default"].createElement("span",null,s.lang.cPayOrderNo),o["default"].createElement("span",{className:"orderNo"},e.ordiNo)),o["default"].createElement("p",{className:"pay_needPay"},o["default"].createElement("span",null,s.lang.cPayNeedPay),o["default"].createElement("span",{className:"needPay"},n+" "+m["default"].localeNumberFormatter(i,2,2)))),o["default"].createElement("div",{className:"pay_operate"},o["default"].createElement("a",{className:"btn_normal btn_finish",onClick:this.handleClose},s.lang.cPayKnowIt)))}}),e.exports=t["default"]},function(e,t,a){(function($){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e){_=e.isMobile,E=e.getCurrentWidth,w=e.getMode,N=e.getContent}function l(e){_&&N&&!function(){var e=N().$window,t=N().$submit,a=N().$submitForm;e.off("scroll.positionCalculate $$stickyUpdate"),a.removeClass("bottomFixed"),t.removeClass("submitWrapper_sticky submitWrapper_fixed");var n=d["default"].getTail();n&&!n.isHideBtn&&n.stickyBottom&&(k?t.addClass("submitWrapper_sticky"):!function(){var n=$(".header"),i=$(".body");a.addClass("bottomFixed"),e.on("scroll.positionCalculate $$stickyUpdate",function(a){var l=t.height();n.outerHeight()+i.outerHeight(!0)-e.scrollTop()-2>e.height()?(t.addClass("submitWrapper_fixed"),i.css("paddingBottom",l)):(t.removeClass("submitWrapper_fixed"),i.css("paddingBottom",0))}),e.trigger("$$stickyUpdate")}())}(),h["default"].render(c["default"].createElement(I,{isMobile:_}),e[0])}Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),o=n(r),s=a(30),d=n(s),u=a(14),c=n(u),f=a(23),h=n(f),p=a(42),m=n(p),g=a(145),v=n(g),y=a(146),b=n(y),C=a(46),S=n(C),_=void 0,E=void 0,w=void 0,N=void 0,k=function(){var e=["","-webkit-","-ms-","-moz-","-o-"],t=e.length,a=document.createElement("div");if(a&&a.style)try{for(var n=0;n<t;n++)if(a.style.position=e[n]+"sticky",""!==a.style.position)return!0}catch(i){}return!1}(),I=c["default"].createClass({displayName:"SubmitWrapper",mixins:[S["default"]],getInitialState:function(){return this.hasPage=d["default"].hasPage(),this.pageNum=d["default"].getPageNum(),{forceUpdateCount:0,page:m["default"].getState().page}},componentDidMount:function(){this.unsubscribe=m["default"].addChangeListener(this.handleStateChange),this.tagTailFieldStatus()},componentDidUpdate:function(){var e=N().$window;e.trigger("$$stickyUpdate"),this.tagTailFieldStatus()},componentWillUnmount:function(){this.unsubscribe()},tagTailFieldStatus:function(){var e=$(".main"),t="is-emptyTail";e.removeClass(t);var a=d["default"].getSettings()||{},n=a.isHidePageBtn,i=a.isBanReturn,l=d["default"].getTail()||{},r=l.isHideBtn;n&&this.hasPage&&d["default"].hasNextPage(this.state.page+1)?e.addClass(t):r&&(!this.hasPage||this.hasPage&&!d["default"].hasNextPage(this.state.page+1)&&(n||i))&&e.addClass(t)},handleStateChange:function(e){var t={};d["default"].hasPage()===this.hasPage&&d["default"].getPageNum()===this.pageNum||(this.hasPage=d["default"].hasPage(),this.pageNum=d["default"].getPageNum(),t.forceUpdateCount=(this.state.forceUpdateCount+1)%100),m["default"].getState().page!==this.state.page?t.page=m["default"].getState().page:"$$resize"===e.type&&(t.forceUpdateCount=this.state.forceUpdateCount+1),o["default"].isEmpty(t)||this.setState(t)},render:function(){var e=this.state.page,t=d["default"].hasPage();return c["default"].createElement("div",null,t&&d["default"].hasNextPage(e+1)?c["default"].createElement(v["default"],{page:e,pageNum:d["default"].getPageNum(),key:"paging",isMobile:_(),forceUpdateCount:this.state.forceUpdateCount}):c["default"].createElement(b["default"],{page:e,pageNum:d["default"].getPageNum(),key:"submit",isMobile:_(),forceUpdateCount:this.state.forceUpdateCount}))}});t["default"]={inject:i,render:l},e.exports=t["default"]}).call(t,a(22))},function(e,t,a){(function($){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(38),o=n(r),s=a(42),d=n(s),u=a(50),c=a(30),f=n(c),h=a(9),p=a(46),m=n(p);t["default"]=l["default"].createClass({displayName:"Component(Paging)",mixins:[m["default"]],componentDidMount:function(){$(".fbc_button").on("mousedown.stopPop",this.handleStopPop)},componentWillUnmount:function(){$(".fbc_button").off("mousedown.stopPop")},handleStopPop:function(e){e.stopPropagation(),e.preventDefault()},handleARIAChangePage:function(e,t){13!==t.keyCode&&32!==t.keyCode||this.handleChangePage(e,!0,t)},handleChangePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e<0?e=0:e>this.props.pageNum-1&&(e=this.props.pageNum-1),d["default"].dispatch({type:"page",data:e,aria:t})},render:function(){var e=f["default"].getSettings(),t=f["default"].getStyle(),a=t.submitStyle||{},n=this.props,i=n.isMobile,r=n.page,s=n.pageNum,d=["","left","center","right"],p={textAlign:d[a.btnAlign||2]};if(a.bgColor&&(p.backgroundColor=a.bgColor),null!==a.bgOpacityValue&&void 0!==p.bgOpacityValue&&a.bgOpacityValue<1){var m=new u.OColor(a.bgColor||"#ffffff");m.set("a",a.bgOpacityValue),p.backgroundColor=m.getRGBA(),p.zoom=1,c.isIE8&&(p.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+m.getIEFullHEX()+", endColorstr="+m.getIEFullHEX()+")",p["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+m.getIEFullHEX()+"', endColorstr='"+m.getIEFullHEX()+"')",p.backgroundColor="transparent")}if(a.background){p.backgroundImage="url("+a.background+")",p.backgroundPosition="center center",p.backgroundRepeat="no-repeat";var g=a.bgLayoutHorizontal||6,v=a.bgLayoutVertical||6;switch(g){case 3:p.backgroundRepeat="repeat-x";break;case 4:p.backgroundSize="100% auto";break;case 5:p.backgroundPositionX="left";break;case 7:p.backgroundPositionX="right";break;case 6:default:p.backgroundPositionX="center"}switch(v){case 3:p.backgroundRepeat="repeat-y";break;case 4:p.backgroundSize="auto 100%";break;case 8:p.backgroundPositionY="top";break;case 9:p.backgroundPositionY="bottom";break;case 6:default:p.backgroundPositionY="center"}3===g&&3===v&&(p.backgroundRepeat="repeat"),
4===g&&4===v&&(p.backgroundSize="cover")}var y={width:1===+a.isFormWith||i?"100%":"auto",height:Math.floor(2.2*(a.submitFontSize||14))+(i?6:0),paddingTop:(a.submitFontSize||14)/2+(i?3:0),paddingBottom:(a.submitFontSize||14)/2+(i?3:0),paddingLeft:(a.submitFontSize||14)+6,paddingRight:(a.submitFontSize||14)+6,fontSize:a.submitFontSize,fontWeight:a.fontWeight?"bold":"normal",color:a.fontColor,background:a.btnColor},b=!1,C=e.isShowCurrentPageNum,S=e.isShowAllPageNum,_=e.isBanReturn,E=e.isHidePageBtn;C&&S?b=h.lang.gPageCurrentAndAll({current:r+1,total:s}):C?b=h.lang.gPageCurrent({num:r+1}):S&&(b=h.lang.gPageAll({num:s}));var w=null;b&&(w=l["default"].createElement("p",{className:"fbc_pageNum"},b));var N=null;return 1!==_&&0!==r&&(y.width="1"==a.isFormWith||i?"49%":"auto",N=l["default"].createElement("a",{className:"fbc_button",style:y,tabIndex:1,role:"button",onKeyDown:this.handleARIAChangePage.bind(this,r-1),onClick:this.handleChangePage.bind(this,r-1,!1)},h.lang.gPrev)),l["default"].createElement("div",{className:(0,o["default"])("submit","paging"),style:p},E?null:l["default"].createElement("div",{className:"fbc_pageBtn"},N,l["default"].createElement("a",{className:"fbc_button",style:y,tabIndex:1,role:"button",onKeyDown:this.handleARIAChangePage.bind(this,r+1),onClick:this.handleChangePage.bind(this,r+1,!1)},h.lang.gNext)),w)}}),e.exports=t["default"]}).call(t,a(22))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(8),l=n(i),r=a(22),o=(n(r),a(14)),s=n(o),d=a(38),u=n(d),c=a(9),f=a(42),h=n(f),p=a(50),m=a(30),g=n(m),v=a(46),y=n(v);t["default"]=s["default"].createClass({displayName:"Submit.react",mixins:[y["default"]],getInitialState:function(){return{saving:!1,updateCounter:0}},componentDidMount:function(){this.unsub=h["default"].addChangeListener(this.handleChangeState)},componentWillUnmount:function(){clearTimeout(this.resetProgress),this.unsub()},handleChangeState:function(e){var t=this;"savingForm"===e.type?(this.setState({saving:!0,progress:e.progress||null}),e.progress>=100&&(this.resetProgress=setTimeout(function(){t.setState({progress:null})},1200))):"endSubmit"===e.type?this.setState({saving:!1,progress:null}):"$$resize"===e.type&&this.setState({updateCounter:this.state.updateCounter+1})},handleChangePage:function(e){e<0?e=0:e>this.props.pageNum-1&&(e=this.props.pageNum-1),h["default"].dispatch({type:"page",data:e})},render:function(){var e=g["default"].getTail(),t=g["default"].getStyle(),a=g["default"].getSettings(),n=this.props,i=n.isMobile,r=n.page,o=n.pageNum,d=t.submitStyle||{},f=["","left","center","right"],h={textAlign:f[d.btnAlign||2]};if(d.bgColor&&(h.backgroundColor=d.bgColor),null!=d.bgOpacity&&1!==d.bgOpacityValue){var v=new p.OColor(d.bgColor||"#ffffff");v.set("a",d.bgOpacityValue),h.backgroundColor=v.getRGBA(),h.zoom=1,m.isIE8&&(h.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+v.getIEFullHEX()+", endColorstr="+v.getIEFullHEX()+")",h["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+v.getIEFullHEX()+"', endColorstr='"+v.getIEFullHEX()+"')",h.backgroundColor="transparent")}if(d.background){h.backgroundImage="url("+d.background+")",h.backgroundPosition="center center",h.backgroundRepeat="no-repeat";var y=d.bgLayoutHorizontal||6,b=d.bgLayoutVertical||6;switch(y){case 3:h.backgroundRepeat="repeat-x";break;case 4:h.backgroundSize="100% auto";break;case 5:h.backgroundPositionX="left";break;case 7:h.backgroundPositionX="right";break;case 6:default:h.backgroundPositionX="center"}switch(b){case 3:h.backgroundRepeat="repeat-y";break;case 4:h.backgroundSize="auto 100%";break;case 8:h.backgroundPositionY="top";break;case 9:h.backgroundPositionY="bottom";break;case 6:default:h.backgroundPositionY="center"}3===y&&3===b&&(h.backgroundRepeat="repeat"),4===y&&4===b&&(h.backgroundSize="cover")}var C=!1,S=null,_=!1,E=null;if(o>1){var w=a.isShowCurrentPageNum,N=a.isShowAllPageNum,k=a.isBanReturn,I=a.isHidePageBtn;w&&N?C=c.lang.gPageCurrentAndAll({current:r+1,total:o}):w?C=c.lang.gPageCurrent({num:r+1}):N&&(C=c.lang.gPageAll({num:o})),C&&(S=s["default"].createElement("p",{className:"fbc_pageNum"},C)),1===k||0===r||I||(_=!0)}var T={width:1===+d.isFormWith||this.props.isMobile?"100%":"auto",height:Math.floor(2.2*(d.submitFontSize||14))+(i?6:0),paddingTop:(d.submitFontSize||14)/2+(i?3:0),paddingBottom:(d.submitFontSize||14)/2+(i?3:0),paddingLeft:(d.submitFontSize||14)+6,paddingRight:(d.submitFontSize||14)+6,fontSize:d.submitFontSize,fontWeight:d.fontWeight?"bold":"normal",color:d.fontColor,background:d.btnColor},M=l["default"].assign({},T);this.props.isMobile&&_&&(M.width="49%",M.marginLeft="2%");var x=null;if(!e||e&&1!==e.isHideBtn){var D=c.lang.gSubmit;e&&e.isDefaultSubmitText&&(D="submitText"in e?e.submitText:c.lang.gSubmit),this.state.saving&&(D=c.lang.gSaving,this.state.progress&&(D+=" "+this.state.progress.toFixed(1)+"%")),x=s["default"].createElement("a",{className:(0,u["default"])("fb_submitBtn",{fb_savingBtn:this.state.saving}),tabIndex:1,role:"button","aria-disabled":this.state.saving,id:"form_submit",style:M},D)}return _&&(E=s["default"].createElement("a",{className:"fbc_button",style:T,tabIndex:1,role:"button","aria-live":"polite",onClick:this.handleChangePage.bind(this,r-1)},c.lang.gPrev)),s["default"].createElement("div",{className:"submit",style:h,"aria-live":"assertive","aria-relevant":"text"},E?s["default"].createElement("div",{className:"fbc_pageBtn fbc_submitPagePrev",style:{width:e&&1===e.isHideBtn?"100%":null}},E):null,x,S,s["default"].createElement("div",{className:"clearB"}))}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){e=""+e;for(var a="",n=[],i=0,l=e.length;i<l;i++)i%t===0&&a&&(n.push(a),a=""),a+=e.charAt(i);return a&&n.push(a),n}Object.defineProperty(t,"__esModule",{value:!0});var l=a(8),r=n(l),o=a(22),s=n(o),d=a(14),u=n(d),c=a(9),f=a(30),h=n(f),p=a(33),m=(n(p),a(40)),g=a(37),v=a(46),y=n(v),b=/micromessenger/i.test(window.navigator.userAgent),C=(0,g.crateTextRender)({entity:{}});t["default"]=u["default"].createClass({displayName:"succeed",mixins:[y["default"]],componentDidMount:function(){h["default"].postMessage({height:(0,s["default"])(".wrapper").outerHeight(!0)+30}),(0,s["default"])("body").scrollTop(0),setTimeout(function(){(0,s["default"])(".fb_secondaryStatus").focus()},10)},_getHrefUrl:function(){var e="",t=this.props.settings;if("2"==t.asButtonLinkType&&t.asButtonLink)e=t.asButtonLink;else{var a="";if(b){var n=+new Date;a=location.pathname!==h["default"].token()?"?wechat_hash="+n:/wechat_hash/.test(location.search)?location.search.replace(/wechat_hash=\d+(&?)/,"wechat_hash="+n+"$1"):""==location.search?"?wechat_hash="+n:location.search+"&wechat_hash="+n}window._SST&&(a+=a?"&":"?",a+="sst="+window._SST),e=location.origin+"/"+h["default"].token()+a}return e},handleImgError:function(e){e.target.src="images/form/success.png"},handleImgLoad:function(){setTimeout(function(){h["default"].postMessage({height:(0,s["default"])(".wrapper").outerHeight(!0)+30})},100)},handleViewStatistics:function(){location.href="r.php?t="+(h["default"].token()||"")},handleViewSubmitData:function(){location.href="r.php?t="+(h["default"].token()||"")+"&s=2"},render:function(){var e=this.props,t=e.settings,a=e.isMobile,n=e.randomCode,l=e.ticketValidationCode,o=e.ticketValidationQR,s=h["default"].getStyle(),d=s.bodyStyle,f=s.submitStyle;d=d||{},f=f||{};var g=null,v=null,y=null,b=null,S=null,_=null,E=null;if(t&&0!==t.asIsShowImage){var w=t.asImage||{},N="images/form/success.png";t.asIsDefaultImg||((w.isLink||w.isCoop)&&w.linkUri?N=w.linkUri:w.isLink||w.isCoop||!w.imageUri||(N=w.imageUri)),g=u["default"].createElement("div",{className:"fb_ssItem image","aria-hidden":!0},u["default"].createElement("img",{className:"fb_ssImg",src:N,onError:this.handleImgError,onLoad:this.handleImgLoad}))}if(t&&0!==t.asIsShowText&&(v=u["default"].createElement("div",{className:"fb_ssItem text",key:"tips"},u["default"].createElement("div",{className:"fb_ssTitle",style:{color:d.titleColor}},"asTextTitle"in t?t.asTextTitle&&!r["default"].isEmpty(t.asTextTitle)?C.render(t.asTextTitle,t.asTextTitle_style):"":c.lang.asSubmitSucceed),u["default"].createElement("div",{className:"fb_ssSubTitle",style:{color:d.describeColor}},"asTextSubTitle"in t?t.asTextSubTitle&&!r["default"].isEmpty(t.asTextSubTitle)?C.render(t.asTextSubTitle,t.asTextSubTitle_style):"":c.lang.asSubmitSucceedDescribe))),(0,m.getTicketValidation)().isTicketValidation){var k=(0,m.getTicketValidation)().info||{},I=k.ticketValidationTitle,T=k.ticketValidationDescribe;y=u["default"].createElement("div",{className:"fb_ssItem ticketValidation",key:"ticketValidation"},u["default"].createElement("div",{className:"fb_ticketValidation"},u["default"].createElement("div",{className:"fb_tvContent"},u["default"].createElement("div",{className:"fb_tvTitle"},"ticketValidationTitle"in(0,m.getTicketValidation)().info?I&&!r["default"].isEmpty(I)?r["default"].map(I,function(e,t){return u["default"].createElement("p",{key:"des"+t},e)}):"":u["default"].createElement("p",{key:"des"},c.lang.ticketValidationTitle)),u["default"].createElement("p",{className:"fb_tvGuide"},c.lang.ticketValidationGuide),u["default"].createElement("div",{className:"fb_tvDecorate"},u["default"].createElement("div",{className:"fb_tvBorder"})),u["default"].createElement("img",{className:"fb_tvQrCode",src:(0,p.linkify)(o)}),u["default"].createElement("p",{className:"fb_tvRandomCode"},i(l,4).join(" ")),T&&(T.length>1||T[0])?u["default"].createElement("div",{className:"fb_tvDescribe"},r["default"].map(T,function(e,t){return u["default"].createElement("p",{key:"des"+t},e)})):null)))}if(t&&t.asIsShowRandomCode&&(b=u["default"].createElement("div",{className:"fb_ssItem randomCode",key:"randomCode"},u["default"].createElement("div",{className:"fb_randomCode"},u["default"].createElement("p",{className:"fb_rdTitle"},"asRandomCodeTitle"in t?t.asRandomCodeTitle:c.lang.asRandomCode),u["default"].createElement("br",null),u["default"].createElement("p",{className:"fb_rdExample"},n)))),t&&t.asIsShowFeedbackNum&&(S=u["default"].createElement("div",{className:"fb_ssItem feedbackNum",key:"feedbackNum"},u["default"].createElement("p",{className:"fb_fnText"},"asFeedbackNumText"in t?t.asFeedbackNumText:c.lang.asFeedbackNumber))),t&&t.asIsShowFeedbackResult){var M=0!==t.isShowStatistics,x=null,D=0!==t.isShowData,P=null,O=null;M&&(x=u["default"].createElement("div",{className:"fb_frStatistics",onClick:this.handleViewStatistics},u["default"].createElement("p",{className:"fb_frIcon"}),u["default"].createElement("p",{className:"fb_frTitle",style:{color:d.titleColor}},c.lang.asStatisticsView))),D&&(P=u["default"].createElement("div",{className:"fb_frData",onClick:this.handleViewSubmitData},u["default"].createElement("p",{className:"fb_frIcon"}),u["default"].createElement("p",{className:"fb_frTitle",style:{color:d.titleColor}},c.lang.asFormSubmitView))),M&&D&&(O=u["default"].createElement("div",{className:"fb_frBorder"})),_=u["default"].createElement("div",{className:"fb_ssItem feedbackResult",key:"feedbackResult"},x,O,P)}return t&&0!==t.asIsShowButton&&(E=u["default"].createElement("div",{className:"fb_ssItem button"},u["default"].createElement("a",{className:"fb_submitBtn",style:{width:"1"==f.isFormWith||a?"100%":"auto",height:Math.floor((2.2+(a?.4:0))*(f.fontSize||14)),lineHeight:a?Math.floor(1.6*(f.fontSize||14))+"px":null,paddingTop:(f.fontSize||14)/2,paddingBottom:(f.fontSize||14)/2,paddingLeft:f.fontSize||14,paddingRight:f.fontSize||14,fontSize:f.fontSize,fontWeight:f.fontWeight,color:f.fontColor,background:f.btnColor},href:this._getHrefUrl()},"asButtonText"in t?t.asButtonText||c.lang.gGoBack:c.lang.gGoBack))),u["default"].createElement("div",{className:"fb_secondaryStatus",tabIndex:1},g,v,y,b,S,_)}}),e.exports=t["default"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(22),l=n(i),r=a(14),o=n(r),s=a(23),d=n(s),u=a(38),c=n(u),f=a(34),h=n(f),p=a(32),m=n(p),g=a(33),v=n(g),y=a(42),b=n(y),C=a(30),S=n(C),_=a(9),E=a(6),w=n(E),N=a(46),k=n(N),I=/micromessenger/i.test(window.navigator.userAgent),T="";"cn"===window._SLD&&(T=location.protocol+w["default"].CDN_PATH_WITHOUT_PROTOCOL),t["default"]=o["default"].createClass({displayName:"errorHandler",mixins:[k["default"]],getInitialState:function(){return{time:null,valid:!1}},componentDidMount:function(){this.refs.password&&(d["default"].findDOMNode(this.refs.password).focus(),(0,l["default"])(d["default"].findDOMNode(this.refs.password)).on("keydown",this.handleKeyPreventDefault)),b["default"].addChangeListener(this.handleStateChange),S["default"].postMessage({height:(0,l["default"])(".wrapper").outerHeight(!0)+30})},componentWillMount:function(){var e=this,t=this.props,a=t.settings,n=t.errorCode,i=void 0,l=this;n===-822&&!function(){var t=e.usableTimeFromTime=(0,h["default"])(a.usableTimeFrom).time();window.JHD&&(t=e.usableTimeFromTime=(0,h["default"])().time()+1e3*window.JHD);var n=function r(){var e=(0,h["default"])().time();t>=e?(l.setState({time:Math.floor(e/1e3)}),i=v["default"].rAF(r)):(v["default"].cAF(i),location.reload(!0))};n()}()},componentDidUpdate:function(){S["default"].postMessage({height:(0,l["default"])(".wrapper").outerHeight(!0)+30})},componentWillUnmount:function(){(0,l["default"])(d["default"].findDOMNode(this.refs.password)).off("keydown",this.handleKeyPreventDefault)},handleStateChange:function(e){"passwordValid"===e.type&&this.setState({valid:e.data})},handleRefresh:function(){return I?void(window.location.href=v["default"].updateUrl(window.location.href)):void location.reload()},handleImageLoad:function(){setTimeout(function(){S["default"].postMessage({height:(0,l["default"])(".wrapper").outerHeight(!0)+30})},100)},handleKeyPreventDefault:function(e){13===e.which&&e.preventDefault()},handleKeySubmitPassword:function(e){this.setState({valid:!1});var t=e.keyCode||e.which;13===t&&(e.preventDefault(),this.handleSubmitPassword())},handleSubmitPassword:function(){var e=d["default"].findDOMNode(this.refs.password).value;e?b["default"].validPassword(e):this.setState({valid:"required"})},_getAfterSubmitImage:function(){var e=this.props.settings,t=e.asImage||{},a=null;return e.asIsDefaultImg||(t.isLink&&t.linkUri?a=t.linkUri:!t.isLink&&t.imageUri&&(a=t.imageUri)),a},handleViewStatistics:function(){location.href="r.php?t="+(S["default"].token()||"")},handleViewSubmitData:function(){location.href="r.php?t="+(S["default"].token()||"")+"&s=2"},renderFeedbackResult:function(){var e=this.props.settings,t=S["default"].getStyle().bodyStyle||{},a=null;if(e&&e.asIsShowFeedbackResult){var n=0!==e.isShowStatistics,i=null,l=0!==e.isShowData,r=null,s=null;n&&(i=o["default"].createElement("div",{className:"fb_frStatistics",onClick:this.handleViewStatistics},o["default"].createElement("p",{className:"fb_frIcon"}),o["default"].createElement("p",{className:"fb_frTitle",style:{color:t.titleColor}},_.lang.asStatisticsView))),l&&(r=o["default"].createElement("div",{className:"fb_frData",onClick:this.handleViewSubmitData},o["default"].createElement("p",{className:"fb_frIcon"}),o["default"].createElement("p",{className:"fb_frTitle",style:{color:t.titleColor}},_.lang.asFormSubmitView))),n&&l&&(s=o["default"].createElement("div",{className:"fb_frBorder"})),a=o["default"].createElement("div",{className:"fb_ssItem feedbackResult",key:"feedbackResult"},i,s,r)}return a},preRenderNeedPasswordComponent:function(){var e=null;"error"===this.state.valid&&(e=o["default"].createElement("p",{key:"errorTips",className:"fbc_errorTips"},_.lang.errAccessPassword));var t=o["default"].createElement("div",{key:"input",className:"fb_ssItem input"},o["default"].createElement("input",{type:"password",className:(0,c["default"])("fbc_input",{error:this.state.valid}),autoComplete:!1,spellCheck:!1,ref:"password",onKeyUp:this.handleKeySubmitPassword})),a=o["default"].createElement("div",{key:"button",className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",onClick:this.handleSubmitPassword},_.lang.gConfirm));return{image:T+"images/form/err_passwordLimit.png",subTitle:_.lang.tAccessPassword,content:[e,t,a]}},preRenderBannedComponent:function(){return{image:T+"images/form/err_banned.png",title:_.lang.tBannedForm,subTitle:_.lang.tBannedFormDescribe}},preRenderFrozenComponent:function(){return{image:T+"images/form/err_banned.png",title:_.lang.tFrozenForm,subTitle:_.lang.tFrozenFormDescribe}},preRenderPauseComponent:function(){return{image:T+"images/form/err_pause.png",title:_.lang.tPauseForm,subTitle:_.lang.tPauseFormDescribe}},preRenderStoppedComponent:function(){return{image:T+"images/form/err_stopped.png",title:_.lang.tStoppedForm}},preRenderIPLimitedComponent:function(){var e=o["default"].createElement("div",{className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",href:"http://hk.mikecrm.com/ZN5fxQj"},_.lang.tIPLimitedSubmit));return{image:T+"images/form/err_wrongSLD.png",title:_.lang.tIPLimited,subTitle:this.props.isMobile?_.lang.tIPLimitedDescribeMobile||_.lang.tIPLimitedDescribe:_.lang.tIPLimitedDescribe,content:[e]}},preRenderWrongDNSComponent:function(){return{image:T+"images/form/err_stopped.png",title:_.lang.tWrongDNSTitle}},preRenderNotNewestComponent:function(){var e=o["default"].createElement("div",{className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",onClick:this.handleRefresh},_.lang.tFormRefresh));return{image:T+"images/form/err_expired.png",title:_.lang.tNotNewestForm,subTitle:_.lang.tNotNewestFormDescribe,content:[e]}},preRenderWrongSLDComponent:function(){var e=o["default"].createElement("div",{className:"fb_ssItem link"},o["default"].createElement("a",{className:"fbc_link",href:"http://"+(window._CL_SLD||"www")+".mikecrm.com/"+S["default"].token()},"http://"+(window._CL_SLD||"www")+".mikecrm.com/"+S["default"].token()));return{image:T+"images/form/err_wrongSLD.png",title:_.lang.tWrongSLDTitle,subTitle:_.lang.tWrongSLDDescribe,content:[e]}},preRenderUnstartComponent:function(){var e=this.props.settings,t=(0,h["default"])().time(),a=null;if(this.usableTimeFromTime-t<=864e5&&this.usableTimeFromTime-t>0){var n=Math.floor((this.usableTimeFromTime-t)/1e3),i=n%60,l=(n-i)/60,r=l%60,s=(l-r)/60%24;a=o["default"].createElement("div",{className:"fb_ssItem openTime",key:"runTimer"},o["default"].createElement("p",{className:"fb_ssTimeGuide"},_.lang.tStartCountdown),o["default"].createElement("p",{className:"fb_ssTime"},_.lang.tCountdownTimerFunc({hour:v["default"].leftPad(s,0,2),minutes:v["default"].leftPad(r,0,2),seconds:v["default"].leftPad(i,0,2)})))}else a=o["default"].createElement("div",{className:"fb_ssItem openTime",key:"timer"},o["default"].createElement("p",{className:"fb_ssTimeGuide"},_.lang.tStartHint),o["default"].createElement("p",{className:"fb_ssTime"},(0,h["default"])(e.usableTimeFrom).getFullDateTime()));return{image:T+"images/form/err_timeLimit.png",title:e.usableTimeTextBefore||_.lang.tCollectionNotStarted,content:[a]}},preRenderTimeStoppedComponent:function(){var e=this.props.settings,t=v["default"].parseURL(location.url),a=location.protocol+"//"+t.host+"/"+S["default"].token()+"?iro=1",n=o["default"].createElement("div",{className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",href:a},_.lang.tFormView));return{image:T+"images/form/err_numLimit.png",title:e.usableTimeTextAfter||_.lang.tCollectionFinished,content:[this.renderFeedbackResult(),n]}},preRenderDayTimeUnstartComponent:function(){var e=this.props.settings,t=(e.usableTimeDailyFrom||"00:00:00").split(":"),a=(e.usableTimeDailyTo||"23:59:59").split(":");t.pop(),a.pop();var n=o["default"].createElement("div",{className:"fb_ssItem dayTime"},o["default"].createElement("p",{className:"fb_ssTimeGuide"},_.lang.tCollectionPeriod),o["default"].createElement("p",{className:"fb_ssTime"},t.join(":")+" ~ "+a.join(":")));return{image:T+"images/form/err_timeLimit.png",title:e.usableTimeTextBefore||_.lang.tCollectionNotStarted,content:[n]}},preRenderDayTimeStoppedComponent:function(){var e=this.props.settings,t=(e.usableTimeDailyFrom||"00:00:00").split(":"),a=(e.usableTimeDailyTo||"23:59:59").split(":");t.pop(),a.pop();var n=o["default"].createElement("div",{className:"fb_ssItem dayTime"},o["default"].createElement("p",{className:"fb_ssTimeGuide"},_.lang.tCollectionPeriod),o["default"].createElement("p",{className:"fb_ssTime"},t.join(":")+" ~ "+a.join(":")));return{image:T+"images/form/err_timeLimit.png",title:e.usableTimeTextAfter||_.lang.tCollectionFinished,content:[n]}},preRenderFullEntryComponent:function(){var e=this.props.settings,t=v["default"].parseURL(location.url),a=location.protocol+"//"+t.host+"/"+S["default"].token()+"?iro=1",n=o["default"].createElement("div",{className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",href:a},_.lang.tFormView));return{image:T+"images/form/err_numLimit.png",title:e.mensurableSubmitText||_.lang.tCollectionFull,content:[this.renderFeedbackResult(),n]}},preRenderRepeatSubmitComponent:function(){var e=this.props.settings,t=v["default"].parseURL(location.url),a=location.protocol+"//"+t.host+"/"+S["default"].token()+"?iro=1",n=o["default"].createElement("div",{className:"fb_ssItem button"},o["default"].createElement("a",{className:"fbc_button",href:a},_.lang.tFormView));return{image:T+"images/form/err_submitLimit.png",title:(e.isOnlySubmitPerDay?e.onlySubmitPerDayText||_.lang.tSubmittedToday:"")||(e.isOnlySubmit?e.onlySubmitText:"")||_.lang.tAlreadySubmitted,content:[this.renderFeedbackResult(),n]}},preRenderSubmitError:function(){return{image:T+"images/form/err_submitError.png",title:_.lang.tSubmitErrorTitle,subTitle:_.lang.tSubmitErrorDescribe}},render:function(){var e=this.props,t=S["default"].getStyle().bodyStyle||{},a=null;switch(+e.errorCode){case-801:a=this.preRenderBannedComponent();break;case-802:a=this.preRenderFrozenComponent();break;case-803:a=this.preRenderPauseComponent();break;case-804:a=this.preRenderStoppedComponent();break;case-80001:a=this.preRenderIPLimitedComponent();break;case-810:a=this.preRenderWrongDNSComponent();break;case-811:a=this.preRenderNotNewestComponent();break;case-812:a=this.preRenderWrongSLDComponent();break;case-820:a=this.preRenderNeedPasswordComponent();break;case-822:a=this.preRenderUnstartComponent();break;case-823:a=this.preRenderTimeStoppedComponent();break;case-824:a=this.preRenderDayTimeUnstartComponent();break;case-825:a=this.preRenderDayTimeStoppedComponent();break;case-826:a=this.preRenderFullEntryComponent();break;case-827:a=this.preRenderRepeatSubmitComponent();break;case-2:default:a=this.preRenderSubmitError()}return a?o["default"].createElement("div",{className:"fb_secondaryStatus"},o["default"].createElement("div",{className:"fb_ssItem image"},o["default"].createElement("img",{className:"fb_ssImg",src:a.image,onLoad:this.handleImageLoad})),o["default"].createElement("div",{className:"fb_ssItem text",key:"tips"},o["default"].createElement("p",{className:"fb_ssTitle",style:{color:t.titleColor}},a.title),o["default"].createElement("p",{className:(0,c["default"])("fb_ssSubTitle",{error:"required"==this.state.valid})},a.subTitle)),a.content):(m["default"].error("no fit error type",e),null)}}),e.exports=t["default"]},function(e,t,a){(function(n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function r(){return ye}function o(e){return function(t){if(Ce){var a=G.formStore.getState(),n=G.utils.getCacheFilling(a.data);R["default"].isEmpty(n)||e(JSON.stringify(n))}}}function s(){return'<div class="mask" id="ckiMask"><div class="checkInAuth popInnerAnimation"><div class="cki_content"><p class="cki_tips">'+G.lang.ckiAuthGuide+'</p></div><div class="cki_operate"><a class="fbc_button cki_no">'+G.lang.ckiAuthNo+'</a><a class="fbc_button cki_yes" name="auth">'+G.lang.ckiAuthYse+"</a></div></div></div>"}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return'<div class="mask" id="captchaMask"><div class="captcha popInnerAnimation"><div class="cpt_content"><img class="cpt_img" src="'+e+'" title="'+G.lang.fCaptchaChangeTips+'" ><p class="cpt_tips'+("error"===t?" error":"")+'">'+G.lang.fCaptchaTips+'</p><div class="cpt_inputWrapper fbc_input'+("error"===t?" error":"")+'"><input class="cpt_input fbi_input" />'+("succeed"===t?'<i class="iconfont cpt_icon succeed">'+String.fromCharCode(59173)+"</i>":"")+("error"===t?'<i class="iconfont cpt_icon error">'+String.fromCharCode(58982)+"</i>":"")+'</div></div><div class="cpt_operate"><a class="fbc_button cpt_confirm">'+G.lang.gConfirm+"</a></div></div></div>"}function u(e,t,a){function i(e){r>5||(r++,ce.post(Fe,{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:{t:G.utils.token()}})}}).done(function(t){0===t.r&&(e.src=G.utils.QR(!0,+new Date))}))}if(!G.utils.token()||"null"===G.utils.token()){var l="images/form/icon_weChat.png";return"cn"===window._SLD&&(l=location.protocol+ne["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/icon_weChat.png"),'<div class="mask '+e+'" id="'+e+'"><div class="scanner popInnerAnimation"><div class="scannerGuide"><img class="scannerWeChatIcon" src="'+l+'" /><p class="scannerDes">'+G.lang.errNoTokenShareImage+"</p></div></div>"}var r=0;n.MKGetQR=null,n.MKGetQR=R["default"].throttle(i,1e3);var o="images/form/icon_weChat.png";return"cn"===window._SLD&&(o=location.protocol+ne["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/icon_weChat.png"),'<div class="mask '+e+'" id="'+e+'"><div class="scanner popInnerAnimation"><img class="scannerQRCode" src="'+t+'" onerror="MKGetQR(this)"/><div class="scannerGuide"><img class="scannerWeChatIcon" src="'+o+'" /><p class="scannerDes">'+a+"</p></div></div>"}function c(){ye!==pe&&ye!==he||(Ne.css("overflow","hidden").on("click.closeShare","#shareMask",function(){(0,W["default"])("#shareMask").remove(),Ne.css("overflow-y","auto").off("click.closeShare"),ke.removeClass("form-disabled")}),Te.after(u("shareMask",G.utils.QR(!0),G.lang.sShareFormDis)),ke.addClass("form-disabled"))}function f(){ye!==he&&ye!==ge||(_e.css({overflow:"hidden",width:"100%",height:"100%"}).bind("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),Me.css({overflow:"hidden",width:"100%",height:"100%"}),Te.after(u("",G.utils.QR(!0),G.lang.errOnlyInWeChat)),ke.addClass("form-disabled"))}function h(e,t){if(ye===he||ye===ge){var a="#captchaMask",n=!1,i=null;Ne.css("overflow","hidden").on("captchaFin",function(){(0,W["default"])(a).remove(),Ne.css("overflow-y","auto").off("captchaFin").off(".captchaEvent")}).on("input.captchaEvent propertychange.captchaEvent",a+" .cpt_input",function(e){var t=(0,W["default"])(this),n=(0,W["default"])(a),l=t.val();G.utils.setCaptchaData(l),i!==l&&(n.find(".cpt_icon").remove(),n.find(".cpt_tips").removeClass("error"),n.find(".cpt_inputWrapper").removeClass("error")),4===l.length&&i!==l&&G.formStore.checkCaptcha(G.utils.getCaptchaToken(),l).done(function(e){0===e.r?t.after('<i class="iconfont cpt_icon succeed">'+String.fromCharCode(59173)+"</i>"):(n.find(".cpt_inputWrapper").addClass("error"),t.after('<i class="iconfont cpt_icon error">'+String.fromCharCode(58982)+"</i>"))}),i=l}).on("click.captchaEvent",a+" .cpt_img",function(){i=null,G.utils.setCaptchaToken(null),G.utils.setCaptchaData(null),(0,W["default"])(a+" .cpt_input").val(""),(0,W["default"])(a).find(".cpt_icon").remove();var e=(0,W["default"])(this);G.formStore.generateCaptcha().then(function(t){G.utils.setCaptchaToken(t.t),e.attr("src","data:image/png;base64,"+t.img)})}).on("click.captchaEvent",a+" .cpt_confirm",function(){if(!n)if(G.utils.getCaptchaData())n=!0,t();else{var e=(0,W["default"])(a);e.find(".cpt_tips").addClass("error"),e.find(".cpt_inputWrapper").addClass("error")}}),Te.after(d(e))}}function p(){ye===he&&(Ne.css({overflow:"hidden",width:"100%",height:"100%"}).on("click.opeCheckInAuth",".fbc_button",function(e){(0,W["default"])("#ckiMask").remove(),Ne.css("overflow-y","auto").off("click.closeShare"),ke.removeClass("form-disabled"),"auth"===e.target.name&&G.formStore.wxAuth()}),Me.css({overflow:"hidden",width:"100%",height:"100%"}),Te.after(s()))}function m(){if(!Re&&!Ae){G.formStore.dispatch({type:"savingForm"}),G.formStore.dispatch({type:"submitValid",aria:We}),We=!1;var e=G.formStore.getState();if(Ce=!1,e.valid&&!R["default"].isEmpty(e.valid))return Ce=!0,G.formStore.dispatch({type:"endSubmit"}),void G.formStore.dispatch({type:"submitFailLocate"});G.utils.formCacheId()&&!R["default"].isEmpty(G.utils.getCacheFilling(e.data))&&$e(JSON.stringify(G.utils.getCacheFilling(e.data))),Re=!0;var t=e.data;Be=t;var a=!0;G.utils.getFormCaptcha()&&(a=new Promise(function(e){G.formStore.generateCaptcha().then(function(t){G.utils.setCaptchaToken(t.t),h("data:image/png;base64,"+t.img,function(){e()})})})),Promise.resolve(a).then(function(){var e=G.formStore.getFiles(),a=!1,n=(0,W["default"])("#submitWorker"),i=G.utils.getSubmitData(t);if(window.IN_WECHAT&&(i.cvs.c.ext||(i.cvs.c.ext={}),i.cvs.c.ext.cashier)){var l=v(t);i.cvs.c.ext.jp={rdu:l}}n.length>0&&!R["default"].isEmpty(e)&&(se?!function(){n=(0,W["default"])("#submitFrame");var t=(0,W["default"])('<input type="hidden" name="d" >').insertBefore(".submit").val(JSON.stringify(i));n.on("load",function(e){t.remove();var a=n.contents().find("body").html();try{b(JSON.parse(a))}catch(e){C()}}),R["default"].forEach(e,function(e,t){var a=(0,W["default"])("#"+t);a.length>0&&!function(){var n=0;R["default"].forEach(e.fileList,function(e,i){a.find('[data-idx="'+i+'"]').attr("name","ATTA_"+t+"_"+n),n++})}()}),a=!0,Te.submit()}():!function(){var t=[],l=[];R["default"].forEach(e,function(e,a){var n=0;R["default"].forEach(e.fileList,function(e,i){t.push(e),l.push("ATTA_"+a+"_"+n),n++})}),R["default"].isEmpty(t)||(a=!0,n.fileupload("send",{files:t,paramName:l,url:Le,formData:{d:JSON.stringify(i)}}).success(b))}()),a||ce.post(Le,{hideErrorAlert:!0,data:{d:JSON.stringify(i)}}).done(b).fail(function(e){C()})})}}function g(){var e=ze+"_"+G.utils.token();if(G.utils.getSettings("isOnlySubmitPerDay")){var t=new Date;t.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),t.setHours(23,59,59,100),(0,Y.setCookie)(e,1,{domain:ue,expires:t,isExpiresDate:!0,path:"/"}),Qe[G.utils.token()]=t.getTime(),z["default"].set(ze,JSON.stringify(Qe))}else if(G.utils.getSettings("isOnlySubmit")){(0,Y.setCookie)(e,2,{domain:ue,expires:Ue,path:"/"});var a=new Date;a.setDate(a.getDate()+Ue+1),a.setHours(0,0,0,0),Qe[G.utils.token()]=a.getTime(),z["default"].set(ze,JSON.stringify(Qe))}}function v(e){var t=G.utils.getSettings(),a=null;return 2===t.afterSubmitPage&&(t.asIsJumpToLuxury&&R["default"].forEach(t.asJumpToLuxury,function(t,n){if(e[n]){var i=G.utils.getComponents(n),l=R["default"].find(i.options,{sId:e[n][0]});l&&(a=t[l.pid||l.id])}}),a||(a=t.asJumpTo||null)),a?(0,Y.linkify)(a):null}function y(e){var t=G.utils.getSettings(),a=e.link,n=e.randomCode,i=e.ticketValidationCode,l=e.ticketValidationQR;if(a){var r=function(){var e=G.lang.asSubmitSucceed;t.asTextTitle&&(e=R["default"].escape(t.asTextTitle));var n='<div class="mask maskJumpInfo" id="submitJump"><div class="mj_content popInnerAnimation"><div class="mj_img"></div><p class="mj_succeedTips">'+e+'</p><div class="mj_jumpTips"><p class="mj_jtTitle mj_jtBLink">'+G.lang.succeedJumpTips({sec:3})+'</p><p class="mj_jtInfo">'+a+"</p>";"ja"===G.currentLang?n+='<p class="mj_jtTitle mj_jtALink">へ移動する</p>':"ru"===G.currentLang?n+='<p class="mj_jtTitle mj_jtALink">через 3 с.</p>':"it"===G.currentLang&&(n+='<p class="mj_jtTitle mj_jtALink">tra 3 secondi</p>'),n+="</div></div></div>",Te.after(n),(0,W["default"])(".ie8").length>0?(0,W["default"])("html").addClass("ie8noscroll"):(0,W["default"])("html").addClass("noscroll"),ke.addClass("form-disabled");
var i=(0,Z["default"])().time(),l=(0,W["default"])("#submitJump").find(".mj_jtBLink");"ru"!==G.currentLang&&"it"!==G.currentLang||(l=(0,W["default"])("#submitJump").find(".mj_jtALink"));var r=setInterval(function(){var e=(0,Z["default"])().time(),t=Math.max(Math.ceil(He-(e-i)/1e3),0);"ru"===G.currentLang?l.text("через "+t+" с."):"it"===G.currentLang?l.text("tra "+t+" secondi"):l.text(G.lang.succeedJumpTips({sec:t}))},300);return setTimeout(function(){clearInterval(r),Ae=!0,(0,W["default"])("#submitJump").remove(),(0,W["default"])("html").removeClass("noscroll").removeClass("ie8noscroll"),ke.removeClass("form-disabled"),De&&De.topFrameLocationHref&&Y.inIframe?window.top.location.href=a:location.href=a},1e3*He),{v:void 0}}();if("object"===("undefined"==typeof r?"undefined":L(r)))return r.v}Ae=!0,V["default"].unmountComponentAtNode(_e[0]),V["default"].unmountComponentAtNode(Ee[0]);var o=(0,W["default"])(".main"),s="is-emptyTail";o.removeClass(s),V["default"].render(U["default"].createElement(G.Succeed,{settings:t,isMobile:xe,randomCode:n,ticketValidationCode:i,ticketValidationQR:l}),_e[0]),t&&0!==t.asIsShowButton&&V["default"].render(U["default"].createElement(Q["default"],{isMobile:xe}),Ee[0])}function b(e){if(Ve={},Ne.trigger("captchaFin"),0!==e.r)return e.r===-850?(G.formStore.dispatch({type:"optionQuotaError",errorInfo:[].concat(e.e)}),Ce=!0,Re=!1):e.r===-851?(G.formStore.dispatch({type:"commodityQuotaError",errorInfo:[].concat(e.e)}),Ce=!0,Re=!1):e.r===-852?(G.formStore.dispatch({type:"duplicateDataError",errorId:e.e}),Ce=!0,Re=!1):e.r===-828?(G.formStore.dispatch({type:"MobileValidEmpty",errorId:G.utils.getValidMobile()}),Ce=!0,Re=!1):e.r===-829?(G.formStore.dispatch({type:"MobileValidCodeError",errorId:G.utils.getValidMobile()}),Ce=!0,Re=!1):e.r===-830?(Ce=!0,Re=!1,m()):E(e.r,xe),void G.formStore.dispatch({type:"endSubmit"});Re=!1,z["default"].remove(G.utils.formCacheId()),e.randomCode&&(Ve.randomCode=e.randomCode);var t=e.ext&&e.ext.ftkv;if(t){var a=e.ext.ftkv;Ve.tkvCode=a.code,Ve.tkvQrUrl=a.qrUrl}if(e.cashier){var n=R["default"].assign({},e.cashier);if(window.IN_WECHAT){if(n.inWechat=!0,n.redirectUrl=v(Be),n.randomCode=e.randomCode||null,t){var i=e.ext.ftkv;n.tkvCode=i.code,n.tkvQrUrl=i.qrUrl}n.t=G.utils.token()}G.formStore.dispatch({type:"cashierInfo",data:n})}else S(Be,Ve);G.formStore.dispatch({type:"endSubmit"})}function C(){te["default"].error("unkown error..",arguments)}function S(e,t){g();var a=v(e);y({link:a,randomCode:t.randomCode,ticketValidationCode:t.tkvCode,ticketValidationQR:t.tkvQrUrl})}function _(){S(Be,Ve)}function E(e,t){V["default"].unmountComponentAtNode(Ee[0]),[-52,-801,-802,-888,-840,-841].indexOf(e)>-1?(Ne.css("backgroundColor","#FAFAFA"),V["default"].render(U["default"].createElement(G.HugeErrorHandler,{errorCode:e,isMobile:t}),ke[0])):V["default"].render(U["default"].createElement(G.ErrorHandler,{errorCode:e,settings:G.utils.getSettings(),isMobile:t}),_e[0])}function w(){"onresize"in window&&Me.on("resize.windowResize",je),"onorientationchange"in window&&Me.on("orientationchange.windowResize",function(e){je(),setTimeout(function(){je()},600)}),(0,W["default"])(document).on("drop dragover",function(e){return e.preventDefault(),!1}),(0,W["default"])(".handleForm").on("drop dragover",function(e){return e.preventDefault(),!1}),ye===he?Se.on("click.submit","#form_submit",m).on("keydown.submit","#form_submit",function(e){var t=this;13!==e.which&&32!==e.which||((0,W["default"])(this).blur(),We=!0,m(),setTimeout(function(){(0,W["default"])(t).focus()},10))}).on("form-submit",m).on("click.share",".f_shareBtn",c):ye===pe&&Se.on("click.share",".f_shareBtn",c)}function N(e){var t=(G.utils.getStyle("themeColor")||"#2D8FD9").toUpperCase();if(t&&"#2D8FD9"!==t){var a=re["default"].convertToRGBObj.fromHex(t),n=[];n.push(".fb_tvGuide, .fbc_optionSvg.selected, .fbc_optionSvg:hover, .fbc_optionVal:hover .fbc_optionSvg{color:"+t+";}"),n.push(".fbc_commodityPrice, .fbc_dtIcon, .fbc_paImgState, .fbc_descriptionLink, .fbc_descriptionLink:visited, .fbc_foldBtn, .fbc_foldBtn:visited, .fbc_commodityNameJump:hover, .lg-countpicker-reduce, .lg-countpicker-increase, .fbc_addIcon:hover, .fbc_addIcon:active{color:"+t+";}"),n.push(".fbc_input:focus, .fbc_input.is_focus, .fbc_tabularInput:focus, .fbc_tabularInput.is_focus, .fbc_select.focus, .fbc_selectList, .fbc_paItem:hover, .fbc_uploadFile:hover,  .fbc_dtDropWrapper, .calendar_bDayItem .current-month.selected,.fbc_roItem.dragging, .lg-countpicker-reduce:hover, .lg-countpicker-increase:hover{border-color:"+t+";}"),n.push(".fbc_raHovered .fbc_raGroove{color:"+t+";background-color:rgba("+a.r+", "+a.g+", "+a.b+", 0.5);}.fbc_raItem.has-value .fbc_raNum, .fbc_raNum.has_value, .fbc_raHovered .fbc_raNum, .fbc_raFilled .fbc_raNum, .fbc_raFilled.fbc_raHovered .fbc_raNum, .lg-countpicker-reduce:active, .lg-countpicker-increase:active, .fbc_pccDot.active, .fbc_numItem.numSelected{background-color:"+t+";}"),n.push(".fbc_selectLi:hover, .calendar_switcher, .fb_ticketValidation, .fb_tvDecorate:before, .fb_tvDecorate:after{background-color:"+t+";}"),n.push(".fbc_selectLi.fbc_currentSelected, .calendar_hTitle, .calendar_hDecrease, .calendar_hIncrease, \n\t.calendar_hTitle.canSwitch .hasTopLayer, .calendar_bDayItem.current-month:hover, .calendar_bDayItem.current-month:hover a, \n\t.calendar_bDayItem.current-month:hover a:hover, .calendar_bDayItem.current-month:hover a:visited, \n\t.calendar_bDayItem.current-month.selected, .calendar_bDayItem.current-month.selected a, \n\t.fb_tvBorder, .calendar_bDayItem.current-month.selected a:hover, .calendar_bDayItem.current-month.selected a:visited{color:"+t+";border-color:"+t+";}\n\t.fbc_button.calendar_confirm,.calendar_cancel:active{background-color:"+t+";}\n\t.calendar_bDayItem.today{background-color:rgba("+a.r+", "+a.g+", "+a.b+", 0.5);}\n\t.calendar_cancel, .calendar_typeItem:hover .calendar_typeTitle, .calendar_typeItem.selected .calendar_typeTitle{color:"+t+";}.calendar_cancel:hover{border-color:"+t+";}"),e&&(n.push(".fbc_picOptionsChecked, .fbc_staticMap:hover{border-color:"+t+";box-shadow-color:"+t+";}"),n.push(".fbc_select .fbc_innerSelect:focus{box-shadow-color:"+t+";}"),n.push(".fbc_tabularInput.fbc_input, .fbc_tabularInput:focus{box-shadow-color:"+t+";}"));var i=Pe?(0,W["default"])(Pe).find("#formStyle"):(0,W["default"])("#formStyle");0===i.length?(Pe?(0,W["default"])(Pe).find("head"):(0,W["default"])("head")).append('<style id="formStyle" type="text/css">'+n.join("\n")+"</style>"):i.html(n.join("\n"))}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=G.utils.getStyle(),n=a.bodyStyle,i={};if((!e||n&&null!=n.bgOpacityValue&&R["default"].isNumber(n.bgOpacityValue)&&n.bgOpacityValue<1)&&a.background){switch(i.backgroundImage="url("+a.background+")",e&&(i.backgroundImage="url("+a.optBackground+")"),i.backgroundPosition="center center",i.backgroundRepeat="no-repeat",a.bgLayoutHorizontal||6){case 3:i.backgroundRepeat="repeat-x";break;case 4:i.backgroundSize="100% auto";break;case 5:i.backgroundPositionX="left";break;case 7:i.backgroundPositionX="right";break;case 6:default:i.backgroundPositionX="center"}switch(a.bgLayoutVertical||6){case 3:i.backgroundRepeat="repeat-y";break;case 4:i.backgroundSize="auto 100%";break;case 8:i.backgroundPositionY="top";break;case 9:i.backgroundPositionY="bottom";break;case 6:default:i.backgroundPositionY="center"}a.bgLayoutHorizontal===a.bgLayoutVertical&&(3===a.bgLayoutVertical?i.backgroundRepeat="repeat":4===a.bgLayoutVertical&&(i.backgroundSize="cover"));var l=!1;te["default"].log("---> mode",ye,e),!e||ye!==he&&ye!==ge&&ye!==me&&ye!==ve||(l=!0),a.backgroundFixed||l?(i.overflowY=e?"scroll":"hidden",Te.addClass("coverForm")):Te.removeClass("coverForm"),i.backgroundSize&&!e&&oe&&("cover"===i.backgroundSize||i.backgroundSize.indexOf("100%")>=0)&&(i.backgroundImage=null,i.backgroundSize=null,(0,W["default"])(".bg_ly").remove(),Se.before('<img class="bg_ly" src="'+a.background+'" width="100%" height="100%" style="position: absolute; left: 0; right: 0;top: 0;bottom: 0; z-index: 0;">')),l?(0!==(0,W["default"])(".bg_ly").length&&(0,W["default"])(".bg_ly").remove(),Te.before('<div class="bg_ly" style="position: fixed; left: 0; right: 0;top: 0;bottom: 0; z-index: -1;background-image:'+i.backgroundImage+";"+(i.backgroundSize?"background-size:"+i.backgroundSize+";":"")+"background-repeat:"+i.backgroundRepeat+"; background-position: "+i.backgroundPosition+";"+(i.backgroundPositionX?"background-position-x:"+i.backgroundPositionX+";":"")+(i.backgroundPositionY?"background-position-y:"+i.backgroundPositionY+";":"")+'transform: translate3d(0,0,-1px);overflow: scroll;"></div>'),i.backgroundImage=null,i.backgroundSize=null):(0,W["default"])(".bg_ly").remove()}if(t)i.backgroundColor="transparent";else if(a.bgColor){var r=new le.OColor(a.bgColor);i.backgroundColor=r.getHEX()}var o={};if(n&&(n.bgColor||null!=n.bgOpacityValue&&1!==n.bgOpacityValue)&&(n.bgColor&&(o.backgroundColor=n.bgColor),1!==n.bgOpacityValue)){var s=new le.OColor(n.bgColor||"#ffffff");s.set("a",n.bgOpacityValue),o.zoom=1,oe?(o.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+s.getIEFullHEX()+", endColorstr="+s.getIEFullHEX()+")",o["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+s.getIEFullHEX()+"', endColorstr='"+s.getIEFullHEX()+"')",o.backgroundColor="transparent"):o.backgroundColor=s.getRGBA()}te["default"].log("decorator"),te["default"].log(i,o,Ne.data("hasSet"),_e.data("hasSet")),R["default"].isEmpty(i)||Ne.data("hasSet")||(Ne.data("hasSet","1"),Ne.css(i)),R["default"].isEmpty(o)||_e.data("hasSet")||(_e.data("hasSet","1"),_e.css(o)),a&&a.headerStyle&&0===a.headerStyle.bgOpacityValue&&n&&0===n.bgOpacityValue&&a.submitStyle&&0===a.submitStyle.bgOpacityValue&&Se.css({boxShadow:"0 0 0"})}function I(e){Se.trigger("viewRender",e)}function T(){Se.bind("viewRender",function(e,t,a){N(t),k(t,(a||{}).opacityBg);var n=void 0,i=!1;if(n=G.utils.getStyle("bgColor")||null){var r=re["default"].convertToRGBObj.fromHex(n);i=re["default"].colorGrayLevel(r.r,r.g,r.b)<170}G.header.render(Se);var o=G.utils.JHR();if(0===o||ye!==he&&ye!==ge&&ye!==ve)if(ye===ve){G.utils.formInfoInit(),g();var s=(0,Y.parseURL)(location.href),d=decodeURIComponent(s.params.rc||""),u=decodeURIComponent(s.params.rdu||""),c=decodeURIComponent(s.params.tkvc||""),f=decodeURIComponent(s.params.tkvqr||"");y({link:u,randomCode:d,ticketValidationCode:c,ticketValidationQR:f}),V["default"].unmountComponentAtNode(we[0]),G.copyright.render(we,i)}else{if(G.utils.formInfoInit(),ye!==me&&ye!==ge){var h="images/form/form_shareQr.png";"cn"===window._SLD&&(h=location.protocol+ne["default"].CDN_PATH_WITHOUT_PROTOCOL+"images/form/form_shareQr.png"),0===G.utils.getSettings("isShowShare")||0!==(0,W["default"])(".f_shareBtn").length||t||Se.append('<a class="f_shareBtn '+(i?"f_shareLight":"")+'" title="'+G.lang.sShareBtnTitle+'"><img src="'+h+'" ></a>')}if(ye!==ge||Je||(0,W["default"])("body").addClass("readOnly").prepend('<p class="form_globalTips">'+G.lang.tFormViewTIps+"</p>"),ye===he){if(qe)try{G.utils.setDefaultValue(JSON.parse(qe)),G.formStore.setDefaultFillingData()}catch(e){te["default"].error(e)}G.formStore.setUvdData();var p=G.utils.getParamsDt();if(p&&!R["default"].isEmpty(p)){var m=p.foc,v=l(p,["foc"]);try{G.utils.setDefaultValue(v),G.formStore.setDefaultFillingData(m)}catch(e){te["default"].error(e)}}G.utils.hasAttachmentComponent()&&(se?Te.attr({id:"submitWorker",action:Le,target:"submitFrame",method:"post"}).append('<iframe id="submitFrame" name="submitFrame" class="f_submitWorker"/>'):(Te.append('<input type="file" id="submitWorker" class="f_submitWorker"/>'),(0,W["default"])("#submitWorker").fileupload({dataType:"json",replaceFileInput:!0,multiple:!0,progressall:function(e,t){var a=+(t.loaded/t.total*100);G.formStore.dispatch({type:"savingForm",progress:a})}})))}G.formStore.setIpLoc(),G.body.render(_e),V["default"].unmountComponentAtNode(Ee[0]),G.submit.render(Ee),V["default"].unmountComponentAtNode(we[0]),G.copyright.render(we,i),Me.trigger("$$stickyUpdate")}else G.utils.formInfoInit(),E(o,t),[-52,-801,-802,-888,-840,-841].indexOf(o)===-1&&(V["default"].unmountComponentAtNode(we[0]),G.copyright.render(we,i))}).on("paymentSucceed",_)}function M(e){var t=G.utils.formCacheId(),a=void 0,n=void 0,i=void 0;t&&(a=z["default"].get(t))?z["default"].remove(t):a=null,(n=z["default"].get(ze))?!function(){n=JSON.parse(n),te["default"].log(n);var e={},t=(new Date).getTime();R["default"].forEach(n,function(a,n){t-a<=0&&(e[n]=a)}),n=e,z["default"].set(ze,JSON.stringify(n))}():n={},(i=z["default"].get(Ge))?z["default"].remove(Ge):i=null,$e=function(e){z["default"].set(G.utils.formCacheId(),e)},Xe=function(e){z["default"].set(Ge,e)};var l=e($e);return window.onbeforeunload=l,"onpagehide"in window&&(window.inIOSCache=!0,window.onpagehide=l,window.addEventListener("pagehide",function(){l()},!1),window.addEventListener("blur",function(){l()},!1),window.onunload=l),"onpageshow"in window&&(window.onpageshow=function(){Re||(Ae=!1,Re=!1,Ce=!0)}),Me.on("triggerSaveCache",l),{formCache:a,submitOnceInfoCache:n,pageReferrerCache:i}}function x(){var e=G.formStore.getState(),t=G.utils.getCacheFilling(e.data),a={};return R["default"].forEach(t,function(e,t){e&&!R["default"].isEmpty(e)&&(a[t]=e)}),JSON.stringify(a)}function D(){return{$scrollContainer:Ie,$window:Me,$container:ke,$wrapper:Ne,$form:Se,$body:_e,$submit:Ee,$copyright:we,$submitForm:Te}}function P(e){Ie=e.$scrollContainer,Me=e.$window,ke=e.$container,Ne=e.$wrapper,Se=e.$form,_e=e.$body,Ee=e.$submit,we=e.$copyright,Te=e.$submitForm}function O(e){function t(t){Pe=t,ye=e.setPageMode(),be=0!==G.utils.JHR(),be&&G.utils.JHR()===-840&&(ye=he),G.utils.setAsRaw(e.setRawInfo(),ye),de&&(ye=ge),te["default"].log(ye);var a=e.contentBinder(G.utils);if(P(a),Se.show(),ye===he&&!function(){var t=M(o),a=t.formCache,n=t.submitOnceInfoCache,i=t.pageReferrerCache;qe=a,Qe=n||{};var l=R["default"].assign({},Qe),r=((0,Y.getCookie)(ze.toLowerCase())||"").split(",");r&&R["default"].forEach(r,function(e){e&&!l[e]&&(l[e]=1)});var s=ze+"_"+G.utils.token();if((G.utils.getSettings("isOnlySubmitPerDay")||G.utils.getSettings("isOnlySubmit"))&&((0,Y.getCookie)(s)||l[G.utils.token()])){var d=(0,Y.getCookie)(s);d?1===+d&&G.utils.getSettings("isOnlySubmit")?g():2===+d&&G.utils.getSettings("isOnlySubmitPerDay")&&g():g(),be=!0,G.utils.updateRawInfo("JHR",-827)}i&&G.utils.setCacheReferrer(i),!G.utils.getSettings("isOnlyWeChat")||window.IN_WECHAT&&window.WC_JSAPI_PARAMS||(Je=!0,ye=ge,f()),G.utils.convertExtensions();var u=G.formExtends.getCheckIn();window.IN_WECHAT&&window.WC_JSAPI_PARAMS&&!G.utils.getVstWcState()&&u.isCheckIn&&u.info.ckiWeChat&&p(),e.setMessageIframe(function(){G.formStore.dispatch({type:"$$messenger"}),De=e.getPostSettings(),I([e.isMobile(),De])})}(),ye===he||ye===ge||ye===ve)try{e.setWechat()}catch(n){}w(),T(),I([e.isMobile(),e.getPostSettings()]),e.eventBind(),Me.trigger("triggerSaveCache")}n.MKIsMobile=e.isMobile;var a={isMobile:e.isMobile,getCurrentWidth:e.getCurrentWidth,getMode:r},i=R["default"].assign({getContent:D},a);return G.formStore.inject(R["default"].assign({updateRawInfo:e.updateRawInfo,setRawInfo:e.setRawInfo,getContent:D,getPostSettings:e.getPostSettings},a)),G.header.inject(a),G.body.inject(i),G.submit.inject(i),G.copyright.inject(a),G.utils.init(),xe=e.isMobile(),{init:t,dmwCheck:G.formStore.checkDMW,isMobile:e.isMobile(),updateContentBinder:P,__PRI_MK_GET_DT:x}}Object.defineProperty(t,"__esModule",{value:!0});var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=a(8),R=i(F),A=a(22),W=i(A),B=a(14),U=i(B),H=a(23),V=i(H),j=a(24),z=i(j),G=a(138),q=a(150),Q=i(q),X=a(25),J=i(X),Y=a(33),K=a(34),Z=i(K),ee=a(32),te=i(ee),ae=a(6),ne=i(ae),ie=a(29),le=(i(ie),a(50)),re=i(le);a(76),a(77),a(78),a(79);var oe=G.utils.isIE8,se=G.utils.isOldIE,de=G.utils._IS_IRO,ue=".mikecrm.com";n.jQuery=n.$=W["default"];var ce={ajax:J["default"].ajax,post:function(e,t){var a={url:e,type:"POST",dataType:"json"};return J["default"].ajax(W["default"].extend({mode:"abort"},t,a))},abort:J["default"].abort},fe=-1,he=1,pe=2,me=3,ge=4,ve=5,ye=fe,be=!1,Ce=!0,Se=void 0,_e=void 0,Ee=void 0,we=void 0,Ne=void 0,ke=void 0,Ie=void 0,Te=void 0,Me=void 0,xe=void 0,De=void 0,Pe=null,Oe="handler/web/form_runtime/",Le=Oe+"handleSubmit.php",Fe=Oe+"handleGenQr.php",Re=!1,Ae=!1,We=!1,Be=null,Ue=7,He=3,Ve={},je=R["default"].debounce(function(){Se.trigger("$$resize"),G.formStore.dispatch({type:"$$resize"})},200),ze="MKSO",Ge="MKFPR",qe=null,Qe={},$e=null,Xe=null,Je=!1;t["default"]=O,e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),l=n(i),r=a(9),o=a(50),s=a(30),d=n(s),u=a(33),c=(n(u),/micromessenger/i.test(window.navigator.userAgent));t["default"]=l["default"].createClass({displayName:"SucceedReturn.react",_getHrefUrl:function(){var e="",t=d["default"].getSettings();if("2"==t.asButtonLinkType&&t.asButtonLink)e=t.asButtonLink;else{var a="";if(c){var n=+new Date;a=location.pathname!==d["default"].token()?"?wechat_hash="+n:/wechat_hash/.test(location.search)?location.search.replace(/wechat_hash=\d+(&?)/,"wechat_hash="+n+"$1"):""==location.search?"?wechat_hash="+n:location.search+"&wechat_hash="+n}window._SST&&(a+=a?"&":"?",a+="sst="+window._SST),e=location.origin+"/"+d["default"].token()+a}return e},render:function(){var e=d["default"].getStyle(),t=d["default"].getSettings(),a=this.props.isMobile,n=e.submitStyle||{},i=["","left","center","right"],u={textAlign:i[n.btnAlign||2]};if(n.bgColor&&(u.backgroundColor=n.bgColor),null!=n.bgOpacity&&1!==n.bgOpacityValue){var c=new o.OColor(n.bgColor||"#ffffff");c.set("a",n.bgOpacityValue),u.backgroundColor=c.getRGBA(),u.zoom=1,s.isIE8&&(u.filter="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr="+c.getIEFullHEX()+", endColorstr="+c.getIEFullHEX()+")",u["-ms-filter"]="progid:DXImageTransform.Microsoft.gradient(GradientType=1,startColorstr='"+c.getIEFullHEX()+"', endColorstr='"+c.getIEFullHEX()+"')",u.backgroundColor="transparent")}if(n.background){u.backgroundImage="url("+n.background+")",u.backgroundPosition="center center",u.backgroundRepeat="no-repeat";var f=n.bgLayoutHorizontal||6,h=n.bgLayoutVertical||6;switch(f){case 3:u.backgroundRepeat="repeat-x";break;case 4:u.backgroundSize="100% auto";break;case 5:u.backgroundPositionX="left";break;case 7:u.backgroundPositionX="right";break;case 6:default:u.backgroundPositionX="center"}switch(h){case 3:u.backgroundRepeat="repeat-y";break;case 4:u.backgroundSize="auto 100%";break;case 8:u.backgroundPositionY="top";break;case 9:u.backgroundPositionY="bottom";break;case 6:default:u.backgroundPositionY="center"}3==f&&3==h&&(u.backgroundRepeat="repeat"),4==f&&4==h&&(u.backgroundSize="cover")}var p={width:"1"==n.isFormWith||this.props.isMobile?"100%":"auto",height:Math.floor(2.2*(n.submitFontSize||14))+(a?6:0),paddingTop:(n.submitFontSize||14)/2+(a?3:0),paddingBottom:(n.submitFontSize||14)/2+(a?3:0),paddingLeft:(n.submitFontSize||14)+6,paddingRight:(n.submitFontSize||14)+6,fontSize:n.submitFontSize,fontWeight:n.fontWeight?"bold":"normal",color:n.fontColor,background:n.btnColor};return l["default"].createElement("div",{className:"submit",style:u},l["default"].createElement("a",{className:"fb_submitBtn",style:p,href:this._getHrefUrl()},"asButtonText"in t?t.asButtonText||"":r.lang.gGoBack))}}),e.exports=t["default"]}]);